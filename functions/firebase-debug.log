[debug] [2020-01-29T21:06:32.686Z] ----------------------------------------------------------------------
[debug] [2020-01-29T21:06:32.691Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\v-chraro\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js serve
[debug] [2020-01-29T21:06:32.691Z] CLI Version:   7.12.1
[debug] [2020-01-29T21:06:32.691Z] Platform:      win32
[debug] [2020-01-29T21:06:32.691Z] Node Version:  v10.13.0
[debug] [2020-01-29T21:06:32.693Z] Time:          Wed Jan 29 2020 13:06:32 GMT-0800 (Pacific Standard Time)
[debug] [2020-01-29T21:06:32.694Z] ----------------------------------------------------------------------
[debug] [2020-01-29T21:06:32.694Z] 
[debug] [2020-01-29T21:06:32.720Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2020-01-29T21:06:32.721Z] > authorizing via signed-in user
[debug] [2020-01-29T21:06:32.722Z] [iam] checking project splitsbyspotify for permissions ["firebase.projects.get"]
[debug] [2020-01-29T21:06:32.724Z] >>> HTTP REQUEST POST https://cloudresourcemanager.googleapis.com/v1/projects/splitsbyspotify:testIamPermissions  

[debug] [2020-01-29T21:06:32.914Z] <<< HTTP RESPONSE 200
[debug] [2020-01-29T21:06:32.916Z] >>> HTTP REQUEST GET https://firebase.googleapis.com/v1beta1/projects/splitsbyspotify  
 
[debug] [2020-01-29T21:06:33.094Z] <<< HTTP RESPONSE 200
[info] 
[info] === Serving from 'C:\Users\v-chraro\Desktop\Github\splitsbyspotify'...
[info] 
[warn] !  Your requested "node" version "8" doesn't match your global version "10"
[info] +  functions: Emulator started at http://localhost:5000
[info] i  functions: Watching "C:\Users\v-chraro\Desktop\Github\splitsbyspotify\functions" for Cloud Functions...
[debug] [2020-01-29T21:06:34.656Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-01-29T21:06:34.656Z] [worker-pool] Adding worker with key ~diagnostic~, total=1
[debug] [2020-01-29T21:06:34.657Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-01-29T21:06:34.657Z] [worker-~diagnostic~-15894344-78ae-4dbd-8971-88642299323a]: Assigning socketPath: \\?\pipe\C:\Users\v-chraro\Desktop\Github\splitsbyspotify\functions\89860
[debug] [2020-01-29T21:06:34.658Z] [worker-~diagnostic~-15894344-78ae-4dbd-8971-88642299323a]: BUSY
[debug] [2020-01-29T21:06:36.119Z] [runtime-status] [89860] Functions runtime initialized. {"cwd":"C:\\Users\\v-chraro\\Desktop\\Github\\splitsbyspotify\\functions","node_version":"10.13.0"}
[debug] [2020-01-29T21:06:36.123Z] [runtime-status] [89860] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-01-29T21:06:36.133Z] [runtime-status] [89860] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"C:\\Users\\v-chraro\\Desktop\\Github\\splitsbyspotify\\functions\\node_modules\\firebase-admin\\lib\\index.js"}
[debug] [2020-01-29T21:06:36.138Z] [runtime-status] [89860] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"C:\\Users\\v-chraro\\Desktop\\Github\\splitsbyspotify\\functions\\node_modules\\firebase-functions\\lib\\index.js"}
[debug] [2020-01-29T21:06:36.141Z] [runtime-status] [89860] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"C:\\Users\\v-chraro\\Desktop\\Github\\splitsbyspotify\\functions\\node_modules\\firebase-functions\\lib\\index.js"}
[info] +  functions[api]: http function initialized (http://localhost:5000/splitsbyspotify/us-central1/api).
[debug] [2020-01-29T21:06:38.166Z] [worker-~diagnostic~-15894344-78ae-4dbd-8971-88642299323a]: IDLE
[debug] [2020-01-29T21:06:41.352Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-01-29T21:06:41.352Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-01-29T21:06:41.353Z] Accepted request POST /splitsbyspotify/us-central1/api/signup --> api
[debug] [2020-01-29T21:06:41.361Z] [worker-pool] addWorker(api)
[debug] [2020-01-29T21:06:41.361Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-01-29T21:06:41.361Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-01-29T21:06:41.361Z] [worker-api-78fbdec3-035b-4e2c-b510-10569bcffadf]: Assigning socketPath: \\?\pipe\C:\Users\v-chraro\Desktop\Github\splitsbyspotify\functions\37436
[debug] [2020-01-29T21:06:41.361Z] [worker-api-78fbdec3-035b-4e2c-b510-10569bcffadf]: BUSY
[debug] [2020-01-29T21:06:42.350Z] [runtime-status] [37436] Functions runtime initialized. {"cwd":"C:\\Users\\v-chraro\\Desktop\\Github\\splitsbyspotify\\functions","node_version":"10.13.0"}
[debug] [2020-01-29T21:06:42.357Z] [runtime-status] [37436] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-01-29T21:06:42.364Z] [runtime-status] [37436] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"C:\\Users\\v-chraro\\Desktop\\Github\\splitsbyspotify\\functions\\node_modules\\firebase-admin\\lib\\index.js"}
[debug] [2020-01-29T21:06:42.370Z] [runtime-status] [37436] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"C:\\Users\\v-chraro\\Desktop\\Github\\splitsbyspotify\\functions\\node_modules\\firebase-functions\\lib\\index.js"}
[debug] [2020-01-29T21:06:42.373Z] [runtime-status] [37436] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"C:\\Users\\v-chraro\\Desktop\\Github\\splitsbyspotify\\functions\\node_modules\\firebase-functions\\lib\\index.js"}
[debug] [2020-01-29T21:06:44.187Z] [runtime-status] [37436] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-01-29T21:06:44.188Z] [runtime-status] [37436] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-01-29T21:06:44.189Z] [runtime-status] [37436] Running api in mode HTTPS
[debug] [2020-01-29T21:06:44.196Z] [runtime-status] [37436] Attempting to listen to socketPath: \\?\pipe\C:\Users\v-chraro\Desktop\Github\splitsbyspotify\functions\37436
[debug] [2020-01-29T21:06:44.204Z] [functions] Runtime ready! Sending request!
[debug] [2020-01-29T21:06:44.251Z] [runtime-status] [37436] Ephemeral server handling POST request
[debug] [2020-01-29T21:06:44.259Z] [runtime-status] [37436] Ephemeral server survived.
[info] >  ReferenceError: data is not defined
[info] >      at db.doc.get.then.then.then.then (C:\Users\v-chraro\Desktop\Github\splitsbyspotify\functions\index.js:110:60)
[info] i  functions: Finished "api" in ~2s
[debug] [2020-01-29T21:06:46.512Z] [worker-api-78fbdec3-035b-4e2c-b510-10569bcffadf]: IDLE
[debug] [2020-01-29T21:06:46.512Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-01-29T21:07:04.773Z] File C:\Users\v-chraro\Desktop\Github\splitsbyspotify\functions\index.js changed, reloading triggers
[debug] [2020-01-29T21:07:05.775Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-01-29T21:07:05.775Z] [worker-~diagnostic~-15894344-78ae-4dbd-8971-88642299323a]: FINISHING
[debug] [2020-01-29T21:07:05.776Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-01-29T21:07:05.776Z] [worker-api-78fbdec3-035b-4e2c-b510-10569bcffadf]: FINISHING
[debug] [2020-01-29T21:07:05.785Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-01-29T21:07:05.786Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-01-29T21:07:05.786Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-01-29T21:07:05.786Z] [worker-~diagnostic~-224f6de3-97dc-4089-9600-39631cf609e0]: Assigning socketPath: \\?\pipe\C:\Users\v-chraro\Desktop\Github\splitsbyspotify\functions\11848
[debug] [2020-01-29T21:07:05.786Z] [worker-~diagnostic~-224f6de3-97dc-4089-9600-39631cf609e0]: BUSY
[debug] [2020-01-29T21:07:05.824Z] [worker-~diagnostic~-15894344-78ae-4dbd-8971-88642299323a]: exited
[debug] [2020-01-29T21:07:05.824Z] [worker-~diagnostic~-15894344-78ae-4dbd-8971-88642299323a]: FINISHED
[debug] [2020-01-29T21:07:05.833Z] [worker-api-78fbdec3-035b-4e2c-b510-10569bcffadf]: exited
[debug] [2020-01-29T21:07:05.833Z] [worker-api-78fbdec3-035b-4e2c-b510-10569bcffadf]: FINISHED
[debug] [2020-01-29T21:07:07.035Z] [runtime-status] [11848] Functions runtime initialized. {"cwd":"C:\\Users\\v-chraro\\Desktop\\Github\\splitsbyspotify\\functions","node_version":"10.13.0"}
[debug] [2020-01-29T21:07:07.042Z] [runtime-status] [11848] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-01-29T21:07:07.050Z] [runtime-status] [11848] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"C:\\Users\\v-chraro\\Desktop\\Github\\splitsbyspotify\\functions\\node_modules\\firebase-admin\\lib\\index.js"}
[debug] [2020-01-29T21:07:07.056Z] [runtime-status] [11848] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"C:\\Users\\v-chraro\\Desktop\\Github\\splitsbyspotify\\functions\\node_modules\\firebase-functions\\lib\\index.js"}
[debug] [2020-01-29T21:07:07.059Z] [runtime-status] [11848] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"C:\\Users\\v-chraro\\Desktop\\Github\\splitsbyspotify\\functions\\node_modules\\firebase-functions\\lib\\index.js"}
[debug] [2020-01-29T21:07:08.939Z] [worker-~diagnostic~-224f6de3-97dc-4089-9600-39631cf609e0]: IDLE
[debug] [2020-01-29T21:07:43.543Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-01-29T21:07:43.544Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-01-29T21:07:43.544Z] Accepted request POST /splitsbyspotify/us-central1/api/signup --> api
[debug] [2020-01-29T21:07:43.544Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-01-29T21:07:43.544Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-01-29T21:07:43.553Z] [worker-pool] addWorker(api)
[debug] [2020-01-29T21:07:43.553Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-01-29T21:07:43.553Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-01-29T21:07:43.553Z] [worker-api-6fb0f879-3688-4357-acac-a01aa2312e97]: Assigning socketPath: \\?\pipe\C:\Users\v-chraro\Desktop\Github\splitsbyspotify\functions\70560
[debug] [2020-01-29T21:07:43.553Z] [worker-api-6fb0f879-3688-4357-acac-a01aa2312e97]: BUSY
[debug] [2020-01-29T21:07:44.529Z] [runtime-status] [70560] Functions runtime initialized. {"cwd":"C:\\Users\\v-chraro\\Desktop\\Github\\splitsbyspotify\\functions","node_version":"10.13.0"}
[debug] [2020-01-29T21:07:44.533Z] [runtime-status] [70560] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-01-29T21:07:44.543Z] [runtime-status] [70560] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"C:\\Users\\v-chraro\\Desktop\\Github\\splitsbyspotify\\functions\\node_modules\\firebase-admin\\lib\\index.js"}
[debug] [2020-01-29T21:07:44.546Z] [runtime-status] [70560] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"C:\\Users\\v-chraro\\Desktop\\Github\\splitsbyspotify\\functions\\node_modules\\firebase-functions\\lib\\index.js"}
[debug] [2020-01-29T21:07:44.548Z] [runtime-status] [70560] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"C:\\Users\\v-chraro\\Desktop\\Github\\splitsbyspotify\\functions\\node_modules\\firebase-functions\\lib\\index.js"}
[debug] [2020-01-29T21:07:46.167Z] [runtime-status] [70560] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-01-29T21:07:46.169Z] [runtime-status] [70560] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-01-29T21:07:46.169Z] [runtime-status] [70560] Running api in mode HTTPS
[debug] [2020-01-29T21:07:46.176Z] [runtime-status] [70560] Attempting to listen to socketPath: \\?\pipe\C:\Users\v-chraro\Desktop\Github\splitsbyspotify\functions\70560
[debug] [2020-01-29T21:07:46.181Z] [functions] Runtime ready! Sending request!
[debug] [2020-01-29T21:07:46.219Z] [runtime-status] [70560] Ephemeral server handling POST request
[debug] [2020-01-29T21:07:46.226Z] [runtime-status] [70560] Ephemeral server survived.
[info] >  { [Error: The email address is already in use by another account.]
[info] >    code: 'auth/email-already-in-use',
[info] >    message: 'The email address is already in use by another account.' }
[info] i  functions: Finished "api" in ~1s
[debug] [2020-01-29T21:07:47.168Z] [worker-api-6fb0f879-3688-4357-acac-a01aa2312e97]: IDLE
[debug] [2020-01-29T21:07:47.169Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-01-29T21:07:54.366Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-01-29T21:07:54.366Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-01-29T21:07:54.366Z] Accepted request POST /splitsbyspotify/us-central1/api/signup --> api
[debug] [2020-01-29T21:07:54.366Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-01-29T21:07:54.366Z] [worker-api-6fb0f879-3688-4357-acac-a01aa2312e97]: Assigning socketPath: \\?\pipe\C:\Users\v-chraro\Desktop\Github\splitsbyspotify\functions\70560
[debug] [2020-01-29T21:07:54.367Z] [worker-api-6fb0f879-3688-4357-acac-a01aa2312e97]: BUSY
[debug] [2020-01-29T21:07:54.367Z] [runtime-status] [70560] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-01-29T21:07:54.368Z] [runtime-status] [70560] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-01-29T21:07:54.368Z] [runtime-status] [70560] Running api in mode HTTPS
[debug] [2020-01-29T21:07:54.369Z] [runtime-status] [70560] Attempting to listen to socketPath: \\?\pipe\C:\Users\v-chraro\Desktop\Github\splitsbyspotify\functions\70560
[debug] [2020-01-29T21:07:54.370Z] [functions] Runtime ready! Sending request!
[debug] [2020-01-29T21:07:54.374Z] [runtime-status] [70560] Ephemeral server handling POST request
[debug] [2020-01-29T21:07:54.374Z] [runtime-status] [70560] Ephemeral server survived.
[info] i  functions: Finished "api" in ~1s
[debug] [2020-01-29T21:07:55.603Z] [worker-api-6fb0f879-3688-4357-acac-a01aa2312e97]: IDLE
[debug] [2020-01-29T21:07:55.603Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-02-19T03:09:09.490Z] ----------------------------------------------------------------------
[debug] [2020-02-19T03:09:09.492Z] Command:       /usr/local/bin/node /usr/local/bin/firebase serve
[debug] [2020-02-19T03:09:09.492Z] CLI Version:   7.13.1
[debug] [2020-02-19T03:09:09.492Z] Platform:      darwin
[debug] [2020-02-19T03:09:09.492Z] Node Version:  v12.14.0
[debug] [2020-02-19T03:09:09.493Z] Time:          Tue Feb 18 2020 19:09:09 GMT-0800 (Pacific Standard Time)
[debug] [2020-02-19T03:09:09.493Z] ----------------------------------------------------------------------
[debug] [2020-02-19T03:09:09.493Z] 
[debug] [2020-02-19T03:09:09.503Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2020-02-19T03:09:09.503Z] > authorizing via signed-in user
[debug] [2020-02-19T03:09:09.503Z] [iam] checking project splitsbyspotify for permissions ["firebase.projects.get"]
[debug] [2020-02-19T03:09:09.505Z] >>> HTTP REQUEST POST https://cloudresourcemanager.googleapis.com/v1/projects/splitsbyspotify:testIamPermissions  

[debug] [2020-02-19T03:09:09.662Z] <<< HTTP RESPONSE 200
[debug] [2020-02-19T03:09:09.664Z] >>> HTTP REQUEST GET https://firebase.googleapis.com/v1beta1/projects/splitsbyspotify  
 
[debug] [2020-02-19T03:09:09.818Z] <<< HTTP RESPONSE 200
[info] 
[info] === Serving from '/Users/chrisaronchick/GitHub/splitsbyspotify'...
[info] 
[warn] ⚠  Your requested "node" version "8" doesn't match your global version "12"
[info] ✔  functions: Emulator started at http://localhost:5000
[info] i  functions: Watching "/Users/chrisaronchick/GitHub/splitsbyspotify/functions" for Cloud Functions...
[debug] [2020-02-19T03:09:13.739Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-02-19T03:09:13.740Z] [worker-pool] Adding worker with key ~diagnostic~, total=1
[debug] [2020-02-19T03:09:13.740Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-02-19T03:09:13.740Z] [worker-~diagnostic~-144ea440-d089-4a2d-b90d-e1913d890a42]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_47047.sock
[debug] [2020-02-19T03:09:13.740Z] [worker-~diagnostic~-144ea440-d089-4a2d-b90d-e1913d890a42]: BUSY
[debug] [2020-02-19T03:09:14.021Z] [runtime-status] [47047] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T03:09:14.022Z] [runtime-status] [47047] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T03:09:14.027Z] [runtime-status] [47047] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T03:09:14.031Z] [runtime-status] [47047] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T03:09:14.034Z] [runtime-status] [47047] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[warn] ⚠  Error: Cannot find module '../../../splitsbyspotify-firebase-adminsdk-xkg5z-2a806dd006.json'
Require stack:
- /Users/chrisaronchick/GitHub/splitsbyspotify/functions/util/admin.js
- /Users/chrisaronchick/GitHub/splitsbyspotify/functions/handlers/playlists.js
- /Users/chrisaronchick/GitHub/splitsbyspotify/functions/index.js
- /Users/chrisaronchick/.config/yarn/global/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:797:15)
    at Function.Module._load (internal/modules/cjs/loader.js:690:27)
    at Module.require (internal/modules/cjs/loader.js:852:19)
    at require (internal/modules/cjs/helpers.js:74:18)
    at Object.<anonymous> (/Users/chrisaronchick/GitHub/splitsbyspotify/functions/util/admin.js:2:24)
    at Module._compile (internal/modules/cjs/loader.js:959:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:995:10)
    at Module.load (internal/modules/cjs/loader.js:815:32)
    at Function.Module._load (internal/modules/cjs/loader.js:727:14)
    at Module.require (internal/modules/cjs/loader.js:852:19)
[warn] ⚠  We were unable to load your functions code. (see above)
[debug] [2020-02-19T03:09:14.332Z] [worker-~diagnostic~-144ea440-d089-4a2d-b90d-e1913d890a42]: exited
[debug] [2020-02-19T03:09:14.333Z] [worker-~diagnostic~-144ea440-d089-4a2d-b90d-e1913d890a42]: FINISHED
[debug] [2020-02-19T03:12:32.109Z] File /Users/chrisaronchick/GitHub/splitsbyspotify/functions/util/admin.js changed, reloading triggers
[debug] [2020-02-19T03:12:33.112Z] [worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0
[debug] [2020-02-19T03:12:33.122Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-02-19T03:12:33.123Z] [worker-pool] Adding worker with key ~diagnostic~, total=1
[debug] [2020-02-19T03:12:33.123Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-02-19T03:12:33.123Z] [worker-~diagnostic~-70d42568-5816-4d7a-a904-82e33fd2ebb9]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_47208.sock
[debug] [2020-02-19T03:12:33.123Z] [worker-~diagnostic~-70d42568-5816-4d7a-a904-82e33fd2ebb9]: BUSY
[debug] [2020-02-19T03:12:34.991Z] [runtime-status] [47208] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T03:12:34.992Z] [runtime-status] [47208] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T03:12:34.996Z] [runtime-status] [47208] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T03:12:34.999Z] [runtime-status] [47208] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T03:12:35.000Z] [runtime-status] [47208] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[warn] ⚠  Error: Cannot find module '../../splitsbyspotify-firebase-adminsdk-xkg5z.json'
Require stack:
- /Users/chrisaronchick/GitHub/splitsbyspotify/functions/util/admin.js
- /Users/chrisaronchick/GitHub/splitsbyspotify/functions/handlers/playlists.js
- /Users/chrisaronchick/GitHub/splitsbyspotify/functions/index.js
- /Users/chrisaronchick/.config/yarn/global/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:797:15)
    at Function.Module._load (internal/modules/cjs/loader.js:690:27)
    at Module.require (internal/modules/cjs/loader.js:852:19)
    at require (internal/modules/cjs/helpers.js:74:18)
    at Object.<anonymous> (/Users/chrisaronchick/GitHub/splitsbyspotify/functions/util/admin.js:2:24)
    at Module._compile (internal/modules/cjs/loader.js:959:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:995:10)
    at Module.load (internal/modules/cjs/loader.js:815:32)
    at Function.Module._load (internal/modules/cjs/loader.js:727:14)
    at Module.require (internal/modules/cjs/loader.js:852:19)
[warn] ⚠  We were unable to load your functions code. (see above)
[debug] [2020-02-19T03:12:35.723Z] [worker-~diagnostic~-70d42568-5816-4d7a-a904-82e33fd2ebb9]: exited
[debug] [2020-02-19T03:12:35.723Z] [worker-~diagnostic~-70d42568-5816-4d7a-a904-82e33fd2ebb9]: FINISHED
[debug] [2020-02-19T03:14:26.998Z] File /Users/chrisaronchick/GitHub/splitsbyspotify/functions/util/admin.js changed, reloading triggers
[debug] [2020-02-19T03:14:28.003Z] [worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0
[debug] [2020-02-19T03:14:28.026Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-02-19T03:14:28.027Z] [worker-pool] Adding worker with key ~diagnostic~, total=1
[debug] [2020-02-19T03:14:28.027Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-02-19T03:14:28.027Z] [worker-~diagnostic~-86939d7e-14f6-4696-9af4-ca28219e6f56]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_47345.sock
[debug] [2020-02-19T03:14:28.027Z] [worker-~diagnostic~-86939d7e-14f6-4696-9af4-ca28219e6f56]: BUSY
[debug] [2020-02-19T03:14:28.296Z] [runtime-status] [47345] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T03:14:28.301Z] [runtime-status] [47345] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T03:14:28.301Z] [runtime-status] [47345] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T03:14:28.301Z] [runtime-status] [47345] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T03:14:28.301Z] [runtime-status] [47345] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] ✔  functions[api]: http function initialized (http://localhost:5000/splitsbyspotify/us-central1/api).
[debug] [2020-02-19T03:14:29.162Z] [worker-~diagnostic~-86939d7e-14f6-4696-9af4-ca28219e6f56]: IDLE
[debug] [2020-02-19T03:26:01.962Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-02-19T03:26:01.962Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-02-19T03:26:01.963Z] Accepted request POST /splitsbyspotify/us-central1/api/spotifyLogin --> api
[debug] [2020-02-19T03:26:01.972Z] [worker-pool] addWorker(api)
[debug] [2020-02-19T03:26:01.975Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-02-19T03:26:01.975Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-02-19T03:26:01.975Z] [worker-api-dda8b0b7-2893-4275-8ec8-a217b2760dbd]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_47872.sock
[debug] [2020-02-19T03:26:01.975Z] [worker-api-dda8b0b7-2893-4275-8ec8-a217b2760dbd]: BUSY
[debug] [2020-02-19T03:26:02.683Z] [runtime-status] [47872] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T03:26:02.685Z] [runtime-status] [47872] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T03:26:02.695Z] [runtime-status] [47872] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T03:26:02.700Z] [runtime-status] [47872] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T03:26:02.701Z] [runtime-status] [47872] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T03:26:04.317Z] [runtime-status] [47872] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-02-19T03:26:04.318Z] [runtime-status] [47872] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-02-19T03:26:04.318Z] [runtime-status] [47872] Running api in mode HTTPS
[debug] [2020-02-19T03:26:04.336Z] [runtime-status] [47872] Attempting to listen to socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_47872.sock
[debug] [2020-02-19T03:26:04.344Z] [functions] Runtime ready! Sending request!
[debug] [2020-02-19T03:26:04.363Z] [runtime-status] [47872] Ephemeral server handling POST request
[info] >  authOptions.headers {
[info] >    Authorization: 'Basic NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=',
[info] >    'Content-Type': 'application/x-www-form-urlencoded'
[info] >  } authOptions.url:  https://accounts.spotify.com/api/token
[debug] [2020-02-19T03:26:04.398Z] [runtime-status] [47872] Ephemeral server survived.
[info] >  getSpotifyTokenError HTTPError: Bad Request
[info] >      at fn (/Users/chrisaronchick/GitHub/splitsbyspotify/node_modules/ky/umd.js:279:12)
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {
[info] >    name: 'HTTPError',
[info] >    response: Body {
[info] >      url: 'https://accounts.spotify.com/api/token',
[info] >      status: 400,
[info] >      statusText: 'Bad Request',
[info] >      headers: Headers { _headers: [Object] },
[info] >      ok: false,
[info] >      body: Gunzip {
[info] >        _writeState: [Uint32Array],
[info] >        _readableState: [ReadableState],
[info] >        readable: true,
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 6,
[info] >        _maxListeners: undefined,
[info] >        _writableState: [WritableState],
[info] >        writable: true,
[info] >        allowHalfOpen: true,
[info] >        _transformState: [Object],
[info] >        _hadError: false,
[info] >        bytesWritten: 0,
[info] >        _handle: [Zlib],
[info] >        _outBuffer: <Buffer 00 00 00 00 00 00 00 00 8b bf 0b 04 01 00 00 00 00 be 0c 04 01 00 00 00 0a 00 00 00 00 00 00 00 03 15 bf ef fe 7f 00 00 80 29 0b 04 01 00 00 00 00 00 ... 16334 more bytes>,
[info] >        _outOffset: 0,
[info] >        _chunkSize: 16384,
[info] >        _defaultFlushFlag: 0,
[info] >        _finishFlushFlag: 4,
[info] >        _defaultFullFlushFlag: 3,
[info] >        _info: undefined,
[info] >        _level: -1,
[info] >        _strategy: 0
[info] >      },
[info] >      bodyUsed: false,
[info] >      size: 0,
[info] >      timeout: 10000,
[info] >      _raw: [],
[info] >      _abort: false
[info] >    }
[info] >  }
[info] i  functions: Finished "api" in ~1s
[debug] [2020-02-19T03:26:04.770Z] [worker-api-dda8b0b7-2893-4275-8ec8-a217b2760dbd]: IDLE
[debug] [2020-02-19T03:26:04.771Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-02-19T03:39:33.733Z] File /Users/chrisaronchick/GitHub/splitsbyspotify/functions/handlers/spotify.js changed, reloading triggers
[debug] [2020-02-19T03:39:34.736Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-02-19T03:39:34.736Z] [worker-~diagnostic~-86939d7e-14f6-4696-9af4-ca28219e6f56]: FINISHING
[debug] [2020-02-19T03:39:34.740Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-02-19T03:39:34.740Z] [worker-api-dda8b0b7-2893-4275-8ec8-a217b2760dbd]: FINISHING
[debug] [2020-02-19T03:39:34.749Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-02-19T03:39:34.749Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-02-19T03:39:34.749Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-02-19T03:39:34.749Z] [worker-~diagnostic~-e3d0676e-b101-44ac-9ff5-035f78eaf807]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48462.sock
[debug] [2020-02-19T03:39:34.749Z] [worker-~diagnostic~-e3d0676e-b101-44ac-9ff5-035f78eaf807]: BUSY
[debug] [2020-02-19T03:39:34.751Z] [worker-~diagnostic~-86939d7e-14f6-4696-9af4-ca28219e6f56]: exited
[debug] [2020-02-19T03:39:34.751Z] [worker-~diagnostic~-86939d7e-14f6-4696-9af4-ca28219e6f56]: FINISHED
[debug] [2020-02-19T03:39:34.751Z] [worker-api-dda8b0b7-2893-4275-8ec8-a217b2760dbd]: exited
[debug] [2020-02-19T03:39:34.751Z] [worker-api-dda8b0b7-2893-4275-8ec8-a217b2760dbd]: FINISHED
[debug] [2020-02-19T03:39:35.236Z] [runtime-status] [48462] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T03:39:35.238Z] [runtime-status] [48462] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T03:39:35.241Z] [runtime-status] [48462] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T03:39:35.242Z] [runtime-status] [48462] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T03:39:35.243Z] [runtime-status] [48462] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[warn] ⚠  ReferenceError: Cannot access 'client_id' before initialization
    at Object.<anonymous> (/Users/chrisaronchick/GitHub/splitsbyspotify/functions/handlers/spotify.js:4:105)
    at Module._compile (internal/modules/cjs/loader.js:959:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:995:10)
    at Module.load (internal/modules/cjs/loader.js:815:32)
    at Function.Module._load (internal/modules/cjs/loader.js:727:14)
    at Module.require (internal/modules/cjs/loader.js:852:19)
    at require (internal/modules/cjs/helpers.js:74:18)
    at Object.<anonymous> (/Users/chrisaronchick/GitHub/splitsbyspotify/functions/index.js:8:35)
    at Module._compile (internal/modules/cjs/loader.js:959:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:995:10)
[warn] ⚠  We were unable to load your functions code. (see above)
[debug] [2020-02-19T03:39:36.041Z] [worker-~diagnostic~-e3d0676e-b101-44ac-9ff5-035f78eaf807]: exited
[debug] [2020-02-19T03:39:36.042Z] [worker-~diagnostic~-e3d0676e-b101-44ac-9ff5-035f78eaf807]: FINISHED
[debug] [2020-02-19T03:39:56.473Z] File /Users/chrisaronchick/GitHub/splitsbyspotify/functions/handlers/spotify.js changed, reloading triggers
[debug] [2020-02-19T03:39:57.476Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 0
[debug] [2020-02-19T03:39:57.476Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-02-19T03:39:57.481Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-02-19T03:39:57.481Z] [worker-pool] Adding worker with key ~diagnostic~, total=1
[debug] [2020-02-19T03:39:57.481Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-02-19T03:39:57.481Z] [worker-~diagnostic~-e3033383-0c44-4318-8f11-6d5f02e119b2]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48476.sock
[debug] [2020-02-19T03:39:57.481Z] [worker-~diagnostic~-e3033383-0c44-4318-8f11-6d5f02e119b2]: BUSY
[debug] [2020-02-19T03:39:57.744Z] [runtime-status] [48476] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T03:39:57.746Z] [runtime-status] [48476] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T03:39:57.748Z] [runtime-status] [48476] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T03:39:57.749Z] [runtime-status] [48476] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T03:39:57.750Z] [runtime-status] [48476] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T03:39:58.306Z] [worker-~diagnostic~-e3033383-0c44-4318-8f11-6d5f02e119b2]: IDLE
[debug] [2020-02-19T03:40:04.308Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-02-19T03:40:04.308Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-02-19T03:40:04.308Z] Accepted request POST /splitsbyspotify/us-central1/api/spotifyLogin --> api
[debug] [2020-02-19T03:40:04.318Z] [worker-pool] addWorker(api)
[debug] [2020-02-19T03:40:04.318Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-02-19T03:40:04.318Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-02-19T03:40:04.318Z] [worker-api-822f689d-7f43-4c22-9bc7-e27db32c42e6]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48483.sock
[debug] [2020-02-19T03:40:04.318Z] [worker-api-822f689d-7f43-4c22-9bc7-e27db32c42e6]: BUSY
[debug] [2020-02-19T03:40:04.754Z] [runtime-status] [48483] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T03:40:04.756Z] [runtime-status] [48483] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T03:40:04.758Z] [runtime-status] [48483] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T03:40:04.762Z] [runtime-status] [48483] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T03:40:04.764Z] [runtime-status] [48483] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T03:40:05.573Z] [runtime-status] [48483] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-02-19T03:40:05.574Z] [runtime-status] [48483] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-02-19T03:40:05.574Z] [runtime-status] [48483] Running api in mode HTTPS
[debug] [2020-02-19T03:40:05.589Z] [runtime-status] [48483] Attempting to listen to socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48483.sock
[debug] [2020-02-19T03:40:05.597Z] [functions] Runtime ready! Sending request!
[debug] [2020-02-19T03:40:05.621Z] [runtime-status] [48483] Ephemeral server handling POST request
[info] >  authOptions.headers {
[info] >    Authorization: 'Basic NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=',
[info] >    'Content-Type': 'application/x-www-form-urlencoded'
[info] >  } authOptions.url:  https://accounts.spotify.com/api/token
[debug] [2020-02-19T03:40:05.632Z] [runtime-status] [48483] Ephemeral server survived.
[info] >  getSpotifyTokenError HTTPError: Bad Request
[info] >      at fn (/Users/chrisaronchick/GitHub/splitsbyspotify/node_modules/ky/umd.js:279:12)
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {
[info] >    name: 'HTTPError',
[info] >    response: Body {
[info] >      url: 'https://accounts.spotify.com/api/token',
[info] >      status: 400,
[info] >      statusText: 'Bad Request',
[info] >      headers: Headers { _headers: [Object] },
[info] >      ok: false,
[info] >      body: Gunzip {
[info] >        _writeState: [Uint32Array],
[info] >        _readableState: [ReadableState],
[info] >        readable: true,
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 6,
[info] >        _maxListeners: undefined,
[info] >        _writableState: [WritableState],
[info] >        writable: true,
[info] >        allowHalfOpen: true,
[info] >        _transformState: [Object],
[info] >        _hadError: false,
[info] >        bytesWritten: 0,
[info] >        _handle: [Zlib],
[info] >        _outBuffer: <Buffer 00 00 00 00 00 00 00 00 8b 9e 90 05 01 00 00 00 9e fd ff 05 01 00 00 00 bd 51 80 04 01 00 00 00 d8 bd 90 05 01 00 00 00 10 00 00 00 00 00 00 00 1e cb ... 16334 more bytes>,
[info] >        _outOffset: 0,
[info] >        _chunkSize: 16384,
[info] >        _defaultFlushFlag: 0,
[info] >        _finishFlushFlag: 4,
[info] >        _defaultFullFlushFlag: 3,
[info] >        _info: undefined,
[info] >        _level: -1,
[info] >        _strategy: 0
[info] >      },
[info] >      bodyUsed: false,
[info] >      size: 0,
[info] >      timeout: 10000,
[info] >      _raw: [],
[info] >      _abort: false
[info] >    }
[info] >  }
[info] i  functions: Finished "api" in ~1s
[debug] [2020-02-19T03:40:05.895Z] [worker-api-822f689d-7f43-4c22-9bc7-e27db32c42e6]: IDLE
[debug] [2020-02-19T03:40:05.896Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-02-19T03:41:33.775Z] File /Users/chrisaronchick/GitHub/splitsbyspotify/functions/handlers/users.js changed, reloading triggers
[debug] [2020-02-19T03:41:34.777Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-02-19T03:41:34.778Z] [worker-~diagnostic~-e3033383-0c44-4318-8f11-6d5f02e119b2]: FINISHING
[debug] [2020-02-19T03:41:34.778Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-02-19T03:41:34.778Z] [worker-api-822f689d-7f43-4c22-9bc7-e27db32c42e6]: FINISHING
[debug] [2020-02-19T03:41:34.793Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-02-19T03:41:34.793Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-02-19T03:41:34.793Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-02-19T03:41:34.793Z] [worker-~diagnostic~-118a9783-7f2d-4359-83bd-1d4d6c176baf]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48580.sock
[debug] [2020-02-19T03:41:34.794Z] [worker-~diagnostic~-118a9783-7f2d-4359-83bd-1d4d6c176baf]: BUSY
[debug] [2020-02-19T03:41:34.795Z] [worker-~diagnostic~-e3033383-0c44-4318-8f11-6d5f02e119b2]: exited
[debug] [2020-02-19T03:41:34.795Z] [worker-~diagnostic~-e3033383-0c44-4318-8f11-6d5f02e119b2]: FINISHED
[debug] [2020-02-19T03:41:34.796Z] [worker-api-822f689d-7f43-4c22-9bc7-e27db32c42e6]: exited
[debug] [2020-02-19T03:41:34.796Z] [worker-api-822f689d-7f43-4c22-9bc7-e27db32c42e6]: FINISHED
[debug] [2020-02-19T03:41:35.451Z] [runtime-status] [48580] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T03:41:35.454Z] [runtime-status] [48580] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T03:41:35.457Z] [runtime-status] [48580] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T03:41:35.458Z] [runtime-status] [48580] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T03:41:35.459Z] [runtime-status] [48580] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T03:41:36.872Z] [worker-~diagnostic~-118a9783-7f2d-4359-83bd-1d4d6c176baf]: IDLE
[debug] [2020-02-19T03:41:39.677Z] File /Users/chrisaronchick/GitHub/splitsbyspotify/functions/index.js changed, reloading triggers
[debug] [2020-02-19T03:41:40.682Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-02-19T03:41:40.683Z] [worker-~diagnostic~-118a9783-7f2d-4359-83bd-1d4d6c176baf]: FINISHING
[debug] [2020-02-19T03:41:40.683Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-02-19T03:41:40.683Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-02-19T03:41:40.688Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-02-19T03:41:40.688Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-02-19T03:41:40.688Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-02-19T03:41:40.688Z] [worker-~diagnostic~-afe92077-5896-40ac-ab3a-fe573ce8f361]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48598.sock
[debug] [2020-02-19T03:41:40.688Z] [worker-~diagnostic~-afe92077-5896-40ac-ab3a-fe573ce8f361]: BUSY
[debug] [2020-02-19T03:41:40.690Z] [worker-~diagnostic~-118a9783-7f2d-4359-83bd-1d4d6c176baf]: exited
[debug] [2020-02-19T03:41:40.691Z] [worker-~diagnostic~-118a9783-7f2d-4359-83bd-1d4d6c176baf]: FINISHED
[debug] [2020-02-19T03:41:41.105Z] [runtime-status] [48598] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T03:41:41.107Z] [runtime-status] [48598] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T03:41:41.111Z] [runtime-status] [48598] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T03:41:41.116Z] [runtime-status] [48598] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T03:41:41.117Z] [runtime-status] [48598] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T03:41:41.941Z] [worker-~diagnostic~-afe92077-5896-40ac-ab3a-fe573ce8f361]: IDLE
[debug] [2020-02-19T03:41:46.635Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-02-19T03:41:46.635Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-02-19T03:41:46.635Z] Accepted request POST /splitsbyspotify/us-central1/api/spotifyLogin --> api
[debug] [2020-02-19T03:41:46.635Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-02-19T03:41:46.640Z] [worker-pool] addWorker(api)
[debug] [2020-02-19T03:41:46.640Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-02-19T03:41:46.640Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-02-19T03:41:46.641Z] [worker-api-90942879-8b3b-42e4-93cb-285fc8e61d3f]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48609.sock
[debug] [2020-02-19T03:41:46.641Z] [worker-api-90942879-8b3b-42e4-93cb-285fc8e61d3f]: BUSY
[debug] [2020-02-19T03:41:46.936Z] [runtime-status] [48609] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T03:41:46.937Z] [runtime-status] [48609] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T03:41:46.939Z] [runtime-status] [48609] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T03:41:46.940Z] [runtime-status] [48609] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T03:41:46.941Z] [runtime-status] [48609] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T03:41:47.416Z] [runtime-status] [48609] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-02-19T03:41:47.417Z] [runtime-status] [48609] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-02-19T03:41:47.417Z] [runtime-status] [48609] Running api in mode HTTPS
[debug] [2020-02-19T03:41:47.425Z] [runtime-status] [48609] Attempting to listen to socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48609.sock
[debug] [2020-02-19T03:41:47.428Z] [functions] Runtime ready! Sending request!
[debug] [2020-02-19T03:41:47.438Z] [runtime-status] [48609] Ephemeral server handling POST request
[info] >  req IncomingMessage {
[info] >    _readableState: ReadableState {
[info] >      objectMode: false,
[info] >      highWaterMark: 16384,
[info] >      buffer: BufferList { head: null, tail: null, length: 0 },
[info] >      length: 0,
[info] >      pipes: null,
[info] >      pipesCount: 0,
[info] >      flowing: true,
[info] >      ended: true,
[info] >      endEmitted: true,
[info] >      reading: false,
[info] >      sync: true,
[info] >      needReadable: false,
[info] >      emittedReadable: false,
[info] >      readableListening: false,
[info] >      resumeScheduled: false,
[info] >      paused: false,
[info] >      emitClose: true,
[info] >      autoDestroy: false,
[info] >      destroyed: false,
[info] >      defaultEncoding: 'utf8',
[info] >      awaitDrain: 0,
[info] >      readingMore: true,
[info] >      decoder: null,
[info] >      encoding: null
[info] >    },
[info] >    readable: false,
[info] >    _events: [Object: null prototype] {
[info] >      end: [Function: resetHeadersTimeoutOnReqEnd]
[info] >    },
[info] >    _eventsCount: 1,
[info] >    _maxListeners: undefined,
[info] >    socket: Socket {
[info] >      connecting: false,
[info] >      _hadError: false,
[info] >      _parent: null,
[info] >      _host: null,
[info] >      _readableState: ReadableState {
[info] >        objectMode: false,
[info] >        highWaterMark: 16384,
[info] >        buffer: BufferList { head: null, tail: null, length: 0 },
[info] >        length: 0,
[info] >        pipes: null,
[info] >        pipesCount: 0,
[info] >        flowing: true,
[info] >        ended: false,
[info] >        endEmitted: false,
[info] >        reading: true,
[info] >        sync: false,
[info] >        needReadable: true,
[info] >        emittedReadable: false,
[info] >        readableListening: false,
[info] >        resumeScheduled: false,
[info] >        paused: false,
[info] >        emitClose: false,
[info] >        autoDestroy: false,
[info] >        destroyed: false,
[info] >        defaultEncoding: 'utf8',
[info] >        awaitDrain: 0,
[info] >        readingMore: false,
[info] >        decoder: null,
[info] >        encoding: null
[info] >      },
[info] >      readable: true,
[info] >      _events: [Object: null prototype] {
[info] >        end: [Array],
[info] >        timeout: [Function: socketOnTimeout],
[info] >        data: [Function: bound socketOnData],
[info] >        error: [Function: socketOnError],
[info] >        close: [Array],
[info] >        drain: [Function: bound socketOnDrain],
[info] >        resume: [Function: onSocketResume],
[info] >        pause: [Function: onSocketPause]
[info] >      },
[info] >      _eventsCount: 8,
[info] >      _maxListeners: undefined,
[info] >      _writableState: WritableState {
[info] >        objectMode: false,
[info] >        highWaterMark: 16384,
[info] >        finalCalled: false,
[info] >        needDrain: false,
[info] >        ending: false,
[info] >        ended: false,
[info] >        finished: false,
[info] >        destroyed: false,
[info] >        decodeStrings: false,
[info] >        defaultEncoding: 'utf8',
[info] >        length: 0,
[info] >        writing: false,
[info] >        corked: 0,
[info] >        sync: true,
[info] >        bufferProcessing: false,
[info] >        onwrite: [Function: bound onwrite],
[info] >        writecb: null,
[info] >        writelen: 0,
[info] >        bufferedRequest: null,
[info] >        lastBufferedRequest: null,
[info] >        pendingcb: 0,
[info] >        prefinished: false,
[info] >        errorEmitted: false,
[info] >        emitClose: false,
[info] >        autoDestroy: false,
[info] >        bufferedRequestCount: 0,
[info] >        corkedRequestsFree: [Object]
[info] >      },
[info] >      writable: true,
[info] >      allowHalfOpen: true,
[info] >      _sockname: null,
[info] >      _pendingData: null,
[info] >      _pendingEncoding: '',
[info] >      server: Server {
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 3,
[info] >        _maxListeners: undefined,
[info] >        _connections: 1,
[info] >        _handle: [Pipe],
[info] >        _usingWorkers: false,
[info] >        _workers: [],
[info] >        _unref: false,
[info] >        allowHalfOpen: true,
[info] >        pauseOnConnect: false,
[info] >        httpAllowHalfOpen: false,
[info] >        timeout: 120000,
[info] >        keepAliveTimeout: 5000,
[info] >        maxHeadersCount: null,
[info] >        headersTimeout: 40000,
[info] >        _pipeName: '/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48609.sock',
[info] >        _connectionKey: '-1:/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48609.sock:-1',
[info] >        [Symbol(IncomingMessage)]: [Function: IncomingMessage],
[info] >        [Symbol(ServerResponse)]: [Function: ServerResponse],
[info] >        [Symbol(asyncId)]: 22
[info] >      },
[info] >      _server: Server {
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 3,
[info] >        _maxListeners: undefined,
[info] >        _connections: 1,
[info] >        _handle: [Pipe],
[info] >        _usingWorkers: false,
[info] >        _workers: [],
[info] >        _unref: false,
[info] >        allowHalfOpen: true,
[info] >        pauseOnConnect: false,
[info] >        httpAllowHalfOpen: false,
[info] >        timeout: 120000,
[info] >        keepAliveTimeout: 5000,
[info] >        maxHeadersCount: null,
[info] >        headersTimeout: 40000,
[info] >        _pipeName: '/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48609.sock',
[info] >        _connectionKey: '-1:/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48609.sock:-1',
[info] >        [Symbol(IncomingMessage)]: [Function: IncomingMessage],
[info] >        [Symbol(ServerResponse)]: [Function: ServerResponse],
[info] >        [Symbol(asyncId)]: 22
[info] >      },
[info] >      timeout: 120000,
[info] >      parser: HTTPParser {
[info] >        '0': [Function: parserOnHeaders],
[info] >        '1': [Function: parserOnHeadersComplete],
[info] >        '2': [Function: parserOnBody],
[info] >        '3': [Function: parserOnMessageComplete],
[info] >        '4': [Function: bound onParserExecute],
[info] >        _headers: [],
[info] >        _url: '',
[info] >        socket: [Circular],
[info] >        incoming: [Circular],
[info] >        outgoing: null,
[info] >        maxHeaderPairs: 2000,
[info] >        _consumed: true,
[info] >        onIncoming: [Function: bound parserOnIncoming],
[info] >        parsingHeadersStart: 1582083707430
[info] >      },
[info] >      on: [Function: socketListenerWrap],
[info] >      addListener: [Function: socketListenerWrap],
[info] >      prependListener: [Function: socketListenerWrap],
[info] >      _paused: false,
[info] >      _httpMessage: ServerResponse {
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 1,
[info] >        _maxListeners: undefined,
[info] >        outputData: [],
[info] >        outputSize: 0,
[info] >        writable: true,
[info] >        _last: false,
[info] >        chunkedEncoding: false,
[info] >        shouldKeepAlive: true,
[info] >        useChunkedEncodingByDefault: true,
[info] >        sendDate: true,
[info] >        _removedConnection: false,
[info] >        _removedContLen: false,
[info] >        _removedTE: false,
[info] >        _contentLength: null,
[info] >        _hasBody: true,
[info] >        _trailer: '',
[info] >        finished: false,
[info] >        _headerSent: false,
[info] >        socket: [Circular],
[info] >        connection: [Circular],
[info] >        _header: null,
[info] >        _onPendingData: [Function: bound updateOutgoingData],
[info] >        _sent100: false,
[info] >        _expect_continue: false,
[info] >        req: [Circular],
[info] >        locals: [Object: null prototype] {},
[info] >        [Symbol(kNeedDrain)]: false,
[info] >        [Symbol(isCorked)]: false,
[info] >        [Symbol(kOutHeaders)]: [Object: null prototype]
[info] >      },
[info] >      [Symbol(asyncId)]: 25,
[info] >      [Symbol(kHandle)]: Pipe {
[info] >        reading: true,
[info] >        _consumed: true,
[info] >        [Symbol(owner)]: [Circular]
[info] >      },
[info] >      [Symbol(lastWriteQueueSize)]: 0,
[info] >      [Symbol(timeout)]: Timeout {
[info] >        _idleTimeout: 120000,
[info] >        _idlePrev: [TimersList],
[info] >        _idleNext: [TimersList],
[info] >        _idleStart: 787,
[info] >        _onTimeout: [Function: bound ],
[info] >        _timerArgs: undefined,
[info] >        _repeat: null,
[info] >        _destroyed: false,
[info] >        [Symbol(refed)]: false,
[info] >        [Symbol(asyncId)]: 26,
[info] >        [Symbol(triggerId)]: 25
[info] >      },
[info] >      [Symbol(kBuffer)]: null,
[info] >      [Symbol(kBufferCb)]: null,
[info] >      [Symbol(kBufferGen)]: null,
[info] >      [Symbol(kBytesRead)]: 0,
[info] >      [Symbol(kBytesWritten)]: 0
[info] >    },
[info] >    connection: Socket {
[info] >      connecting: false,
[info] >      _hadError: false,
[info] >      _parent: null,
[info] >      _host: null,
[info] >      _readableState: ReadableState {
[info] >        objectMode: false,
[info] >        highWaterMark: 16384,
[info] >        buffer: BufferList { head: null, tail: null, length: 0 },
[info] >        length: 0,
[info] >        pipes: null,
[info] >        pipesCount: 0,
[info] >        flowing: true,
[info] >        ended: false,
[info] >        endEmitted: false,
[info] >        reading: true,
[info] >        sync: false,
[info] >        needReadable: true,
[info] >        emittedReadable: false,
[info] >        readableListening: false,
[info] >        resumeScheduled: false,
[info] >        paused: false,
[info] >        emitClose: false,
[info] >        autoDestroy: false,
[info] >        destroyed: false,
[info] >        defaultEncoding: 'utf8',
[info] >        awaitDrain: 0,
[info] >        readingMore: false,
[info] >        decoder: null,
[info] >        encoding: null
[info] >      },
[info] >      readable: true,
[info] >      _events: [Object: null prototype] {
[info] >        end: [Array],
[info] >        timeout: [Function: socketOnTimeout],
[info] >        data: [Function: bound socketOnData],
[info] >        error: [Function: socketOnError],
[info] >        close: [Array],
[info] >        drain: [Function: bound socketOnDrain],
[info] >        resume: [Function: onSocketResume],
[info] >        pause: [Function: onSocketPause]
[info] >      },
[info] >      _eventsCount: 8,
[info] >      _maxListeners: undefined,
[info] >      _writableState: WritableState {
[info] >        objectMode: false,
[info] >        highWaterMark: 16384,
[info] >        finalCalled: false,
[info] >        needDrain: false,
[info] >        ending: false,
[info] >        ended: false,
[info] >        finished: false,
[info] >        destroyed: false,
[info] >        decodeStrings: false,
[info] >        defaultEncoding: 'utf8',
[info] >        length: 0,
[info] >        writing: false,
[info] >        corked: 0,
[info] >        sync: true,
[info] >        bufferProcessing: false,
[info] >        onwrite: [Function: bound onwrite],
[info] >        writecb: null,
[info] >        writelen: 0,
[info] >        bufferedRequest: null,
[info] >        lastBufferedRequest: null,
[info] >        pendingcb: 0,
[info] >        prefinished: false,
[info] >        errorEmitted: false,
[info] >        emitClose: false,
[info] >        autoDestroy: false,
[info] >        bufferedRequestCount: 0,
[info] >        corkedRequestsFree: [Object]
[info] >      },
[info] >      writable: true,
[info] >      allowHalfOpen: true,
[info] >      _sockname: null,
[info] >      _pendingData: null,
[info] >      _pendingEncoding: '',
[info] >      server: Server {
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 3,
[info] >        _maxListeners: undefined,
[info] >        _connections: 1,
[info] >        _handle: [Pipe],
[info] >        _usingWorkers: false,
[info] >        _workers: [],
[info] >        _unref: false,
[info] >        allowHalfOpen: true,
[info] >        pauseOnConnect: false,
[info] >        httpAllowHalfOpen: false,
[info] >        timeout: 120000,
[info] >        keepAliveTimeout: 5000,
[info] >        maxHeadersCount: null,
[info] >        headersTimeout: 40000,
[info] >        _pipeName: '/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48609.sock',
[info] >        _connectionKey: '-1:/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48609.sock:-1',
[info] >        [Symbol(IncomingMessage)]: [Function: IncomingMessage],
[info] >        [Symbol(ServerResponse)]: [Function: ServerResponse],
[info] >        [Symbol(asyncId)]: 22
[info] >      },
[info] >      _server: Server {
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 3,
[info] >        _maxListeners: undefined,
[info] >        _connections: 1,
[info] >        _handle: [Pipe],
[info] >        _usingWorkers: false,
[info] >        _workers: [],
[info] >        _unref: false,
[info] >        allowHalfOpen: true,
[info] >        pauseOnConnect: false,
[info] >        httpAllowHalfOpen: false,
[info] >        timeout: 120000,
[info] >        keepAliveTimeout: 5000,
[info] >        maxHeadersCount: null,
[info] >        headersTimeout: 40000,
[info] >        _pipeName: '/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48609.sock',
[info] >        _connectionKey: '-1:/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48609.sock:-1',
[info] >        [Symbol(IncomingMessage)]: [Function: IncomingMessage],
[info] >        [Symbol(ServerResponse)]: [Function: ServerResponse],
[info] >        [Symbol(asyncId)]: 22
[info] >      },
[info] >      timeout: 120000,
[info] >      parser: HTTPParser {
[info] >        '0': [Function: parserOnHeaders],
[info] >        '1': [Function: parserOnHeadersComplete],
[info] >        '2': [Function: parserOnBody],
[info] >        '3': [Function: parserOnMessageComplete],
[info] >        '4': [Function: bound onParserExecute],
[info] >        _headers: [],
[info] >        _url: '',
[info] >        socket: [Circular],
[info] >        incoming: [Circular],
[info] >        outgoing: null,
[info] >        maxHeaderPairs: 2000,
[info] >        _consumed: true,
[info] >        onIncoming: [Function: bound parserOnIncoming],
[info] >        parsingHeadersStart: 1582083707430
[info] >      },
[info] >      on: [Function: socketListenerWrap],
[info] >      addListener: [Function: socketListenerWrap],
[info] >      prependListener: [Function: socketListenerWrap],
[info] >      _paused: false,
[info] >      _httpMessage: ServerResponse {
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 1,
[info] >        _maxListeners: undefined,
[info] >        outputData: [],
[info] >        outputSize: 0,
[info] >        writable: true,
[info] >        _last: false,
[info] >        chunkedEncoding: false,
[info] >        shouldKeepAlive: true,
[info] >        useChunkedEncodingByDefault: true,
[info] >        sendDate: true,
[info] >        _removedConnection: false,
[info] >        _removedContLen: false,
[info] >        _removedTE: false,
[info] >        _contentLength: null,
[info] >        _hasBody: true,
[info] >        _trailer: '',
[info] >        finished: false,
[info] >        _headerSent: false,
[info] >        socket: [Circular],
[info] >        connection: [Circular],
[info] >        _header: null,
[info] >        _onPendingData: [Function: bound updateOutgoingData],
[info] >        _sent100: false,
[info] >        _expect_continue: false,
[info] >        req: [Circular],
[info] >        locals: [Object: null prototype] {},
[info] >        [Symbol(kNeedDrain)]: false,
[info] >        [Symbol(isCorked)]: false,
[info] >        [Symbol(kOutHeaders)]: [Object: null prototype]
[info] >      },
[info] >      [Symbol(asyncId)]: 25,
[info] >      [Symbol(kHandle)]: Pipe {
[info] >        reading: true,
[info] >        _consumed: true,
[info] >        [Symbol(owner)]: [Circular]
[info] >      },
[info] >      [Symbol(lastWriteQueueSize)]: 0,
[info] >      [Symbol(timeout)]: Timeout {
[info] >        _idleTimeout: 120000,
[info] >        _idlePrev: [TimersList],
[info] >        _idleNext: [TimersList],
[info] >        _idleStart: 787,
[info] >        _onTimeout: [Function: bound ],
[info] >        _timerArgs: undefined,
[info] >        _repeat: null,
[info] >        _destroyed: false,
[info] >        [Symbol(refed)]: false,
[info] >        [Symbol(asyncId)]: 26,
[info] >        [Symbol(triggerId)]: 25
[info] >      },
[info] >      [Symbol(kBuffer)]: null,
[info] >      [Symbol(kBufferCb)]: null,
[info] >      [Symbol(kBufferGen)]: null,
[info] >      [Symbol(kBytesRead)]: 0,
[info] >      [Symbol(kBytesWritten)]: 0
[info] >    },
[info] >    httpVersionMajor: 1,
[info] >    httpVersionMinor: 1,
[info] >    httpVersion: '1.1',
[info] >    complete: true,
[info] >    headers: {
[info] >      'user-agent': 'PostmanRuntime/7.22.0',
[info] >      accept: '*/*',
[info] >      'cache-control': 'no-cache',
[info] >      'postman-token': '82eaaa23-3bcc-4e66-ba38-e30a2fd641af',
[info] >      host: 'localhost:5000',
[info] >      'content-type': 'multipart/form-data; boundary=--------------------------789384458529294191552854',
[info] >      'accept-encoding': 'gzip, deflate, br',
[info] >      'content-length': '0',
[info] >      connection: 'keep-alive'
[info] >    },
[info] >    rawHeaders: [
[info] >      'user-agent',
[info] >      'PostmanRuntime/7.22.0',
[info] >      'accept',
[info] >      '*/*',
[info] >      'cache-control',
[info] >      'no-cache',
[info] >      'postman-token',
[info] >      '82eaaa23-3bcc-4e66-ba38-e30a2fd641af',
[info] >      'host',
[info] >      'localhost:5000',
[info] >      'content-type',
[info] >      'multipart/form-data; boundary=--------------------------789384458529294191552854',
[info] >      'accept-encoding',
[info] >      'gzip, deflate, br',
[info] >      'content-length',
[info] >      '0',
[info] >      'connection',
[info] >      'keep-alive'
[info] >    ],
[info] >    trailers: {},
[info] >    rawTrailers: [],
[info] >    aborted: false,
[info] >    upgrade: false,
[info] >    url: '/spotifyLogin',
[info] >    method: 'POST',
[info] >    statusCode: null,
[info] >    statusMessage: null,
[info] >    client: Socket {
[info] >      connecting: false,
[info] >      _hadError: false,
[info] >      _parent: null,
[info] >      _host: null,
[info] >      _readableState: ReadableState {
[info] >        objectMode: false,
[info] >        highWaterMark: 16384,
[info] >        buffer: BufferList { head: null, tail: null, length: 0 },
[info] >        length: 0,
[info] >        pipes: null,
[info] >        pipesCount: 0,
[info] >        flowing: true,
[info] >        ended: false,
[info] >        endEmitted: false,
[info] >        reading: true,
[info] >        sync: false,
[info] >        needReadable: true,
[info] >        emittedReadable: false,
[info] >        readableListening: false,
[info] >        resumeScheduled: false,
[info] >        paused: false,
[info] >        emitClose: false,
[info] >        autoDestroy: false,
[info] >        destroyed: false,
[info] >        defaultEncoding: 'utf8',
[info] >        awaitDrain: 0,
[info] >        readingMore: false,
[info] >        decoder: null,
[info] >        encoding: null
[info] >      },
[info] >      readable: true,
[info] >      _events: [Object: null prototype] {
[info] >        end: [Array],
[info] >        timeout: [Function: socketOnTimeout],
[info] >        data: [Function: bound socketOnData],
[info] >        error: [Function: socketOnError],
[info] >        close: [Array],
[info] >        drain: [Function: bound socketOnDrain],
[info] >        resume: [Function: onSocketResume],
[info] >        pause: [Function: onSocketPause]
[info] >      },
[info] >      _eventsCount: 8,
[info] >      _maxListeners: undefined,
[info] >      _writableState: WritableState {
[info] >        objectMode: false,
[info] >        highWaterMark: 16384,
[info] >        finalCalled: false,
[info] >        needDrain: false,
[info] >        ending: false,
[info] >        ended: false,
[info] >        finished: false,
[info] >        destroyed: false,
[info] >        decodeStrings: false,
[info] >        defaultEncoding: 'utf8',
[info] >        length: 0,
[info] >        writing: false,
[info] >        corked: 0,
[info] >        sync: true,
[info] >        bufferProcessing: false,
[info] >        onwrite: [Function: bound onwrite],
[info] >        writecb: null,
[info] >        writelen: 0,
[info] >        bufferedRequest: null,
[info] >        lastBufferedRequest: null,
[info] >        pendingcb: 0,
[info] >        prefinished: false,
[info] >        errorEmitted: false,
[info] >        emitClose: false,
[info] >        autoDestroy: false,
[info] >        bufferedRequestCount: 0,
[info] >        corkedRequestsFree: [Object]
[info] >      },
[info] >      writable: true,
[info] >      allowHalfOpen: true,
[info] >      _sockname: null,
[info] >      _pendingData: null,
[info] >      _pendingEncoding: '',
[info] >      server: Server {
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 3,
[info] >        _maxListeners: undefined,
[info] >        _connections: 1,
[info] >        _handle: [Pipe],
[info] >        _usingWorkers: false,
[info] >        _workers: [],
[info] >        _unref: false,
[info] >        allowHalfOpen: true,
[info] >        pauseOnConnect: false,
[info] >        httpAllowHalfOpen: false,
[info] >        timeout: 120000,
[info] >        keepAliveTimeout: 5000,
[info] >        maxHeadersCount: null,
[info] >        headersTimeout: 40000,
[info] >        _pipeName: '/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48609.sock',
[info] >        _connectionKey: '-1:/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48609.sock:-1',
[info] >        [Symbol(IncomingMessage)]: [Function: IncomingMessage],
[debug] [2020-02-19T03:41:47.533Z] [runtime-status] [48609] Ephemeral server survived.
[info] >  ReferenceError: ky is not defined
[info] >      at spotifyLogin (/Users/chrisaronchick/GitHub/splitsbyspotify/functions/handlers/users.js:122:5)
[info] >      at Layer.handle [as handle_request] (/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/express/lib/router/layer.js:95:5)
[info] >      at next (/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/express/lib/router/route.js:137:13)
[info] >      at Route.dispatch (/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/express/lib/router/route.js:112:3)
[info] >      at Layer.handle [as handle_request] (/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/express/lib/router/layer.js:95:5)
[info] >      at /Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/express/lib/router/index.js:281:22
[info] >      at Function.process_params (/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/express/lib/router/index.js:335:12)
[info] >      at next (/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/express/lib/router/index.js:275:10)
[info] >      at expressInit (/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/express/lib/middleware/init.js:40:5)
[info] >      at Layer.handle [as handle_request] (/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/express/lib/router/layer.js:95:5)
[info] >        [Symbol(ServerResponse)]: [Function: ServerResponse],
[info] >        [Symbol(asyncId)]: 22
[info] >      },
[info] >      _server: Server {
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 3,
[info] >        _maxListeners: undefined,
[info] >        _connections: 1,
[info] >        _handle: [Pipe],
[info] >        _usingWorkers: false,
[info] >        _workers: [],
[info] >        _unref: false,
[info] >        allowHalfOpen: true,
[info] >        pauseOnConnect: false,
[info] >        httpAllowHalfOpen: false,
[info] >        timeout: 120000,
[info] >        keepAliveTimeout: 5000,
[info] >        maxHeadersCount: null,
[info] >        headersTimeout: 40000,
[info] >        _pipeName: '/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48609.sock',
[info] >        _connectionKey: '-1:/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48609.sock:-1',
[info] >        [Symbol(IncomingMessage)]: [Function: IncomingMessage],
[info] >        [Symbol(ServerResponse)]: [Function: ServerResponse],
[info] >        [Symbol(asyncId)]: 22
[info] >      },
[info] >      timeout: 120000,
[info] >      parser: HTTPParser {
[info] >        '0': [Function: parserOnHeaders],
[info] >        '1': [Function: parserOnHeadersComplete],
[info] >        '2': [Function: parserOnBody],
[info] >        '3': [Function: parserOnMessageComplete],
[info] >        '4': [Function: bound onParserExecute],
[info] >        _headers: [],
[info] >        _url: '',
[info] >        socket: [Circular],
[info] >        incoming: [Circular],
[info] >        outgoing: null,
[info] >        maxHeaderPairs: 2000,
[info] >        _consumed: true,
[info] >        onIncoming: [Function: bound parserOnIncoming],
[info] >        parsingHeadersStart: 1582083707430
[info] >      },
[info] >      on: [Function: socketListenerWrap],
[info] >      addListener: [Function: socketListenerWrap],
[info] >      prependListener: [Function: socketListenerWrap],
[info] >      _paused: false,
[info] >      _httpMessage: ServerResponse {
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 1,
[info] >        _maxListeners: undefined,
[info] >        outputData: [],
[info] >        outputSize: 0,
[info] >        writable: true,
[info] >        _last: false,
[info] >        chunkedEncoding: false,
[info] >        shouldKeepAlive: true,
[info] >        useChunkedEncodingByDefault: true,
[info] >        sendDate: true,
[info] >        _removedConnection: false,
[info] >        _removedContLen: false,
[info] >        _removedTE: false,
[info] >        _contentLength: null,
[info] >        _hasBody: true,
[info] >        _trailer: '',
[info] >        finished: false,
[info] >        _headerSent: false,
[info] >        socket: [Circular],
[info] >        connection: [Circular],
[info] >        _header: null,
[info] >        _onPendingData: [Function: bound updateOutgoingData],
[info] >        _sent100: false,
[info] >        _expect_continue: false,
[info] >        req: [Circular],
[info] >        locals: [Object: null prototype] {},
[info] >        [Symbol(kNeedDrain)]: false,
[info] >        [Symbol(isCorked)]: false,
[info] >        [Symbol(kOutHeaders)]: [Object: null prototype]
[info] >      },
[info] >      [Symbol(asyncId)]: 25,
[info] >      [Symbol(kHandle)]: Pipe {
[info] >        reading: true,
[info] >        _consumed: true,
[info] >        [Symbol(owner)]: [Circular]
[info] >      },
[info] >      [Symbol(lastWriteQueueSize)]: 0,
[info] >      [Symbol(timeout)]: Timeout {
[info] >        _idleTimeout: 120000,
[info] >        _idlePrev: [TimersList],
[info] >        _idleNext: [TimersList],
[info] >        _idleStart: 787,
[info] >        _onTimeout: [Function: bound ],
[info] >        _timerArgs: undefined,
[info] >        _repeat: null,
[info] >        _destroyed: false,
[info] >        [Symbol(refed)]: false,
[info] >        [Symbol(asyncId)]: 26,
[info] >        [Symbol(triggerId)]: 25
[info] >      },
[info] >      [Symbol(kBuffer)]: null,
[info] >      [Symbol(kBufferCb)]: null,
[info] >      [Symbol(kBufferGen)]: null,
[info] >      [Symbol(kBytesRead)]: 0,
[info] >      [Symbol(kBytesWritten)]: 0
[info] >    },
[info] >    _consuming: false,
[info] >    _dumped: false,
[info] >    next: [Function: next],
[info] >    baseUrl: '/splitsbyspotify/us-central1/api',
[info] >    originalUrl: '/splitsbyspotify/us-central1/api/spotifyLogin',
[info] >    _parsedUrl: Url {
[info] >      protocol: null,
[info] >      slashes: null,
[info] >      auth: null,
[info] >      host: null,
[info] >      port: null,
[info] >      hostname: null,
[info] >      hash: null,
[info] >      search: null,
[info] >      query: null,
[info] >      pathname: '/spotifyLogin',
[info] >      path: '/spotifyLogin',
[info] >      href: '/spotifyLogin',
[info] >      _raw: '/spotifyLogin'
[info] >    },
[info] >    params: {},
[info] >    query: {},
[info] >    res: ServerResponse {
[info] >      _events: [Object: null prototype] { finish: [Array] },
[info] >      _eventsCount: 1,
[info] >      _maxListeners: undefined,
[info] >      outputData: [],
[info] >      outputSize: 0,
[info] >      writable: true,
[info] >      _last: false,
[info] >      chunkedEncoding: false,
[info] >      shouldKeepAlive: true,
[info] >      useChunkedEncodingByDefault: true,
[info] >      sendDate: true,
[info] >      _removedConnection: false,
[info] >      _removedContLen: false,
[info] >      _removedTE: false,
[info] >      _contentLength: null,
[info] >      _hasBody: true,
[info] >      _trailer: '',
[info] >      finished: false,
[info] >      _headerSent: false,
[info] >      socket: Socket {
[info] >        connecting: false,
[info] >        _hadError: false,
[info] >        _parent: null,
[info] >        _host: null,
[info] >        _readableState: [ReadableState],
[info] >        readable: true,
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 8,
[info] >        _maxListeners: undefined,
[info] >        _writableState: [WritableState],
[info] >        writable: true,
[info] >        allowHalfOpen: true,
[info] >        _sockname: null,
[info] >        _pendingData: null,
[info] >        _pendingEncoding: '',
[info] >        server: [Server],
[info] >        _server: [Server],
[info] >        timeout: 120000,
[info] >        parser: [HTTPParser],
[info] >        on: [Function: socketListenerWrap],
[info] >        addListener: [Function: socketListenerWrap],
[info] >        prependListener: [Function: socketListenerWrap],
[info] >        _paused: false,
[info] >        _httpMessage: [Circular],
[info] >        [Symbol(asyncId)]: 25,
[info] >        [Symbol(kHandle)]: [Pipe],
[info] >        [Symbol(lastWriteQueueSize)]: 0,
[info] >        [Symbol(timeout)]: Timeout {
[info] >          _idleTimeout: 120000,
[info] >          _idlePrev: [TimersList],
[info] >          _idleNext: [TimersList],
[info] >          _idleStart: 787,
[info] >          _onTimeout: [Function: bound ],
[info] >          _timerArgs: undefined,
[info] >          _repeat: null,
[info] >          _destroyed: false,
[info] >          [Symbol(refed)]: false,
[info] >          [Symbol(asyncId)]: 26,
[info] >          [Symbol(triggerId)]: 25
[info] >        },
[info] >        [Symbol(kBuffer)]: null,
[info] >        [Symbol(kBufferCb)]: null,
[info] >        [Symbol(kBufferGen)]: null,
[info] >        [Symbol(kBytesRead)]: 0,
[info] >        [Symbol(kBytesWritten)]: 0
[info] >      },
[info] >      connection: Socket {
[info] >        connecting: false,
[info] >        _hadError: false,
[info] >        _parent: null,
[info] >        _host: null,
[info] >        _readableState: [ReadableState],
[info] >        readable: true,
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 8,
[info] >        _maxListeners: undefined,
[info] >        _writableState: [WritableState],
[info] >        writable: true,
[info] >        allowHalfOpen: true,
[info] >        _sockname: null,
[info] >        _pendingData: null,
[info] >        _pendingEncoding: '',
[info] >        server: [Server],
[info] >        _server: [Server],
[info] >        timeout: 120000,
[info] >        parser: [HTTPParser],
[info] >        on: [Function: socketListenerWrap],
[info] >        addListener: [Function: socketListenerWrap],
[info] >        prependListener: [Function: socketListenerWrap],
[info] >        _paused: false,
[info] >        _httpMessage: [Circular],
[info] >        [Symbol(asyncId)]: 25,
[info] >        [Symbol(kHandle)]: [Pipe],
[info] >        [Symbol(lastWriteQueueSize)]: 0,
[info] >        [Symbol(timeout)]: Timeout {
[info] >          _idleTimeout: 120000,
[info] >          _idlePrev: [TimersList],
[info] >          _idleNext: [TimersList],
[info] >          _idleStart: 787,
[info] >          _onTimeout: [Function: bound ],
[info] >          _timerArgs: undefined,
[info] >          _repeat: null,
[info] >          _destroyed: false,
[info] >          [Symbol(refed)]: false,
[info] >          [Symbol(asyncId)]: 26,
[info] >          [Symbol(triggerId)]: 25
[info] >        },
[info] >        [Symbol(kBuffer)]: null,
[info] >        [Symbol(kBufferCb)]: null,
[info] >        [Symbol(kBufferGen)]: null,
[info] >        [Symbol(kBytesRead)]: 0,
[info] >        [Symbol(kBytesWritten)]: 0
[info] >      },
[info] >      _header: null,
[info] >      _onPendingData: [Function: bound updateOutgoingData],
[info] >      _sent100: false,
[info] >      _expect_continue: false,
[info] >      req: [Circular],
[info] >      locals: [Object: null prototype] {},
[info] >      [Symbol(kNeedDrain)]: false,
[info] >      [Symbol(isCorked)]: false,
[info] >      [Symbol(kOutHeaders)]: [Object: null prototype] { 'x-powered-by': [Array] }
[info] >    },
[info] >    body: <Buffer >,
[info] >    _body: true,
[info] >    length: undefined,
[info] >    rawBody: <Buffer >,
[info] >    route: Route {
[info] >      path: '/spotifyLogin',
[info] >      stack: [ [Layer] ],
[info] >      methods: { post: true }
[info] >    }
[info] >  }
[info] i  functions: Finished "api" in ~1s
[debug] [2020-02-19T03:41:47.583Z] [worker-api-90942879-8b3b-42e4-93cb-285fc8e61d3f]: IDLE
[debug] [2020-02-19T03:41:47.583Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-02-19T03:42:15.888Z] File /Users/chrisaronchick/GitHub/splitsbyspotify/functions/handlers/users.js changed, reloading triggers
[debug] [2020-02-19T03:42:16.890Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-02-19T03:42:16.890Z] [worker-~diagnostic~-afe92077-5896-40ac-ab3a-fe573ce8f361]: FINISHING
[debug] [2020-02-19T03:42:16.891Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-02-19T03:42:16.891Z] [worker-api-90942879-8b3b-42e4-93cb-285fc8e61d3f]: FINISHING
[debug] [2020-02-19T03:42:16.899Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-02-19T03:42:16.899Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-02-19T03:42:16.899Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-02-19T03:42:16.899Z] [worker-~diagnostic~-ebeb1310-8e4b-492f-b379-4956be589219]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48619.sock
[debug] [2020-02-19T03:42:16.899Z] [worker-~diagnostic~-ebeb1310-8e4b-492f-b379-4956be589219]: BUSY
[debug] [2020-02-19T03:42:16.901Z] [worker-~diagnostic~-afe92077-5896-40ac-ab3a-fe573ce8f361]: exited
[debug] [2020-02-19T03:42:16.901Z] [worker-~diagnostic~-afe92077-5896-40ac-ab3a-fe573ce8f361]: FINISHED
[debug] [2020-02-19T03:42:16.901Z] [worker-api-90942879-8b3b-42e4-93cb-285fc8e61d3f]: exited
[debug] [2020-02-19T03:42:16.901Z] [worker-api-90942879-8b3b-42e4-93cb-285fc8e61d3f]: FINISHED
[debug] [2020-02-19T03:42:17.360Z] [runtime-status] [48619] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T03:42:17.361Z] [runtime-status] [48619] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T03:42:17.363Z] [runtime-status] [48619] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T03:42:17.364Z] [runtime-status] [48619] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T03:42:17.365Z] [runtime-status] [48619] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T03:42:18.624Z] [worker-~diagnostic~-ebeb1310-8e4b-492f-b379-4956be589219]: IDLE
[debug] [2020-02-19T03:42:29.163Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-02-19T03:42:29.163Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-02-19T03:42:29.163Z] Accepted request POST /splitsbyspotify/us-central1/api/spotifyLogin --> api
[debug] [2020-02-19T03:42:29.163Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-02-19T03:42:29.163Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-02-19T03:42:29.171Z] [worker-pool] addWorker(api)
[debug] [2020-02-19T03:42:29.171Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-02-19T03:42:29.171Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-02-19T03:42:29.171Z] [worker-api-792aab0d-343a-40d9-9394-f0f86d8daa3c]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48636.sock
[debug] [2020-02-19T03:42:29.172Z] [worker-api-792aab0d-343a-40d9-9394-f0f86d8daa3c]: BUSY
[debug] [2020-02-19T03:42:29.694Z] [runtime-status] [48636] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T03:42:29.698Z] [runtime-status] [48636] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T03:42:29.702Z] [runtime-status] [48636] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T03:42:29.713Z] [runtime-status] [48636] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T03:42:29.716Z] [runtime-status] [48636] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T03:42:30.912Z] [runtime-status] [48636] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-02-19T03:42:30.913Z] [runtime-status] [48636] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-02-19T03:42:30.913Z] [runtime-status] [48636] Running api in mode HTTPS
[debug] [2020-02-19T03:42:30.926Z] [runtime-status] [48636] Attempting to listen to socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48636.sock
[debug] [2020-02-19T03:42:30.931Z] [functions] Runtime ready! Sending request!
[debug] [2020-02-19T03:42:30.950Z] [runtime-status] [48636] Ephemeral server handling POST request
[info] >  req IncomingMessage {
[info] >    _readableState: ReadableState {
[info] >      objectMode: false,
[info] >      highWaterMark: 16384,
[info] >      buffer: BufferList { head: null, tail: null, length: 0 },
[info] >      length: 0,
[info] >      pipes: null,
[info] >      pipesCount: 0,
[info] >      flowing: true,
[info] >      ended: true,
[info] >      endEmitted: true,
[info] >      reading: false,
[info] >      sync: true,
[info] >      needReadable: false,
[info] >      emittedReadable: false,
[info] >      readableListening: false,
[info] >      resumeScheduled: false,
[info] >      paused: false,
[info] >      emitClose: true,
[info] >      autoDestroy: false,
[info] >      destroyed: false,
[info] >      defaultEncoding: 'utf8',
[info] >      awaitDrain: 0,
[info] >      readingMore: true,
[info] >      decoder: null,
[info] >      encoding: null
[info] >    },
[info] >    readable: false,
[info] >    _events: [Object: null prototype] {
[info] >      end: [Function: resetHeadersTimeoutOnReqEnd]
[info] >    },
[info] >    _eventsCount: 1,
[info] >    _maxListeners: undefined,
[info] >    socket: Socket {
[info] >      connecting: false,
[info] >      _hadError: false,
[info] >      _parent: null,
[info] >      _host: null,
[info] >      _readableState: ReadableState {
[info] >        objectMode: false,
[info] >        highWaterMark: 16384,
[info] >        buffer: BufferList { head: null, tail: null, length: 0 },
[info] >        length: 0,
[info] >        pipes: null,
[info] >        pipesCount: 0,
[info] >        flowing: true,
[info] >        ended: false,
[info] >        endEmitted: false,
[info] >        reading: true,
[info] >        sync: false,
[info] >        needReadable: true,
[info] >        emittedReadable: false,
[info] >        readableListening: false,
[info] >        resumeScheduled: false,
[info] >        paused: false,
[info] >        emitClose: false,
[info] >        autoDestroy: false,
[info] >        destroyed: false,
[info] >        defaultEncoding: 'utf8',
[info] >        awaitDrain: 0,
[info] >        readingMore: false,
[info] >        decoder: null,
[info] >        encoding: null
[info] >      },
[info] >      readable: true,
[info] >      _events: [Object: null prototype] {
[info] >        end: [Array],
[info] >        timeout: [Function: socketOnTimeout],
[info] >        data: [Function: bound socketOnData],
[info] >        error: [Function: socketOnError],
[info] >        close: [Array],
[info] >        drain: [Function: bound socketOnDrain],
[info] >        resume: [Function: onSocketResume],
[info] >        pause: [Function: onSocketPause]
[info] >      },
[info] >      _eventsCount: 8,
[info] >      _maxListeners: undefined,
[info] >      _writableState: WritableState {
[info] >        objectMode: false,
[info] >        highWaterMark: 16384,
[info] >        finalCalled: false,
[info] >        needDrain: false,
[info] >        ending: false,
[info] >        ended: false,
[info] >        finished: false,
[info] >        destroyed: false,
[info] >        decodeStrings: false,
[info] >        defaultEncoding: 'utf8',
[info] >        length: 0,
[info] >        writing: false,
[info] >        corked: 0,
[info] >        sync: true,
[info] >        bufferProcessing: false,
[info] >        onwrite: [Function: bound onwrite],
[info] >        writecb: null,
[info] >        writelen: 0,
[info] >        bufferedRequest: null,
[info] >        lastBufferedRequest: null,
[info] >        pendingcb: 0,
[info] >        prefinished: false,
[info] >        errorEmitted: false,
[info] >        emitClose: false,
[info] >        autoDestroy: false,
[info] >        bufferedRequestCount: 0,
[info] >        corkedRequestsFree: [Object]
[info] >      },
[info] >      writable: true,
[info] >      allowHalfOpen: true,
[info] >      _sockname: null,
[info] >      _pendingData: null,
[info] >      _pendingEncoding: '',
[info] >      server: Server {
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 3,
[info] >        _maxListeners: undefined,
[info] >        _connections: 1,
[info] >        _handle: [Pipe],
[info] >        _usingWorkers: false,
[info] >        _workers: [],
[info] >        _unref: false,
[info] >        allowHalfOpen: true,
[info] >        pauseOnConnect: false,
[info] >        httpAllowHalfOpen: false,
[info] >        timeout: 120000,
[info] >        keepAliveTimeout: 5000,
[info] >        maxHeadersCount: null,
[info] >        headersTimeout: 40000,
[info] >        _pipeName: '/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48636.sock',
[info] >        _connectionKey: '-1:/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48636.sock:-1',
[info] >        [Symbol(IncomingMessage)]: [Function: IncomingMessage],
[info] >        [Symbol(ServerResponse)]: [Function: ServerResponse],
[info] >        [Symbol(asyncId)]: 22
[info] >      },
[info] >      _server: Server {
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 3,
[info] >        _maxListeners: undefined,
[info] >        _connections: 1,
[info] >        _handle: [Pipe],
[info] >        _usingWorkers: false,
[info] >        _workers: [],
[info] >        _unref: false,
[info] >        allowHalfOpen: true,
[info] >        pauseOnConnect: false,
[info] >        httpAllowHalfOpen: false,
[info] >        timeout: 120000,
[info] >        keepAliveTimeout: 5000,
[info] >        maxHeadersCount: null,
[info] >        headersTimeout: 40000,
[info] >        _pipeName: '/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48636.sock',
[info] >        _connectionKey: '-1:/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48636.sock:-1',
[info] >        [Symbol(IncomingMessage)]: [Function: IncomingMessage],
[info] >        [Symbol(ServerResponse)]: [Function: ServerResponse],
[info] >        [Symbol(asyncId)]: 22
[info] >      },
[info] >      timeout: 120000,
[info] >      parser: HTTPParser {
[info] >        '0': [Function: parserOnHeaders],
[info] >        '1': [Function: parserOnHeadersComplete],
[info] >        '2': [Function: parserOnBody],
[info] >        '3': [Function: parserOnMessageComplete],
[info] >        '4': [Function: bound onParserExecute],
[info] >        _headers: [],
[info] >        _url: '',
[info] >        socket: [Circular],
[info] >        incoming: [Circular],
[info] >        outgoing: null,
[info] >        maxHeaderPairs: 2000,
[info] >        _consumed: true,
[info] >        onIncoming: [Function: bound parserOnIncoming],
[info] >        parsingHeadersStart: 1582083750938
[info] >      },
[info] >      on: [Function: socketListenerWrap],
[info] >      addListener: [Function: socketListenerWrap],
[info] >      prependListener: [Function: socketListenerWrap],
[info] >      _paused: false,
[info] >      _httpMessage: ServerResponse {
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 1,
[info] >        _maxListeners: undefined,
[info] >        outputData: [],
[info] >        outputSize: 0,
[info] >        writable: true,
[info] >        _last: false,
[info] >        chunkedEncoding: false,
[info] >        shouldKeepAlive: true,
[info] >        useChunkedEncodingByDefault: true,
[info] >        sendDate: true,
[info] >        _removedConnection: false,
[info] >        _removedContLen: false,
[info] >        _removedTE: false,
[info] >        _contentLength: null,
[info] >        _hasBody: true,
[info] >        _trailer: '',
[info] >        finished: false,
[info] >        _headerSent: false,
[info] >        socket: [Circular],
[info] >        connection: [Circular],
[info] >        _header: null,
[info] >        _onPendingData: [Function: bound updateOutgoingData],
[info] >        _sent100: false,
[info] >        _expect_continue: false,
[info] >        req: [Circular],
[info] >        locals: [Object: null prototype] {},
[info] >        [Symbol(kNeedDrain)]: false,
[info] >        [Symbol(isCorked)]: false,
[info] >        [Symbol(kOutHeaders)]: [Object: null prototype]
[info] >      },
[info] >      [Symbol(asyncId)]: 25,
[info] >      [Symbol(kHandle)]: Pipe {
[info] >        reading: true,
[info] >        _consumed: true,
[info] >        [Symbol(owner)]: [Circular]
[info] >      },
[info] >      [Symbol(lastWriteQueueSize)]: 0,
[info] >      [Symbol(timeout)]: Timeout {
[info] >        _idleTimeout: 120000,
[info] >        _idlePrev: [TimersList],
[info] >        _idleNext: [TimersList],
[info] >        _idleStart: 1764,
[info] >        _onTimeout: [Function: bound ],
[info] >        _timerArgs: undefined,
[info] >        _repeat: null,
[info] >        _destroyed: false,
[info] >        [Symbol(refed)]: false,
[info] >        [Symbol(asyncId)]: 26,
[info] >        [Symbol(triggerId)]: 25
[info] >      },
[info] >      [Symbol(kBuffer)]: null,
[info] >      [Symbol(kBufferCb)]: null,
[info] >      [Symbol(kBufferGen)]: null,
[info] >      [Symbol(kBytesRead)]: 0,
[info] >      [Symbol(kBytesWritten)]: 0
[info] >    },
[info] >    connection: Socket {
[info] >      connecting: false,
[info] >      _hadError: false,
[info] >      _parent: null,
[info] >      _host: null,
[info] >      _readableState: ReadableState {
[info] >        objectMode: false,
[info] >        highWaterMark: 16384,
[info] >        buffer: BufferList { head: null, tail: null, length: 0 },
[info] >        length: 0,
[info] >        pipes: null,
[info] >        pipesCount: 0,
[info] >        flowing: true,
[info] >        ended: false,
[info] >        endEmitted: false,
[info] >        reading: true,
[info] >        sync: false,
[info] >        needReadable: true,
[info] >        emittedReadable: false,
[info] >        readableListening: false,
[info] >        resumeScheduled: false,
[info] >        paused: false,
[info] >        emitClose: false,
[info] >        autoDestroy: false,
[info] >        destroyed: false,
[info] >        defaultEncoding: 'utf8',
[info] >        awaitDrain: 0,
[info] >        readingMore: false,
[info] >        decoder: null,
[info] >        encoding: null
[info] >      },
[info] >      readable: true,
[info] >      _events: [Object: null prototype] {
[info] >        end: [Array],
[info] >        timeout: [Function: socketOnTimeout],
[info] >        data: [Function: bound socketOnData],
[info] >        error: [Function: socketOnError],
[info] >        close: [Array],
[info] >        drain: [Function: bound socketOnDrain],
[info] >        resume: [Function: onSocketResume],
[info] >        pause: [Function: onSocketPause]
[info] >      },
[info] >      _eventsCount: 8,
[info] >      _maxListeners: undefined,
[info] >      _writableState: WritableState {
[info] >        objectMode: false,
[info] >        highWaterMark: 16384,
[info] >        finalCalled: false,
[info] >        needDrain: false,
[info] >        ending: false,
[info] >        ended: false,
[info] >        finished: false,
[info] >        destroyed: false,
[info] >        decodeStrings: false,
[info] >        defaultEncoding: 'utf8',
[info] >        length: 0,
[info] >        writing: false,
[info] >        corked: 0,
[debug] [2020-02-19T03:42:31.025Z] [runtime-status] [48636] Ephemeral server survived.
[info] >        sync: true,
[info] >        bufferProcessing: false,
[info] >        onwrite: [Function: bound onwrite],
[info] >        writecb: null,
[info] >        writelen: 0,
[info] >        bufferedRequest: null,
[info] >        lastBufferedRequest: null,
[info] >        pendingcb: 0,
[info] >        prefinished: false,
[info] >        errorEmitted: false,
[info] >        emitClose: false,
[info] >        autoDestroy: false,
[info] >        bufferedRequestCount: 0,
[info] >        corkedRequestsFree: [Object]
[info] >      },
[info] >      writable: true,
[info] >      allowHalfOpen: true,
[info] >      _sockname: null,
[info] >      _pendingData: null,
[info] >      _pendingEncoding: '',
[info] >      server: Server {
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 3,
[info] >        _maxListeners: undefined,
[info] >        _connections: 1,
[info] >        _handle: [Pipe],
[info] >        _usingWorkers: false,
[info] >        _workers: [],
[info] >        _unref: false,
[info] >        allowHalfOpen: true,
[info] >        pauseOnConnect: false,
[info] >        httpAllowHalfOpen: false,
[info] >        timeout: 120000,
[info] >        keepAliveTimeout: 5000,
[info] >        maxHeadersCount: null,
[info] >        headersTimeout: 40000,
[info] >        _pipeName: '/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48636.sock',
[info] >        _connectionKey: '-1:/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48636.sock:-1',
[info] >        [Symbol(IncomingMessage)]: [Function: IncomingMessage],
[info] >        [Symbol(ServerResponse)]: [Function: ServerResponse],
[info] >        [Symbol(asyncId)]: 22
[info] >      },
[info] >      _server: Server {
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 3,
[info] >        _maxListeners: undefined,
[info] >        _connections: 1,
[info] >        _handle: [Pipe],
[info] >        _usingWorkers: false,
[info] >        _workers: [],
[info] >        _unref: false,
[info] >        allowHalfOpen: true,
[info] >        pauseOnConnect: false,
[info] >        httpAllowHalfOpen: false,
[info] >        timeout: 120000,
[info] >        keepAliveTimeout: 5000,
[info] >        maxHeadersCount: null,
[info] >        headersTimeout: 40000,
[info] >        _pipeName: '/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48636.sock',
[info] >        _connectionKey: '-1:/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48636.sock:-1',
[info] >        [Symbol(IncomingMessage)]: [Function: IncomingMessage],
[info] >        [Symbol(ServerResponse)]: [Function: ServerResponse],
[info] >        [Symbol(asyncId)]: 22
[info] >      },
[info] >      timeout: 120000,
[info] >      parser: HTTPParser {
[info] >        '0': [Function: parserOnHeaders],
[info] >        '1': [Function: parserOnHeadersComplete],
[info] >        '2': [Function: parserOnBody],
[info] >        '3': [Function: parserOnMessageComplete],
[info] >        '4': [Function: bound onParserExecute],
[info] >        _headers: [],
[info] >        _url: '',
[info] >        socket: [Circular],
[info] >        incoming: [Circular],
[info] >        outgoing: null,
[info] >        maxHeaderPairs: 2000,
[info] >        _consumed: true,
[info] >        onIncoming: [Function: bound parserOnIncoming],
[info] >        parsingHeadersStart: 1582083750938
[info] >      },
[info] >      on: [Function: socketListenerWrap],
[info] >      addListener: [Function: socketListenerWrap],
[info] >      prependListener: [Function: socketListenerWrap],
[info] >      _paused: false,
[info] >      _httpMessage: ServerResponse {
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 1,
[info] >        _maxListeners: undefined,
[info] >        outputData: [],
[info] >        outputSize: 0,
[info] >        writable: true,
[info] >        _last: false,
[info] >        chunkedEncoding: false,
[info] >        shouldKeepAlive: true,
[info] >        useChunkedEncodingByDefault: true,
[info] >        sendDate: true,
[info] >        _removedConnection: false,
[info] >        _removedContLen: false,
[info] >        _removedTE: false,
[info] >        _contentLength: null,
[info] >        _hasBody: true,
[info] >        _trailer: '',
[info] >        finished: false,
[info] >        _headerSent: false,
[info] >        socket: [Circular],
[info] >        connection: [Circular],
[info] >        _header: null,
[info] >        _onPendingData: [Function: bound updateOutgoingData],
[info] >        _sent100: false,
[info] >        _expect_continue: false,
[info] >        req: [Circular],
[info] >        locals: [Object: null prototype] {},
[info] >        [Symbol(kNeedDrain)]: false,
[info] >        [Symbol(isCorked)]: false,
[info] >        [Symbol(kOutHeaders)]: [Object: null prototype]
[info] >      },
[info] >      [Symbol(asyncId)]: 25,
[info] >      [Symbol(kHandle)]: Pipe {
[info] >        reading: true,
[info] >        _consumed: true,
[info] >        [Symbol(owner)]: [Circular]
[info] >      },
[info] >      [Symbol(lastWriteQueueSize)]: 0,
[info] >      [Symbol(timeout)]: Timeout {
[info] >        _idleTimeout: 120000,
[info] >        _idlePrev: [TimersList],
[info] >        _idleNext: [TimersList],
[info] >        _idleStart: 1764,
[info] >        _onTimeout: [Function: bound ],
[info] >        _timerArgs: undefined,
[info] >        _repeat: null,
[info] >        _destroyed: false,
[info] >        [Symbol(refed)]: false,
[info] >        [Symbol(asyncId)]: 26,
[info] >        [Symbol(triggerId)]: 25
[info] >      },
[info] >      [Symbol(kBuffer)]: null,
[info] >      [Symbol(kBufferCb)]: null,
[info] >      [Symbol(kBufferGen)]: null,
[info] >      [Symbol(kBytesRead)]: 0,
[info] >      [Symbol(kBytesWritten)]: 0
[info] >    },
[info] >    httpVersionMajor: 1,
[info] >    httpVersionMinor: 1,
[info] >    httpVersion: '1.1',
[info] >    complete: true,
[info] >    headers: {
[info] >      'user-agent': 'PostmanRuntime/7.22.0',
[info] >      accept: '*/*',
[info] >      'cache-control': 'no-cache',
[info] >      'postman-token': '186e183e-a832-4e09-991d-b26aad2b4bb5',
[info] >      host: 'localhost:5000',
[info] >      'content-type': 'multipart/form-data; boundary=--------------------------200828213615172527654358',
[info] >      'accept-encoding': 'gzip, deflate, br',
[info] >      'content-length': '0',
[info] >      connection: 'keep-alive'
[info] >    },
[info] >    rawHeaders: [
[info] >      'user-agent',
[info] >      'PostmanRuntime/7.22.0',
[info] >      'accept',
[info] >      '*/*',
[info] >      'cache-control',
[info] >      'no-cache',
[info] >      'postman-token',
[info] >      '186e183e-a832-4e09-991d-b26aad2b4bb5',
[info] >      'host',
[info] >      'localhost:5000',
[info] >      'content-type',
[info] >      'multipart/form-data; boundary=--------------------------200828213615172527654358',
[info] >      'accept-encoding',
[info] >      'gzip, deflate, br',
[info] >      'content-length',
[info] >      '0',
[info] >      'connection',
[info] >      'keep-alive'
[info] >    ],
[info] >    trailers: {},
[info] >    rawTrailers: [],
[info] >    aborted: false,
[info] >    upgrade: false,
[info] >    url: '/spotifyLogin',
[info] >    method: 'POST',
[info] >    statusCode: null,
[info] >    statusMessage: null,
[info] >    client: Socket {
[info] >      connecting: false,
[info] >      _hadError: false,
[info] >      _parent: null,
[info] >      _host: null,
[info] >      _readableState: ReadableState {
[info] >        objectMode: false,
[info] >        highWaterMark: 16384,
[info] >        buffer: BufferList { head: null, tail: null, length: 0 },
[info] >        length: 0,
[info] >        pipes: null,
[info] >        pipesCount: 0,
[info] >        flowing: true,
[info] >        ended: false,
[info] >        endEmitted: false,
[info] >        reading: true,
[info] >        sync: false,
[info] >        needReadable: true,
[info] >        emittedReadable: false,
[info] >        readableListening: false,
[info] >        resumeScheduled: false,
[info] >        paused: false,
[info] >        emitClose: false,
[info] >        autoDestroy: false,
[info] >        destroyed: false,
[info] >        defaultEncoding: 'utf8',
[info] >        awaitDrain: 0,
[info] >        readingMore: false,
[info] >        decoder: null,
[info] >        encoding: null
[info] >      },
[info] >      readable: true,
[info] >      _events: [Object: null prototype] {
[info] >        end: [Array],
[info] >        timeout: [Function: socketOnTimeout],
[info] >        data: [Function: bound socketOnData],
[info] >        error: [Function: socketOnError],
[info] >        close: [Array],
[info] >        drain: [Function: bound socketOnDrain],
[info] >        resume: [Function: onSocketResume],
[info] >        pause: [Function: onSocketPause]
[info] >      },
[info] >      _eventsCount: 8,
[info] >      _maxListeners: undefined,
[info] >      _writableState: WritableState {
[info] >        objectMode: false,
[info] >        highWaterMark: 16384,
[info] >        finalCalled: false,
[info] >        needDrain: false,
[info] >        ending: false,
[info] >        ended: false,
[info] >        finished: false,
[info] >        destroyed: false,
[info] >        decodeStrings: false,
[info] >        defaultEncoding: 'utf8',
[info] >        length: 0,
[info] >        writing: false,
[info] >        corked: 0,
[info] >        sync: true,
[info] >        bufferProcessing: false,
[info] >        onwrite: [Function: bound onwrite],
[info] >        writecb: null,
[info] >        writelen: 0,
[info] >        bufferedRequest: null,
[info] >        lastBufferedRequest: null,
[info] >        pendingcb: 0,
[info] >        prefinished: false,
[info] >        errorEmitted: false,
[info] >        emitClose: false,
[info] >        autoDestroy: false,
[info] >        bufferedRequestCount: 0,
[info] >        corkedRequestsFree: [Object]
[info] >      },
[info] >      writable: true,
[info] >      allowHalfOpen: true,
[info] >      _sockname: null,
[info] >      _pendingData: null,
[info] >      _pendingEncoding: '',
[info] >      server: Server {
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 3,
[info] >        _maxListeners: undefined,
[info] >        _connections: 1,
[info] >        _handle: [Pipe],
[info] >        _usingWorkers: false,
[info] >        _workers: [],
[info] >        _unref: false,
[info] >        allowHalfOpen: true,
[info] >        pauseOnConnect: false,
[info] >        httpAllowHalfOpen: false,
[info] >        timeout: 120000,
[info] >        keepAliveTimeout: 5000,
[info] >        maxHeadersCount: null,
[info] >        headersTimeout: 40000,
[info] >        _pipeName: '/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48636.sock',
[info] >        _connectionKey: '-1:/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48636.sock:-1',
[info] >        [Symbol(IncomingMessage)]: [Function: IncomingMessage],
[info] >        [Symbol(ServerResponse)]: [Function: ServerResponse],
[info] >        [Symbol(asyncId)]: 22
[info] >      },
[info] >      _server: Server {
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 3,
[info] >        _maxListeners: undefined,
[info] >        _connections: 1,
[info] >        _handle: [Pipe],
[info] >        _usingWorkers: false,
[info] >        _workers: [],
[info] >        _unref: false,
[info] >        allowHalfOpen: true,
[info] >        pauseOnConnect: false,
[info] >        httpAllowHalfOpen: false,
[info] >        timeout: 120000,
[info] >        keepAliveTimeout: 5000,
[info] >        maxHeadersCount: null,
[info] >        headersTimeout: 40000,
[info] >        _pipeName: '/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48636.sock',
[info] >        _connectionKey: '-1:/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48636.sock:-1',
[info] >        [Symbol(IncomingMessage)]: [Function: IncomingMessage],
[info] >        [Symbol(ServerResponse)]: [Function: ServerResponse],
[info] >        [Symbol(asyncId)]: 22
[info] >      },
[info] >      timeout: 120000,
[info] >      parser: HTTPParser {
[info] >        '0': [Function: parserOnHeaders],
[info] >        '1': [Function: parserOnHeadersComplete],
[info] >        '2': [Function: parserOnBody],
[info] >        '3': [Function: parserOnMessageComplete],
[info] >        '4': [Function: bound onParserExecute],
[info] >        _headers: [],
[info] >        _url: '',
[info] >        socket: [Circular],
[info] >        incoming: [Circular],
[info] >        outgoing: null,
[info] >        maxHeaderPairs: 2000,
[info] >        _consumed: true,
[info] >        onIncoming: [Function: bound parserOnIncoming],
[info] >        parsingHeadersStart: 1582083750938
[info] >      },
[info] >      on: [Function: socketListenerWrap],
[info] >      addListener: [Function: socketListenerWrap],
[info] >      prependListener: [Function: socketListenerWrap],
[info] >      _paused: false,
[info] >      _httpMessage: ServerResponse {
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 1,
[info] >        _maxListeners: undefined,
[info] >        outputData: [],
[info] >        outputSize: 0,
[info] >        writable: true,
[info] >        _last: false,
[info] >        chunkedEncoding: false,
[info] >        shouldKeepAlive: true,
[info] >        useChunkedEncodingByDefault: true,
[info] >        sendDate: true,
[info] >        _removedConnection: false,
[info] >        _removedContLen: false,
[info] >        _removedTE: false,
[info] >        _contentLength: null,
[info] >        _hasBody: true,
[info] >        _trailer: '',
[info] >        finished: false,
[info] >        _headerSent: false,
[info] >        socket: [Circular],
[info] >        connection: [Circular],
[info] >        _header: null,
[info] >        _onPendingData: [Function: bound updateOutgoingData],
[info] >        _sent100: false,
[info] >        _expect_continue: false,
[info] >        req: [Circular],
[info] >        locals: [Object: null prototype] {},
[info] >        [Symbol(kNeedDrain)]: false,
[info] >        [Symbol(isCorked)]: false,
[info] >        [Symbol(kOutHeaders)]: [Object: null prototype]
[info] >      },
[info] >      [Symbol(asyncId)]: 25,
[info] >      [Symbol(kHandle)]: Pipe {
[info] >        reading: true,
[info] >        _consumed: true,
[info] >        [Symbol(owner)]: [Circular]
[info] >      },
[info] >      [Symbol(lastWriteQueueSize)]: 0,
[info] >      [Symbol(timeout)]: Timeout {
[info] >        _idleTimeout: 120000,
[info] >        _idlePrev: [TimersList],
[info] >        _idleNext: [TimersList],
[info] >        _idleStart: 1764,
[info] >        _onTimeout: [Function: bound ],
[info] >        _timerArgs: undefined,
[info] >        _repeat: null,
[info] >        _destroyed: false,
[info] >        [Symbol(refed)]: false,
[info] >        [Symbol(asyncId)]: 26,
[info] >        [Symbol(triggerId)]: 25
[info] >      },
[info] >      [Symbol(kBuffer)]: null,
[info] >      [Symbol(kBufferCb)]: null,
[info] >      [Symbol(kBufferGen)]: null,
[info] >      [Symbol(kBytesRead)]: 0,
[info] >      [Symbol(kBytesWritten)]: 0
[info] >    },
[info] >    _consuming: false,
[info] >    _dumped: false,
[info] >    next: [Function: next],
[info] >    baseUrl: '/splitsbyspotify/us-central1/api',
[info] >    originalUrl: '/splitsbyspotify/us-central1/api/spotifyLogin',
[info] >    _parsedUrl: Url {
[info] >      protocol: null,
[info] >      slashes: null,
[info] >      auth: null,
[info] >      host: null,
[info] >      port: null,
[info] >      hostname: null,
[info] >      hash: null,
[info] >      search: null,
[info] >      query: null,
[info] >      pathname: '/spotifyLogin',
[info] >      path: '/spotifyLogin',
[info] >      href: '/spotifyLogin',
[info] >      _raw: '/spotifyLogin'
[info] >    },
[info] >    params: {},
[info] >    query: {},
[info] >    res: ServerResponse {
[info] >      _events: [Object: null prototype] { finish: [Array] },
[info] >      _eventsCount: 1,
[info] >      _maxListeners: undefined,
[info] >      outputData: [],
[info] >      outputSize: 0,
[info] >      writable: true,
[info] >      _last: false,
[info] >      chunkedEncoding: false,
[info] >      shouldKeepAlive: true,
[info] >      useChunkedEncodingByDefault: true,
[info] >      sendDate: true,
[info] >      _removedConnection: false,
[info] >      _removedContLen: false,
[info] >      _removedTE: false,
[info] >      _contentLength: null,
[info] >      _hasBody: true,
[info] >      _trailer: '',
[info] >      finished: false,
[info] >      _headerSent: false,
[info] >      socket: Socket {
[info] >        connecting: false,
[info] >        _hadError: false,
[info] >        _parent: null,
[info] >        _host: null,
[info] >        _readableState: [ReadableState],
[info] >        readable: true,
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 8,
[info] >        _maxListeners: undefined,
[info] >        _writableState: [WritableState],
[info] >        writable: true,
[info] >        allowHalfOpen: true,
[info] >        _sockname: null,
[info] >        _pendingData: null,
[info] >        _pendingEncoding: '',
[info] >        server: [Server],
[info] >        _server: [Server],
[info] >        timeout: 120000,
[info] >        parser: [HTTPParser],
[info] >        on: [Function: socketListenerWrap],
[info] >        addListener: [Function: socketListenerWrap],
[info] >        prependListener: [Function: socketListenerWrap],
[info] >        _paused: false,
[info] >        _httpMessage: [Circular],
[info] >        [Symbol(asyncId)]: 25,
[info] >        [Symbol(kHandle)]: [Pipe],
[info] >        [Symbol(lastWriteQueueSize)]: 0,
[info] >        [Symbol(timeout)]: Timeout {
[info] >          _idleTimeout: 120000,
[info] >          _idlePrev: [TimersList],
[info] >          _idleNext: [TimersList],
[info] >          _idleStart: 1764,
[info] >          _onTimeout: [Function: bound ],
[info] >          _timerArgs: undefined,
[info] >          _repeat: null,
[info] >          _destroyed: false,
[info] >          [Symbol(refed)]: false,
[info] >          [Symbol(asyncId)]: 26,
[info] >          [Symbol(triggerId)]: 25
[info] >        },
[info] >        [Symbol(kBuffer)]: null,
[info] >        [Symbol(kBufferCb)]: null,
[info] >        [Symbol(kBufferGen)]: null,
[info] >        [Symbol(kBytesRead)]: 0,
[info] >        [Symbol(kBytesWritten)]: 0
[info] >      },
[info] >      connection: Socket {
[info] >        connecting: false,
[info] >        _hadError: false,
[info] >        _parent: null,
[info] >        _host: null,
[info] >        _readableState: [ReadableState],
[info] >        readable: true,
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 8,
[info] >        _maxListeners: undefined,
[info] >        _writableState: [WritableState],
[info] >        writable: true,
[info] >        allowHalfOpen: true,
[info] >        _sockname: null,
[info] >        _pendingData: null,
[info] >        _pendingEncoding: '',
[info] >        server: [Server],
[info] >        _server: [Server],
[info] >        timeout: 120000,
[info] >        parser: [HTTPParser],
[info] >        on: [Function: socketListenerWrap],
[info] >        addListener: [Function: socketListenerWrap],
[info] >        prependListener: [Function: socketListenerWrap],
[info] >        _paused: false,
[info] >        _httpMessage: [Circular],
[info] >        [Symbol(asyncId)]: 25,
[info] >        [Symbol(kHandle)]: [Pipe],
[info] >        [Symbol(lastWriteQueueSize)]: 0,
[info] >        [Symbol(timeout)]: Timeout {
[info] >          _idleTimeout: 120000,
[info] >          _idlePrev: [TimersList],
[info] >          _idleNext: [TimersList],
[info] >          _idleStart: 1764,
[info] >          _onTimeout: [Function: bound ],
[info] >          _timerArgs: undefined,
[info] >          _repeat: null,
[info] >          _destroyed: false,
[info] >          [Symbol(refed)]: false,
[info] >          [Symbol(asyncId)]: 26,
[info] >          [Symbol(triggerId)]: 25
[info] >        },
[info] >        [Symbol(kBuffer)]: null,
[info] >        [Symbol(kBufferCb)]: null,
[info] >        [Symbol(kBufferGen)]: null,
[info] >        [Symbol(kBytesRead)]: 0,
[info] >        [Symbol(kBytesWritten)]: 0
[info] >      },
[info] >      _header: null,
[info] >      _onPendingData: [Function: bound updateOutgoingData],
[info] >      _sent100: false,
[info] >      _expect_continue: false,
[info] >      req: [Circular],
[info] >      locals: [Object: null prototype] {},
[info] >      [Symbol(kNeedDrain)]: false,
[info] >      [Symbol(isCorked)]: false,
[info] >      [Symbol(kOutHeaders)]: [Object: null prototype] { 'x-powered-by': [Array] }
[info] >    },
[info] >    body: <Buffer >,
[info] >    _body: true,
[info] >    length: undefined,
[info] >    rawBody: <Buffer >,
[info] >    route: Route {
[info] >      path: '/spotifyLogin',
[info] >      stack: [ [Layer] ],
[info] >      methods: { post: true }
[info] >    }
[info] >  }
[info] i  functions: Finished "api" in ~1s
[debug] [2020-02-19T03:42:31.444Z] [worker-api-792aab0d-343a-40d9-9394-f0f86d8daa3c]: IDLE
[debug] [2020-02-19T03:42:31.444Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-02-19T03:42:53.875Z] File /Users/chrisaronchick/GitHub/splitsbyspotify/functions/handlers/users.js changed, reloading triggers
[debug] [2020-02-19T03:42:54.879Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-02-19T03:42:54.879Z] [worker-~diagnostic~-ebeb1310-8e4b-492f-b379-4956be589219]: FINISHING
[debug] [2020-02-19T03:42:54.879Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-02-19T03:42:54.881Z] [worker-api-792aab0d-343a-40d9-9394-f0f86d8daa3c]: FINISHING
[debug] [2020-02-19T03:42:54.895Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-02-19T03:42:54.895Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-02-19T03:42:54.895Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-02-19T03:42:54.895Z] [worker-~diagnostic~-b10bd6c3-819b-4148-b413-17089985dc70]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48642.sock
[debug] [2020-02-19T03:42:54.895Z] [worker-~diagnostic~-b10bd6c3-819b-4148-b413-17089985dc70]: BUSY
[debug] [2020-02-19T03:42:54.897Z] [worker-~diagnostic~-ebeb1310-8e4b-492f-b379-4956be589219]: exited
[debug] [2020-02-19T03:42:54.897Z] [worker-~diagnostic~-ebeb1310-8e4b-492f-b379-4956be589219]: FINISHED
[debug] [2020-02-19T03:42:54.897Z] [worker-api-792aab0d-343a-40d9-9394-f0f86d8daa3c]: exited
[debug] [2020-02-19T03:42:54.897Z] [worker-api-792aab0d-343a-40d9-9394-f0f86d8daa3c]: FINISHED
[debug] [2020-02-19T03:42:55.517Z] [runtime-status] [48642] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T03:42:55.519Z] [runtime-status] [48642] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T03:42:55.521Z] [runtime-status] [48642] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T03:42:55.522Z] [runtime-status] [48642] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T03:42:55.523Z] [runtime-status] [48642] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T03:42:56.415Z] [worker-~diagnostic~-b10bd6c3-819b-4148-b413-17089985dc70]: IDLE
[debug] [2020-02-19T03:42:59.848Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-02-19T03:42:59.849Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-02-19T03:42:59.849Z] Accepted request POST /splitsbyspotify/us-central1/api/spotifyLogin --> api
[debug] [2020-02-19T03:42:59.849Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-02-19T03:42:59.849Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-02-19T03:42:59.855Z] [worker-pool] addWorker(api)
[debug] [2020-02-19T03:42:59.855Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-02-19T03:42:59.855Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-02-19T03:42:59.855Z] [worker-api-3c4a6b14-3710-42c9-8129-873e0e4a18b0]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48651.sock
[debug] [2020-02-19T03:42:59.855Z] [worker-api-3c4a6b14-3710-42c9-8129-873e0e4a18b0]: BUSY
[debug] [2020-02-19T03:43:00.218Z] [runtime-status] [48651] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T03:43:00.219Z] [runtime-status] [48651] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T03:43:00.221Z] [runtime-status] [48651] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T03:43:00.222Z] [runtime-status] [48651] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T03:43:00.223Z] [runtime-status] [48651] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T03:43:00.777Z] [runtime-status] [48651] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-02-19T03:43:00.777Z] [runtime-status] [48651] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-02-19T03:43:00.777Z] [runtime-status] [48651] Running api in mode HTTPS
[debug] [2020-02-19T03:43:00.786Z] [runtime-status] [48651] Attempting to listen to socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48651.sock
[debug] [2020-02-19T03:43:00.789Z] [functions] Runtime ready! Sending request!
[debug] [2020-02-19T03:43:00.803Z] [runtime-status] [48651] Ephemeral server handling POST request
[info] >  req IncomingMessage {
[info] >    _readableState: ReadableState {
[info] >      objectMode: false,
[info] >      highWaterMark: 16384,
[info] >      buffer: BufferList { head: null, tail: null, length: 0 },
[info] >      length: 0,
[info] >      pipes: null,
[info] >      pipesCount: 0,
[info] >      flowing: true,
[info] >      ended: true,
[info] >      endEmitted: true,
[info] >      reading: false,
[info] >      sync: true,
[info] >      needReadable: false,
[info] >      emittedReadable: false,
[info] >      readableListening: false,
[info] >      resumeScheduled: false,
[info] >      paused: false,
[info] >      emitClose: true,
[info] >      autoDestroy: false,
[info] >      destroyed: false,
[info] >      defaultEncoding: 'utf8',
[info] >      awaitDrain: 0,
[info] >      readingMore: true,
[info] >      decoder: null,
[info] >      encoding: null
[info] >    },
[info] >    readable: false,
[info] >    _events: [Object: null prototype] {
[info] >      end: [Function: resetHeadersTimeoutOnReqEnd]
[info] >    },
[info] >    _eventsCount: 1,
[info] >    _maxListeners: undefined,
[info] >    socket: Socket {
[info] >      connecting: false,
[info] >      _hadError: false,
[info] >      _parent: null,
[info] >      _host: null,
[info] >      _readableState: ReadableState {
[info] >        objectMode: false,
[info] >        highWaterMark: 16384,
[info] >        buffer: BufferList { head: null, tail: null, length: 0 },
[info] >        length: 0,
[info] >        pipes: null,
[info] >        pipesCount: 0,
[info] >        flowing: true,
[info] >        ended: false,
[info] >        endEmitted: false,
[info] >        reading: true,
[info] >        sync: false,
[info] >        needReadable: true,
[info] >        emittedReadable: false,
[info] >        readableListening: false,
[info] >        resumeScheduled: false,
[info] >        paused: false,
[info] >        emitClose: false,
[info] >        autoDestroy: false,
[info] >        destroyed: false,
[info] >        defaultEncoding: 'utf8',
[info] >        awaitDrain: 0,
[info] >        readingMore: false,
[info] >        decoder: null,
[info] >        encoding: null
[info] >      },
[info] >      readable: true,
[info] >      _events: [Object: null prototype] {
[info] >        end: [Array],
[info] >        timeout: [Function: socketOnTimeout],
[info] >        data: [Function: bound socketOnData],
[info] >        error: [Function: socketOnError],
[info] >        close: [Array],
[info] >        drain: [Function: bound socketOnDrain],
[info] >        resume: [Function: onSocketResume],
[info] >        pause: [Function: onSocketPause]
[info] >      },
[info] >      _eventsCount: 8,
[info] >      _maxListeners: undefined,
[info] >      _writableState: WritableState {
[info] >        objectMode: false,
[info] >        highWaterMark: 16384,
[info] >        finalCalled: false,
[info] >        needDrain: false,
[info] >        ending: false,
[info] >        ended: false,
[info] >        finished: false,
[info] >        destroyed: false,
[info] >        decodeStrings: false,
[info] >        defaultEncoding: 'utf8',
[info] >        length: 0,
[info] >        writing: false,
[info] >        corked: 0,
[info] >        sync: true,
[info] >        bufferProcessing: false,
[info] >        onwrite: [Function: bound onwrite],
[info] >        writecb: null,
[info] >        writelen: 0,
[info] >        bufferedRequest: null,
[info] >        lastBufferedRequest: null,
[info] >        pendingcb: 0,
[info] >        prefinished: false,
[info] >        errorEmitted: false,
[info] >        emitClose: false,
[info] >        autoDestroy: false,
[info] >        bufferedRequestCount: 0,
[info] >        corkedRequestsFree: [Object]
[info] >      },
[info] >      writable: true,
[info] >      allowHalfOpen: true,
[info] >      _sockname: null,
[info] >      _pendingData: null,
[info] >      _pendingEncoding: '',
[info] >      server: Server {
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 3,
[info] >        _maxListeners: undefined,
[info] >        _connections: 1,
[info] >        _handle: [Pipe],
[info] >        _usingWorkers: false,
[info] >        _workers: [],
[info] >        _unref: false,
[info] >        allowHalfOpen: true,
[info] >        pauseOnConnect: false,
[info] >        httpAllowHalfOpen: false,
[info] >        timeout: 120000,
[info] >        keepAliveTimeout: 5000,
[info] >        maxHeadersCount: null,
[info] >        headersTimeout: 40000,
[info] >        _pipeName: '/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48651.sock',
[info] >        _connectionKey: '-1:/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48651.sock:-1',
[info] >        [Symbol(IncomingMessage)]: [Function: IncomingMessage],
[info] >        [Symbol(ServerResponse)]: [Function: ServerResponse],
[info] >        [Symbol(asyncId)]: 22
[info] >      },
[info] >      _server: Server {
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 3,
[info] >        _maxListeners: undefined,
[info] >        _connections: 1,
[info] >        _handle: [Pipe],
[info] >        _usingWorkers: false,
[info] >        _workers: [],
[info] >        _unref: false,
[info] >        allowHalfOpen: true,
[info] >        pauseOnConnect: false,
[info] >        httpAllowHalfOpen: false,
[info] >        timeout: 120000,
[info] >        keepAliveTimeout: 5000,
[info] >        maxHeadersCount: null,
[info] >        headersTimeout: 40000,
[info] >        _pipeName: '/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48651.sock',
[info] >        _connectionKey: '-1:/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48651.sock:-1',
[info] >        [Symbol(IncomingMessage)]: [Function: IncomingMessage],
[info] >        [Symbol(ServerResponse)]: [Function: ServerResponse],
[info] >        [Symbol(asyncId)]: 22
[info] >      },
[info] >      timeout: 120000,
[info] >      parser: HTTPParser {
[info] >        '0': [Function: parserOnHeaders],
[info] >        '1': [Function: parserOnHeadersComplete],
[info] >        '2': [Function: parserOnBody],
[info] >        '3': [Function: parserOnMessageComplete],
[info] >        '4': [Function: bound onParserExecute],
[info] >        _headers: [],
[info] >        _url: '',
[info] >        socket: [Circular],
[info] >        incoming: [Circular],
[info] >        outgoing: null,
[info] >        maxHeaderPairs: 2000,
[info] >        _consumed: true,
[info] >        onIncoming: [Function: bound parserOnIncoming],
[info] >        parsingHeadersStart: 1582083780791
[info] >      },
[info] >      on: [Function: socketListenerWrap],
[info] >      addListener: [Function: socketListenerWrap],
[info] >      prependListener: [Function: socketListenerWrap],
[info] >      _paused: false,
[info] >      _httpMessage: ServerResponse {
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 1,
[info] >        _maxListeners: undefined,
[info] >        outputData: [],
[info] >        outputSize: 0,
[info] >        writable: true,
[info] >        _last: false,
[info] >        chunkedEncoding: false,
[info] >        shouldKeepAlive: true,
[info] >        useChunkedEncodingByDefault: true,
[info] >        sendDate: true,
[info] >        _removedConnection: false,
[info] >        _removedContLen: false,
[info] >        _removedTE: false,
[info] >        _contentLength: null,
[info] >        _hasBody: true,
[info] >        _trailer: '',
[info] >        finished: false,
[info] >        _headerSent: false,
[info] >        socket: [Circular],
[info] >        connection: [Circular],
[info] >        _header: null,
[info] >        _onPendingData: [Function: bound updateOutgoingData],
[info] >        _sent100: false,
[info] >        _expect_continue: false,
[info] >        req: [Circular],
[info] >        locals: [Object: null prototype] {},
[info] >        [Symbol(kNeedDrain)]: false,
[info] >        [Symbol(isCorked)]: false,
[info] >        [Symbol(kOutHeaders)]: [Object: null prototype]
[info] >      },
[info] >      [Symbol(asyncId)]: 25,
[info] >      [Symbol(kHandle)]: Pipe {
[info] >        reading: true,
[info] >        _consumed: true,
[info] >        [Symbol(owner)]: [Circular]
[info] >      },
[info] >      [Symbol(lastWriteQueueSize)]: 0,
[info] >      [Symbol(timeout)]: Timeout {
[info] >        _idleTimeout: 120000,
[info] >        _idlePrev: [TimersList],
[info] >        _idleNext: [TimersList],
[info] >        _idleStart: 937,
[info] >        _onTimeout: [Function: bound ],
[info] >        _timerArgs: undefined,
[info] >        _repeat: null,
[info] >        _destroyed: false,
[info] >        [Symbol(refed)]: false,
[info] >        [Symbol(asyncId)]: 26,
[info] >        [Symbol(triggerId)]: 25
[info] >      },
[info] >      [Symbol(kBuffer)]: null,
[info] >      [Symbol(kBufferCb)]: null,
[info] >      [Symbol(kBufferGen)]: null,
[info] >      [Symbol(kBytesRead)]: 0,
[info] >      [Symbol(kBytesWritten)]: 0
[info] >    },
[info] >    connection: Socket {
[info] >      connecting: false,
[info] >      _hadError: false,
[info] >      _parent: null,
[info] >      _host: null,
[info] >      _readableState: ReadableState {
[info] >        objectMode: false,
[info] >        highWaterMark: 16384,
[info] >        buffer: BufferList { head: null, tail: null, length: 0 },
[info] >        length: 0,
[info] >        pipes: null,
[info] >        pipesCount: 0,
[info] >        flowing: true,
[info] >        ended: false,
[info] >        endEmitted: false,
[info] >        reading: true,
[info] >        sync: false,
[info] >        needReadable: true,
[info] >        emittedReadable: false,
[info] >        readableListening: false,
[info] >        resumeScheduled: false,
[info] >        paused: false,
[info] >        emitClose: false,
[info] >        autoDestroy: false,
[info] >        destroyed: false,
[info] >        defaultEncoding: 'utf8',
[info] >        awaitDrain: 0,
[info] >        readingMore: false,
[info] >        decoder: null,
[info] >        encoding: null
[info] >      },
[info] >      readable: true,
[info] >      _events: [Object: null prototype] {
[info] >        end: [Array],
[info] >        timeout: [Function: socketOnTimeout],
[info] >        data: [Function: bound socketOnData],
[info] >        error: [Function: socketOnError],
[info] >        close: [Array],
[info] >        drain: [Function: bound socketOnDrain],
[info] >        resume: [Function: onSocketResume],
[info] >        pause: [Function: onSocketPause]
[info] >      },
[info] >      _eventsCount: 8,
[info] >      _maxListeners: undefined,
[info] >      _writableState: WritableState {
[info] >        objectMode: false,
[info] >        highWaterMark: 16384,
[info] >        finalCalled: false,
[info] >        needDrain: false,
[info] >        ending: false,
[info] >        ended: false,
[info] >        finished: false,
[info] >        destroyed: false,
[info] >        decodeStrings: false,
[info] >        defaultEncoding: 'utf8',
[info] >        length: 0,
[info] >        writing: false,
[info] >        corked: 0,
[info] >        sync: true,
[info] >        bufferProcessing: false,
[info] >        onwrite: [Function: bound onwrite],
[info] >        writecb: null,
[info] >        writelen: 0,
[info] >        bufferedRequest: null,
[info] >        lastBufferedRequest: null,
[info] >        pendingcb: 0,
[info] >        prefinished: false,
[info] >        errorEmitted: false,
[info] >        emitClose: false,
[info] >        autoDestroy: false,
[info] >        bufferedRequestCount: 0,
[info] >        corkedRequestsFree: [Object]
[info] >      },
[info] >      writable: true,
[info] >      allowHalfOpen: true,
[info] >      _sockname: null,
[info] >      _pendingData: null,
[info] >      _pendingEncoding: '',
[info] >      server: Server {
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 3,
[info] >        _maxListeners: undefined,
[info] >        _connections: 1,
[info] >        _handle: [Pipe],
[info] >        _usingWorkers: false,
[info] >        _workers: [],
[info] >        _unref: false,
[info] >        allowHalfOpen: true,
[info] >        pauseOnConnect: false,
[info] >        httpAllowHalfOpen: false,
[info] >        timeout: 120000,
[info] >        keepAliveTimeout: 5000,
[info] >        maxHeadersCount: null,
[info] >        headersTimeout: 40000,
[info] >        _pipeName: '/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48651.sock',
[info] >        _connectionKey: '-1:/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48651.sock:-1',
[info] >        [Symbol(IncomingMessage)]: [Function: IncomingMessage],
[info] >        [Symbol(ServerResponse)]: [Function: ServerResponse],
[info] >        [Symbol(asyncId)]: 22
[info] >      },
[info] >      _server: Server {
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 3,
[info] >        _maxListeners: undefined,
[info] >        _connections: 1,
[info] >        _handle: [Pipe],
[info] >        _usingWorkers: false,
[info] >        _workers: [],
[info] >        _unref: false,
[info] >        allowHalfOpen: true,
[info] >        pauseOnConnect: false,
[info] >        httpAllowHalfOpen: false,
[info] >        timeout: 120000,
[info] >        keepAliveTimeout: 5000,
[info] >        maxHeadersCount: null,
[info] >        headersTimeout: 40000,
[info] >        _pipeName: '/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48651.sock',
[info] >        _connectionKey: '-1:/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48651.sock:-1',
[info] >        [Symbol(IncomingMessage)]: [Function: IncomingMessage],
[info] >        [Symbol(ServerResponse)]: [Function: ServerResponse],
[info] >        [Symbol(asyncId)]: 22
[info] >      },
[info] >      timeout: 120000,
[info] >      parser: HTTPParser {
[info] >        '0': [Function: parserOnHeaders],
[info] >        '1': [Function: parserOnHeadersComplete],
[info] >        '2': [Function: parserOnBody],
[info] >        '3': [Function: parserOnMessageComplete],
[info] >        '4': [Function: bound onParserExecute],
[info] >        _headers: [],
[info] >        _url: '',
[info] >        socket: [Circular],
[info] >        incoming: [Circular],
[info] >        outgoing: null,
[info] >        maxHeaderPairs: 2000,
[info] >        _consumed: true,
[info] >        onIncoming: [Function: bound parserOnIncoming],
[info] >        parsingHeadersStart: 1582083780791
[info] >      },
[info] >      on: [Function: socketListenerWrap],
[info] >      addListener: [Function: socketListenerWrap],
[info] >      prependListener: [Function: socketListenerWrap],
[info] >      _paused: false,
[info] >      _httpMessage: ServerResponse {
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 1,
[info] >        _maxListeners: undefined,
[info] >        outputData: [],
[info] >        outputSize: 0,
[info] >        writable: true,
[info] >        _last: false,
[info] >        chunkedEncoding: false,
[info] >        shouldKeepAlive: true,
[info] >        useChunkedEncodingByDefault: true,
[info] >        sendDate: true,
[info] >        _removedConnection: false,
[info] >        _removedContLen: false,
[info] >        _removedTE: false,
[info] >        _contentLength: null,
[info] >        _hasBody: true,
[info] >        _trailer: '',
[info] >        finished: false,
[info] >        _headerSent: false,
[info] >        socket: [Circular],
[info] >        connection: [Circular],
[info] >        _header: null,
[info] >        _onPendingData: [Function: bound updateOutgoingData],
[info] >        _sent100: false,
[info] >        _expect_continue: false,
[info] >        req: [Circular],
[info] >        locals: [Object: null prototype] {},
[info] >        [Symbol(kNeedDrain)]: false,
[info] >        [Symbol(isCorked)]: false,
[info] >        [Symbol(kOutHeaders)]: [Object: null prototype]
[info] >      },
[info] >      [Symbol(asyncId)]: 25,
[info] >      [Symbol(kHandle)]: Pipe {
[info] >        reading: true,
[info] >        _consumed: true,
[info] >        [Symbol(owner)]: [Circular]
[info] >      },
[info] >      [Symbol(lastWriteQueueSize)]: 0,
[info] >      [Symbol(timeout)]: Timeout {
[info] >        _idleTimeout: 120000,
[info] >        _idlePrev: [TimersList],
[info] >        _idleNext: [TimersList],
[info] >        _idleStart: 937,
[info] >        _onTimeout: [Function: bound ],
[info] >        _timerArgs: undefined,
[info] >        _repeat: null,
[info] >        _destroyed: false,
[info] >        [Symbol(refed)]: false,
[info] >        [Symbol(asyncId)]: 26,
[info] >        [Symbol(triggerId)]: 25
[info] >      },
[info] >      [Symbol(kBuffer)]: null,
[info] >      [Symbol(kBufferCb)]: null,
[info] >      [Symbol(kBufferGen)]: null,
[info] >      [Symbol(kBytesRead)]: 0,
[info] >      [Symbol(kBytesWritten)]: 0
[info] >    },
[info] >    httpVersionMajor: 1,
[info] >    httpVersionMinor: 1,
[info] >    httpVersion: '1.1',
[info] >    complete: true,
[info] >    headers: {
[info] >      'user-agent': 'PostmanRuntime/7.22.0',
[info] >      accept: '*/*',
[info] >      'cache-control': 'no-cache',
[info] >      'postman-token': 'f5419d01-5fa2-4d4c-9676-7e9fe05b0af4',
[info] >      host: 'localhost:5000',
[info] >      'content-type': 'multipart/form-data; boundary=--------------------------691922029516449124653388',
[info] >      'accept-encoding': 'gzip, deflate, br',
[info] >      'content-length': '0',
[info] >      connection: 'keep-alive'
[info] >    },
[info] >    rawHeaders: [
[info] >      'user-agent',
[info] >      'PostmanRuntime/7.22.0',
[info] >      'accept',
[info] >      '*/*',
[info] >      'cache-control',
[info] >      'no-cache',
[info] >      'postman-token',
[info] >      'f5419d01-5fa2-4d4c-9676-7e9fe05b0af4',
[info] >      'host',
[info] >      'localhost:5000',
[info] >      'content-type',
[info] >      'multipart/form-data; boundary=--------------------------691922029516449124653388',
[info] >      'accept-encoding',
[info] >      'gzip, deflate, br',
[info] >      'content-length',
[info] >      '0',
[info] >      'connection',
[info] >      'keep-alive'
[info] >    ],
[info] >    trailers: {},
[info] >    rawTrailers: [],
[info] >    aborted: false,
[info] >    upgrade: false,
[info] >    url: '/spotifyLogin',
[info] >    method: 'POST',
[info] >    statusCode: null,
[info] >    statusMessage: null,
[info] >    client: Socket {
[info] >      connecting: false,
[info] >      _hadError: false,
[info] >      _parent: null,
[info] >      _host: null,
[info] >      _readableState: ReadableState {
[info] >        objectMode: false,
[info] >        highWaterMark: 16384,
[info] >        buffer: BufferList { head: null, tail: null, length: 0 },
[info] >        length: 0,
[info] >        pipes: null,
[info] >        pipesCount: 0,
[info] >        flowing: true,
[info] >        ended: false,
[info] >        endEmitted: false,
[info] >        reading: true,
[info] >        sync: false,
[info] >        needReadable: true,
[info] >        emittedReadable: false,
[info] >        readableListening: false,
[info] >        resumeScheduled: false,
[info] >        paused: false,
[info] >        emitClose: false,
[info] >        autoDestroy: false,
[info] >        destroyed: false,
[info] >        defaultEncoding: 'utf8',
[info] >        awaitDrain: 0,
[info] >        readingMore: false,
[info] >        decoder: null,
[info] >        encoding: null
[info] >      },
[info] >      readable: true,
[info] >      _events: [Object: null prototype] {
[info] >        end: [Array],
[info] >        timeout: [Function: socketOnTimeout],
[info] >        data: [Function: bound socketOnData],
[info] >        error: [Function: socketOnError],
[info] >        close: [Array],
[info] >        drain: [Function: bound socketOnDrain],
[info] >        resume: [Function: onSocketResume],
[info] >        pause: [Function: onSocketPause]
[info] >      },
[info] >      _eventsCount: 8,
[info] >      _maxListeners: undefined,
[info] >      _writableState: WritableState {
[info] >        objectMode: false,
[info] >        highWaterMark: 16384,
[info] >        finalCalled: false,
[info] >        needDrain: false,
[info] >        ending: false,
[info] >        ended: false,
[info] >        finished: false,
[info] >        destroyed: false,
[info] >        decodeStrings: false,
[info] >        defaultEncoding: 'utf8',
[info] >        length: 0,
[info] >        writing: false,
[info] >        corked: 0,
[info] >        sync: true,
[info] >        bufferProcessing: false,
[info] >        onwrite: [Function: bound onwrite],
[info] >        writecb: null,
[info] >        writelen: 0,
[info] >        bufferedRequest: null,
[info] >        lastBufferedRequest: null,
[info] >        pendingcb: 0,
[info] >        prefinished: false,
[info] >        errorEmitted: false,
[info] >        emitClose: false,
[info] >        autoDestroy: false,
[info] >        bufferedRequestCount: 0,
[info] >        corkedRequestsFree: [Object]
[info] >      },
[info] >      writable: true,
[info] >      allowHalfOpen: true,
[info] >      _sockname: null,
[info] >      _pendingData: null,
[info] >      _pendingEncoding: '',
[info] >      server: Server {
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 3,
[info] >        _maxListeners: undefined,
[info] >        _connections: 1,
[info] >        _handle: [Pipe],
[info] >        _usingWorkers: false,
[info] >        _workers: [],
[info] >        _unref: false,
[info] >        allowHalfOpen: true,
[info] >        pauseOnConnect: false,
[info] >        httpAllowHalfOpen: false,
[info] >        timeout: 120000,
[info] >        keepAliveTimeout: 5000,
[info] >        maxHeadersCount: null,
[info] >        headersTimeout: 40000,
[info] >        _pipeName: '/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48651.sock',
[info] >        _connectionKey: '-1:/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48651.sock:-1',
[info] >        [Symbol(IncomingMessage)]: [Function: IncomingMessage],
[debug] [2020-02-19T03:43:00.876Z] [runtime-status] [48651] Ephemeral server survived.
[info] >        [Symbol(ServerResponse)]: [Function: ServerResponse],
[info] >        [Symbol(asyncId)]: 22
[info] >      },
[info] >      _server: Server {
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 3,
[info] >        _maxListeners: undefined,
[info] >        _connections: 1,
[info] >        _handle: [Pipe],
[info] >        _usingWorkers: false,
[info] >        _workers: [],
[info] >        _unref: false,
[info] >        allowHalfOpen: true,
[info] >        pauseOnConnect: false,
[info] >        httpAllowHalfOpen: false,
[info] >        timeout: 120000,
[info] >        keepAliveTimeout: 5000,
[info] >        maxHeadersCount: null,
[info] >        headersTimeout: 40000,
[info] >        _pipeName: '/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48651.sock',
[info] >        _connectionKey: '-1:/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48651.sock:-1',
[info] >        [Symbol(IncomingMessage)]: [Function: IncomingMessage],
[info] >        [Symbol(ServerResponse)]: [Function: ServerResponse],
[info] >        [Symbol(asyncId)]: 22
[info] >      },
[info] >      timeout: 120000,
[info] >      parser: HTTPParser {
[info] >        '0': [Function: parserOnHeaders],
[info] >        '1': [Function: parserOnHeadersComplete],
[info] >        '2': [Function: parserOnBody],
[info] >        '3': [Function: parserOnMessageComplete],
[info] >        '4': [Function: bound onParserExecute],
[info] >        _headers: [],
[info] >        _url: '',
[info] >        socket: [Circular],
[info] >        incoming: [Circular],
[info] >        outgoing: null,
[info] >        maxHeaderPairs: 2000,
[info] >        _consumed: true,
[info] >        onIncoming: [Function: bound parserOnIncoming],
[info] >        parsingHeadersStart: 1582083780791
[info] >      },
[info] >      on: [Function: socketListenerWrap],
[info] >      addListener: [Function: socketListenerWrap],
[info] >      prependListener: [Function: socketListenerWrap],
[info] >      _paused: false,
[info] >      _httpMessage: ServerResponse {
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 1,
[info] >        _maxListeners: undefined,
[info] >        outputData: [],
[info] >        outputSize: 0,
[info] >        writable: true,
[info] >        _last: false,
[info] >        chunkedEncoding: false,
[info] >        shouldKeepAlive: true,
[info] >        useChunkedEncodingByDefault: true,
[info] >        sendDate: true,
[info] >        _removedConnection: false,
[info] >        _removedContLen: false,
[info] >        _removedTE: false,
[info] >        _contentLength: null,
[info] >        _hasBody: true,
[info] >        _trailer: '',
[info] >        finished: false,
[info] >        _headerSent: false,
[info] >        socket: [Circular],
[info] >        connection: [Circular],
[info] >        _header: null,
[info] >        _onPendingData: [Function: bound updateOutgoingData],
[info] >        _sent100: false,
[info] >        _expect_continue: false,
[info] >        req: [Circular],
[info] >        locals: [Object: null prototype] {},
[info] >        [Symbol(kNeedDrain)]: false,
[info] >        [Symbol(isCorked)]: false,
[info] >        [Symbol(kOutHeaders)]: [Object: null prototype]
[info] >      },
[info] >      [Symbol(asyncId)]: 25,
[info] >      [Symbol(kHandle)]: Pipe {
[info] >        reading: true,
[info] >        _consumed: true,
[info] >        [Symbol(owner)]: [Circular]
[info] >      },
[info] >      [Symbol(lastWriteQueueSize)]: 0,
[info] >      [Symbol(timeout)]: Timeout {
[info] >        _idleTimeout: 120000,
[info] >        _idlePrev: [TimersList],
[info] >        _idleNext: [TimersList],
[info] >        _idleStart: 937,
[info] >        _onTimeout: [Function: bound ],
[info] >        _timerArgs: undefined,
[info] >        _repeat: null,
[info] >        _destroyed: false,
[info] >        [Symbol(refed)]: false,
[info] >        [Symbol(asyncId)]: 26,
[info] >        [Symbol(triggerId)]: 25
[info] >      },
[info] >      [Symbol(kBuffer)]: null,
[info] >      [Symbol(kBufferCb)]: null,
[info] >      [Symbol(kBufferGen)]: null,
[info] >      [Symbol(kBytesRead)]: 0,
[info] >      [Symbol(kBytesWritten)]: 0
[info] >    },
[info] >    _consuming: false,
[info] >    _dumped: false,
[info] >    next: [Function: next],
[info] >    baseUrl: '/splitsbyspotify/us-central1/api',
[info] >    originalUrl: '/splitsbyspotify/us-central1/api/spotifyLogin',
[info] >    _parsedUrl: Url {
[info] >      protocol: null,
[info] >      slashes: null,
[info] >      auth: null,
[info] >      host: null,
[info] >      port: null,
[info] >      hostname: null,
[info] >      hash: null,
[info] >      search: null,
[info] >      query: null,
[info] >      pathname: '/spotifyLogin',
[info] >      path: '/spotifyLogin',
[info] >      href: '/spotifyLogin',
[info] >      _raw: '/spotifyLogin'
[info] >    },
[info] >    params: {},
[info] >    query: {},
[info] >    res: ServerResponse {
[info] >      _events: [Object: null prototype] { finish: [Array] },
[info] >      _eventsCount: 1,
[info] >      _maxListeners: undefined,
[info] >      outputData: [],
[info] >      outputSize: 0,
[info] >      writable: true,
[info] >      _last: false,
[info] >      chunkedEncoding: false,
[info] >      shouldKeepAlive: true,
[info] >      useChunkedEncodingByDefault: true,
[info] >      sendDate: true,
[info] >      _removedConnection: false,
[info] >      _removedContLen: false,
[info] >      _removedTE: false,
[info] >      _contentLength: null,
[info] >      _hasBody: true,
[info] >      _trailer: '',
[info] >      finished: false,
[info] >      _headerSent: false,
[info] >      socket: Socket {
[info] >        connecting: false,
[info] >        _hadError: false,
[info] >        _parent: null,
[info] >        _host: null,
[info] >        _readableState: [ReadableState],
[info] >        readable: true,
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 8,
[info] >        _maxListeners: undefined,
[info] >        _writableState: [WritableState],
[info] >        writable: true,
[info] >        allowHalfOpen: true,
[info] >        _sockname: null,
[info] >        _pendingData: null,
[info] >        _pendingEncoding: '',
[info] >        server: [Server],
[info] >        _server: [Server],
[info] >        timeout: 120000,
[info] >        parser: [HTTPParser],
[info] >        on: [Function: socketListenerWrap],
[info] >        addListener: [Function: socketListenerWrap],
[info] >        prependListener: [Function: socketListenerWrap],
[info] >        _paused: false,
[info] >        _httpMessage: [Circular],
[info] >        [Symbol(asyncId)]: 25,
[info] >        [Symbol(kHandle)]: [Pipe],
[info] >        [Symbol(lastWriteQueueSize)]: 0,
[info] >        [Symbol(timeout)]: Timeout {
[info] >          _idleTimeout: 120000,
[info] >          _idlePrev: [TimersList],
[info] >          _idleNext: [TimersList],
[info] >          _idleStart: 937,
[info] >          _onTimeout: [Function: bound ],
[info] >          _timerArgs: undefined,
[info] >          _repeat: null,
[info] >          _destroyed: false,
[info] >          [Symbol(refed)]: false,
[info] >          [Symbol(asyncId)]: 26,
[info] >          [Symbol(triggerId)]: 25
[info] >        },
[info] >        [Symbol(kBuffer)]: null,
[info] >        [Symbol(kBufferCb)]: null,
[info] >        [Symbol(kBufferGen)]: null,
[info] >        [Symbol(kBytesRead)]: 0,
[info] >        [Symbol(kBytesWritten)]: 0
[info] >      },
[info] >      connection: Socket {
[info] >        connecting: false,
[info] >        _hadError: false,
[info] >        _parent: null,
[info] >        _host: null,
[info] >        _readableState: [ReadableState],
[info] >        readable: true,
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 8,
[info] >        _maxListeners: undefined,
[info] >        _writableState: [WritableState],
[info] >        writable: true,
[info] >        allowHalfOpen: true,
[info] >        _sockname: null,
[info] >        _pendingData: null,
[info] >        _pendingEncoding: '',
[info] >        server: [Server],
[info] >        _server: [Server],
[info] >        timeout: 120000,
[info] >        parser: [HTTPParser],
[info] >        on: [Function: socketListenerWrap],
[info] >        addListener: [Function: socketListenerWrap],
[info] >        prependListener: [Function: socketListenerWrap],
[info] >        _paused: false,
[info] >        _httpMessage: [Circular],
[info] >        [Symbol(asyncId)]: 25,
[info] >        [Symbol(kHandle)]: [Pipe],
[info] >        [Symbol(lastWriteQueueSize)]: 0,
[info] >        [Symbol(timeout)]: Timeout {
[info] >          _idleTimeout: 120000,
[info] >          _idlePrev: [TimersList],
[info] >          _idleNext: [TimersList],
[info] >          _idleStart: 937,
[info] >          _onTimeout: [Function: bound ],
[info] >          _timerArgs: undefined,
[info] >          _repeat: null,
[info] >          _destroyed: false,
[info] >          [Symbol(refed)]: false,
[info] >          [Symbol(asyncId)]: 26,
[info] >          [Symbol(triggerId)]: 25
[info] >        },
[info] >        [Symbol(kBuffer)]: null,
[info] >        [Symbol(kBufferCb)]: null,
[info] >        [Symbol(kBufferGen)]: null,
[info] >        [Symbol(kBytesRead)]: 0,
[info] >        [Symbol(kBytesWritten)]: 0
[info] >      },
[info] >      _header: null,
[info] >      _onPendingData: [Function: bound updateOutgoingData],
[info] >      _sent100: false,
[info] >      _expect_continue: false,
[info] >      req: [Circular],
[info] >      locals: [Object: null prototype] {},
[info] >      [Symbol(kNeedDrain)]: false,
[info] >      [Symbol(isCorked)]: false,
[info] >      [Symbol(kOutHeaders)]: [Object: null prototype] { 'x-powered-by': [Array] }
[info] >    },
[info] >    body: <Buffer >,
[info] >    _body: true,
[info] >    length: undefined,
[info] >    rawBody: <Buffer >,
[info] >    route: Route {
[info] >      path: '/spotifyLogin',
[info] >      stack: [ [Layer] ],
[info] >      methods: { post: true }
[info] >    }
[info] >  }
[info] i  functions: Finished "api" in ~1s
[debug] [2020-02-19T03:43:01.284Z] [worker-api-3c4a6b14-3710-42c9-8129-873e0e4a18b0]: IDLE
[debug] [2020-02-19T03:43:01.284Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-02-19T03:43:32.385Z] File /Users/chrisaronchick/GitHub/splitsbyspotify/functions/handlers/users.js changed, reloading triggers
[debug] [2020-02-19T03:43:33.385Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-02-19T03:43:33.385Z] [worker-~diagnostic~-b10bd6c3-819b-4148-b413-17089985dc70]: FINISHING
[debug] [2020-02-19T03:43:33.385Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-02-19T03:43:33.385Z] [worker-api-3c4a6b14-3710-42c9-8129-873e0e4a18b0]: FINISHING
[debug] [2020-02-19T03:43:33.412Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-02-19T03:43:33.412Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-02-19T03:43:33.412Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-02-19T03:43:33.413Z] [worker-~diagnostic~-5ac5c123-b667-4b7a-9d73-de56d39c6952]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48660.sock
[debug] [2020-02-19T03:43:33.413Z] [worker-~diagnostic~-5ac5c123-b667-4b7a-9d73-de56d39c6952]: BUSY
[debug] [2020-02-19T03:43:33.414Z] [worker-~diagnostic~-b10bd6c3-819b-4148-b413-17089985dc70]: exited
[debug] [2020-02-19T03:43:33.414Z] [worker-~diagnostic~-b10bd6c3-819b-4148-b413-17089985dc70]: FINISHED
[debug] [2020-02-19T03:43:33.415Z] [worker-api-3c4a6b14-3710-42c9-8129-873e0e4a18b0]: exited
[debug] [2020-02-19T03:43:33.415Z] [worker-api-3c4a6b14-3710-42c9-8129-873e0e4a18b0]: FINISHED
[debug] [2020-02-19T03:43:33.719Z] [runtime-status] [48660] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T03:43:33.721Z] [runtime-status] [48660] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T03:43:33.722Z] [runtime-status] [48660] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T03:43:33.723Z] [runtime-status] [48660] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T03:43:33.724Z] [runtime-status] [48660] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T03:43:34.243Z] [worker-~diagnostic~-5ac5c123-b667-4b7a-9d73-de56d39c6952]: IDLE
[debug] [2020-02-19T03:43:38.296Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-02-19T03:43:38.297Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-02-19T03:43:38.297Z] Accepted request POST /splitsbyspotify/us-central1/api/spotifyLogin --> api
[debug] [2020-02-19T03:43:38.297Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-02-19T03:43:38.297Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-02-19T03:43:38.304Z] [worker-pool] addWorker(api)
[debug] [2020-02-19T03:43:38.304Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-02-19T03:43:38.304Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-02-19T03:43:38.305Z] [worker-api-78ee137c-738c-4fa0-aa63-3f2cf53f2ef1]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48661.sock
[debug] [2020-02-19T03:43:38.305Z] [worker-api-78ee137c-738c-4fa0-aa63-3f2cf53f2ef1]: BUSY
[debug] [2020-02-19T03:43:38.736Z] [runtime-status] [48661] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T03:43:38.737Z] [runtime-status] [48661] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T03:43:38.739Z] [runtime-status] [48661] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T03:43:38.740Z] [runtime-status] [48661] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T03:43:38.741Z] [runtime-status] [48661] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T03:43:39.302Z] [runtime-status] [48661] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-02-19T03:43:39.302Z] [runtime-status] [48661] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-02-19T03:43:39.302Z] [runtime-status] [48661] Running api in mode HTTPS
[debug] [2020-02-19T03:43:39.308Z] [runtime-status] [48661] Attempting to listen to socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48661.sock
[debug] [2020-02-19T03:43:39.311Z] [functions] Runtime ready! Sending request!
[debug] [2020-02-19T03:43:39.322Z] [runtime-status] [48661] Ephemeral server handling POST request
[info] >  req IncomingMessage {
[info] >    _readableState: ReadableState {
[info] >      objectMode: false,
[info] >      highWaterMark: 16384,
[info] >      buffer: BufferList { head: null, tail: null, length: 0 },
[info] >      length: 0,
[info] >      pipes: null,
[info] >      pipesCount: 0,
[info] >      flowing: true,
[info] >      ended: true,
[info] >      endEmitted: true,
[info] >      reading: false,
[info] >      sync: true,
[info] >      needReadable: false,
[info] >      emittedReadable: false,
[info] >      readableListening: false,
[info] >      resumeScheduled: false,
[info] >      paused: false,
[info] >      emitClose: true,
[info] >      autoDestroy: false,
[info] >      destroyed: false,
[info] >      defaultEncoding: 'utf8',
[info] >      awaitDrain: 0,
[info] >      readingMore: true,
[info] >      decoder: null,
[info] >      encoding: null
[info] >    },
[info] >    readable: false,
[info] >    _events: [Object: null prototype] {
[info] >      end: [Function: resetHeadersTimeoutOnReqEnd]
[info] >    },
[info] >    _eventsCount: 1,
[info] >    _maxListeners: undefined,
[info] >    socket: Socket {
[info] >      connecting: false,
[info] >      _hadError: false,
[info] >      _parent: null,
[info] >      _host: null,
[info] >      _readableState: ReadableState {
[info] >        objectMode: false,
[info] >        highWaterMark: 16384,
[info] >        buffer: BufferList { head: null, tail: null, length: 0 },
[info] >        length: 0,
[info] >        pipes: null,
[info] >        pipesCount: 0,
[info] >        flowing: true,
[info] >        ended: false,
[info] >        endEmitted: false,
[info] >        reading: true,
[info] >        sync: false,
[info] >        needReadable: true,
[info] >        emittedReadable: false,
[info] >        readableListening: false,
[info] >        resumeScheduled: false,
[info] >        paused: false,
[info] >        emitClose: false,
[info] >        autoDestroy: false,
[info] >        destroyed: false,
[info] >        defaultEncoding: 'utf8',
[info] >        awaitDrain: 0,
[info] >        readingMore: false,
[info] >        decoder: null,
[info] >        encoding: null
[info] >      },
[info] >      readable: true,
[info] >      _events: [Object: null prototype] {
[info] >        end: [Array],
[info] >        timeout: [Function: socketOnTimeout],
[info] >        data: [Function: bound socketOnData],
[info] >        error: [Function: socketOnError],
[info] >        close: [Array],
[info] >        drain: [Function: bound socketOnDrain],
[info] >        resume: [Function: onSocketResume],
[info] >        pause: [Function: onSocketPause]
[info] >      },
[info] >      _eventsCount: 8,
[info] >      _maxListeners: undefined,
[info] >      _writableState: WritableState {
[info] >        objectMode: false,
[info] >        highWaterMark: 16384,
[info] >        finalCalled: false,
[info] >        needDrain: false,
[info] >        ending: false,
[info] >        ended: false,
[info] >        finished: false,
[info] >        destroyed: false,
[info] >        decodeStrings: false,
[info] >        defaultEncoding: 'utf8',
[info] >        length: 0,
[info] >        writing: false,
[info] >        corked: 0,
[info] >        sync: true,
[info] >        bufferProcessing: false,
[info] >        onwrite: [Function: bound onwrite],
[info] >        writecb: null,
[info] >        writelen: 0,
[info] >        bufferedRequest: null,
[info] >        lastBufferedRequest: null,
[info] >        pendingcb: 0,
[info] >        prefinished: false,
[info] >        errorEmitted: false,
[info] >        emitClose: false,
[info] >        autoDestroy: false,
[info] >        bufferedRequestCount: 0,
[info] >        corkedRequestsFree: [Object]
[info] >      },
[info] >      writable: true,
[info] >      allowHalfOpen: true,
[info] >      _sockname: null,
[info] >      _pendingData: null,
[info] >      _pendingEncoding: '',
[info] >      server: Server {
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 3,
[info] >        _maxListeners: undefined,
[info] >        _connections: 1,
[info] >        _handle: [Pipe],
[info] >        _usingWorkers: false,
[info] >        _workers: [],
[info] >        _unref: false,
[info] >        allowHalfOpen: true,
[info] >        pauseOnConnect: false,
[info] >        httpAllowHalfOpen: false,
[info] >        timeout: 120000,
[info] >        keepAliveTimeout: 5000,
[info] >        maxHeadersCount: null,
[info] >        headersTimeout: 40000,
[info] >        _pipeName: '/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48661.sock',
[info] >        _connectionKey: '-1:/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48661.sock:-1',
[info] >        [Symbol(IncomingMessage)]: [Function: IncomingMessage],
[info] >        [Symbol(ServerResponse)]: [Function: ServerResponse],
[info] >        [Symbol(asyncId)]: 22
[info] >      },
[info] >      _server: Server {
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 3,
[info] >        _maxListeners: undefined,
[info] >        _connections: 1,
[info] >        _handle: [Pipe],
[info] >        _usingWorkers: false,
[info] >        _workers: [],
[info] >        _unref: false,
[info] >        allowHalfOpen: true,
[info] >        pauseOnConnect: false,
[info] >        httpAllowHalfOpen: false,
[info] >        timeout: 120000,
[info] >        keepAliveTimeout: 5000,
[info] >        maxHeadersCount: null,
[info] >        headersTimeout: 40000,
[info] >        _pipeName: '/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48661.sock',
[info] >        _connectionKey: '-1:/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48661.sock:-1',
[info] >        [Symbol(IncomingMessage)]: [Function: IncomingMessage],
[info] >        [Symbol(ServerResponse)]: [Function: ServerResponse],
[info] >        [Symbol(asyncId)]: 22
[info] >      },
[info] >      timeout: 120000,
[info] >      parser: HTTPParser {
[info] >        '0': [Function: parserOnHeaders],
[info] >        '1': [Function: parserOnHeadersComplete],
[info] >        '2': [Function: parserOnBody],
[info] >        '3': [Function: parserOnMessageComplete],
[info] >        '4': [Function: bound onParserExecute],
[info] >        _headers: [],
[info] >        _url: '',
[info] >        socket: [Circular],
[info] >        incoming: [Circular],
[info] >        outgoing: null,
[info] >        maxHeaderPairs: 2000,
[info] >        _consumed: true,
[info] >        onIncoming: [Function: bound parserOnIncoming],
[info] >        parsingHeadersStart: 1582083819313
[info] >      },
[info] >      on: [Function: socketListenerWrap],
[info] >      addListener: [Function: socketListenerWrap],
[info] >      prependListener: [Function: socketListenerWrap],
[info] >      _paused: false,
[info] >      _httpMessage: ServerResponse {
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 1,
[info] >        _maxListeners: undefined,
[info] >        outputData: [],
[info] >        outputSize: 0,
[info] >        writable: true,
[info] >        _last: false,
[info] >        chunkedEncoding: false,
[info] >        shouldKeepAlive: true,
[info] >        useChunkedEncodingByDefault: true,
[info] >        sendDate: true,
[info] >        _removedConnection: false,
[info] >        _removedContLen: false,
[info] >        _removedTE: false,
[info] >        _contentLength: null,
[info] >        _hasBody: true,
[info] >        _trailer: '',
[info] >        finished: false,
[info] >        _headerSent: false,
[info] >        socket: [Circular],
[info] >        connection: [Circular],
[info] >        _header: null,
[info] >        _onPendingData: [Function: bound updateOutgoingData],
[info] >        _sent100: false,
[info] >        _expect_continue: false,
[info] >        req: [Circular],
[info] >        locals: [Object: null prototype] {},
[info] >        [Symbol(kNeedDrain)]: false,
[info] >        [Symbol(isCorked)]: false,
[info] >        [Symbol(kOutHeaders)]: [Object: null prototype]
[info] >      },
[info] >      [Symbol(asyncId)]: 25,
[info] >      [Symbol(kHandle)]: Pipe {
[info] >        reading: true,
[info] >        _consumed: true,
[info] >        [Symbol(owner)]: [Circular]
[info] >      },
[info] >      [Symbol(lastWriteQueueSize)]: 0,
[info] >      [Symbol(timeout)]: Timeout {
[info] >        _idleTimeout: 120000,
[info] >        _idlePrev: [TimersList],
[info] >        _idleNext: [TimersList],
[info] >        _idleStart: 1006,
[info] >        _onTimeout: [Function: bound ],
[info] >        _timerArgs: undefined,
[info] >        _repeat: null,
[info] >        _destroyed: false,
[info] >        [Symbol(refed)]: false,
[info] >        [Symbol(asyncId)]: 26,
[info] >        [Symbol(triggerId)]: 25
[info] >      },
[info] >      [Symbol(kBuffer)]: null,
[info] >      [Symbol(kBufferCb)]: null,
[info] >      [Symbol(kBufferGen)]: null,
[info] >      [Symbol(kBytesRead)]: 0,
[info] >      [Symbol(kBytesWritten)]: 0
[info] >    },
[info] >    connection: Socket {
[info] >      connecting: false,
[info] >      _hadError: false,
[info] >      _parent: null,
[info] >      _host: null,
[info] >      _readableState: ReadableState {
[info] >        objectMode: false,
[info] >        highWaterMark: 16384,
[info] >        buffer: BufferList { head: null, tail: null, length: 0 },
[info] >        length: 0,
[info] >        pipes: null,
[info] >        pipesCount: 0,
[info] >        flowing: true,
[info] >        ended: false,
[info] >        endEmitted: false,
[info] >        reading: true,
[info] >        sync: false,
[info] >        needReadable: true,
[info] >        emittedReadable: false,
[info] >        readableListening: false,
[info] >        resumeScheduled: false,
[info] >        paused: false,
[info] >        emitClose: false,
[info] >        autoDestroy: false,
[info] >        destroyed: false,
[info] >        defaultEncoding: 'utf8',
[info] >        awaitDrain: 0,
[info] >        readingMore: false,
[info] >        decoder: null,
[info] >        encoding: null
[info] >      },
[info] >      readable: true,
[info] >      _events: [Object: null prototype] {
[info] >        end: [Array],
[info] >        timeout: [Function: socketOnTimeout],
[info] >        data: [Function: bound socketOnData],
[info] >        error: [Function: socketOnError],
[info] >        close: [Array],
[info] >        drain: [Function: bound socketOnDrain],
[info] >        resume: [Function: onSocketResume],
[info] >        pause: [Function: onSocketPause]
[info] >      },
[info] >      _eventsCount: 8,
[info] >      _maxListeners: undefined,
[info] >      _writableState: WritableState {
[info] >        objectMode: false,
[info] >        highWaterMark: 16384,
[info] >        finalCalled: false,
[info] >        needDrain: false,
[info] >        ending: false,
[info] >        ended: false,
[info] >        finished: false,
[info] >        destroyed: false,
[info] >        decodeStrings: false,
[info] >        defaultEncoding: 'utf8',
[info] >        length: 0,
[info] >        writing: false,
[info] >        corked: 0,
[info] >        sync: true,
[info] >        bufferProcessing: false,
[info] >        onwrite: [Function: bound onwrite],
[info] >        writecb: null,
[info] >        writelen: 0,
[info] >        bufferedRequest: null,
[info] >        lastBufferedRequest: null,
[info] >        pendingcb: 0,
[info] >        prefinished: false,
[info] >        errorEmitted: false,
[info] >        emitClose: false,
[info] >        autoDestroy: false,
[info] >        bufferedRequestCount: 0,
[info] >        corkedRequestsFree: [Object]
[info] >      },
[info] >      writable: true,
[info] >      allowHalfOpen: true,
[info] >      _sockname: null,
[info] >      _pendingData: null,
[info] >      _pendingEncoding: '',
[info] >      server: Server {
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 3,
[info] >        _maxListeners: undefined,
[info] >        _connections: 1,
[info] >        _handle: [Pipe],
[info] >        _usingWorkers: false,
[info] >        _workers: [],
[info] >        _unref: false,
[info] >        allowHalfOpen: true,
[info] >        pauseOnConnect: false,
[info] >        httpAllowHalfOpen: false,
[info] >        timeout: 120000,
[info] >        keepAliveTimeout: 5000,
[info] >        maxHeadersCount: null,
[info] >        headersTimeout: 40000,
[info] >        _pipeName: '/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48661.sock',
[info] >        _connectionKey: '-1:/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48661.sock:-1',
[info] >        [Symbol(IncomingMessage)]: [Function: IncomingMessage],
[info] >        [Symbol(ServerResponse)]: [Function: ServerResponse],
[info] >        [Symbol(asyncId)]: 22
[info] >      },
[info] >      _server: Server {
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 3,
[info] >        _maxListeners: undefined,
[info] >        _connections: 1,
[info] >        _handle: [Pipe],
[info] >        _usingWorkers: false,
[info] >        _workers: [],
[info] >        _unref: false,
[info] >        allowHalfOpen: true,
[info] >        pauseOnConnect: false,
[info] >        httpAllowHalfOpen: false,
[info] >        timeout: 120000,
[info] >        keepAliveTimeout: 5000,
[info] >        maxHeadersCount: null,
[info] >        headersTimeout: 40000,
[info] >        _pipeName: '/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48661.sock',
[info] >        _connectionKey: '-1:/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48661.sock:-1',
[info] >        [Symbol(IncomingMessage)]: [Function: IncomingMessage],
[info] >        [Symbol(ServerResponse)]: [Function: ServerResponse],
[info] >        [Symbol(asyncId)]: 22
[info] >      },
[info] >      timeout: 120000,
[info] >      parser: HTTPParser {
[info] >        '0': [Function: parserOnHeaders],
[info] >        '1': [Function: parserOnHeadersComplete],
[info] >        '2': [Function: parserOnBody],
[info] >        '3': [Function: parserOnMessageComplete],
[info] >        '4': [Function: bound onParserExecute],
[info] >        _headers: [],
[info] >        _url: '',
[info] >        socket: [Circular],
[info] >        incoming: [Circular],
[info] >        outgoing: null,
[info] >        maxHeaderPairs: 2000,
[info] >        _consumed: true,
[info] >        onIncoming: [Function: bound parserOnIncoming],
[info] >        parsingHeadersStart: 1582083819313
[info] >      },
[info] >      on: [Function: socketListenerWrap],
[info] >      addListener: [Function: socketListenerWrap],
[info] >      prependListener: [Function: socketListenerWrap],
[info] >      _paused: false,
[info] >      _httpMessage: ServerResponse {
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 1,
[info] >        _maxListeners: undefined,
[info] >        outputData: [],
[info] >        outputSize: 0,
[info] >        writable: true,
[info] >        _last: false,
[info] >        chunkedEncoding: false,
[info] >        shouldKeepAlive: true,
[info] >        useChunkedEncodingByDefault: true,
[info] >        sendDate: true,
[info] >        _removedConnection: false,
[info] >        _removedContLen: false,
[info] >        _removedTE: false,
[info] >        _contentLength: null,
[info] >        _hasBody: true,
[info] >        _trailer: '',
[info] >        finished: false,
[info] >        _headerSent: false,
[info] >        socket: [Circular],
[info] >        connection: [Circular],
[info] >        _header: null,
[info] >        _onPendingData: [Function: bound updateOutgoingData],
[info] >        _sent100: false,
[info] >        _expect_continue: false,
[info] >        req: [Circular],
[info] >        locals: [Object: null prototype] {},
[info] >        [Symbol(kNeedDrain)]: false,
[info] >        [Symbol(isCorked)]: false,
[info] >        [Symbol(kOutHeaders)]: [Object: null prototype]
[info] >      },
[info] >      [Symbol(asyncId)]: 25,
[info] >      [Symbol(kHandle)]: Pipe {
[info] >        reading: true,
[info] >        _consumed: true,
[info] >        [Symbol(owner)]: [Circular]
[info] >      },
[info] >      [Symbol(lastWriteQueueSize)]: 0,
[info] >      [Symbol(timeout)]: Timeout {
[info] >        _idleTimeout: 120000,
[info] >        _idlePrev: [TimersList],
[info] >        _idleNext: [TimersList],
[info] >        _idleStart: 1006,
[info] >        _onTimeout: [Function: bound ],
[info] >        _timerArgs: undefined,
[info] >        _repeat: null,
[info] >        _destroyed: false,
[info] >        [Symbol(refed)]: false,
[info] >        [Symbol(asyncId)]: 26,
[info] >        [Symbol(triggerId)]: 25
[info] >      },
[info] >      [Symbol(kBuffer)]: null,
[info] >      [Symbol(kBufferCb)]: null,
[info] >      [Symbol(kBufferGen)]: null,
[info] >      [Symbol(kBytesRead)]: 0,
[info] >      [Symbol(kBytesWritten)]: 0
[info] >    },
[info] >    httpVersionMajor: 1,
[info] >    httpVersionMinor: 1,
[info] >    httpVersion: '1.1',
[info] >    complete: true,
[info] >    headers: {
[info] >      'user-agent': 'PostmanRuntime/7.22.0',
[info] >      accept: '*/*',
[info] >      'cache-control': 'no-cache',
[info] >      'postman-token': 'c7d77c33-af88-4c73-8ec8-7daaaad0feb8',
[info] >      host: 'localhost:5000',
[info] >      'content-type': 'multipart/form-data; boundary=--------------------------643142416767186254779688',
[info] >      'accept-encoding': 'gzip, deflate, br',
[info] >      'content-length': '0',
[info] >      connection: 'keep-alive'
[info] >    },
[info] >    rawHeaders: [
[info] >      'user-agent',
[info] >      'PostmanRuntime/7.22.0',
[info] >      'accept',
[info] >      '*/*',
[info] >      'cache-control',
[info] >      'no-cache',
[info] >      'postman-token',
[info] >      'c7d77c33-af88-4c73-8ec8-7daaaad0feb8',
[info] >      'host',
[info] >      'localhost:5000',
[info] >      'content-type',
[info] >      'multipart/form-data; boundary=--------------------------643142416767186254779688',
[info] >      'accept-encoding',
[info] >      'gzip, deflate, br',
[info] >      'content-length',
[info] >      '0',
[info] >      'connection',
[info] >      'keep-alive'
[info] >    ],
[info] >    trailers: {},
[info] >    rawTrailers: [],
[info] >    aborted: false,
[info] >    upgrade: false,
[info] >    url: '/spotifyLogin',
[info] >    method: 'POST',
[info] >    statusCode: null,
[info] >    statusMessage: null,
[info] >    client: Socket {
[info] >      connecting: false,
[info] >      _hadError: false,
[info] >      _parent: null,
[info] >      _host: null,
[info] >      _readableState: ReadableState {
[info] >        objectMode: false,
[info] >        highWaterMark: 16384,
[info] >        buffer: BufferList { head: null, tail: null, length: 0 },
[info] >        length: 0,
[info] >        pipes: null,
[info] >        pipesCount: 0,
[info] >        flowing: true,
[info] >        ended: false,
[info] >        endEmitted: false,
[info] >        reading: true,
[info] >        sync: false,
[info] >        needReadable: true,
[info] >        emittedReadable: false,
[info] >        readableListening: false,
[info] >        resumeScheduled: false,
[info] >        paused: false,
[info] >        emitClose: false,
[info] >        autoDestroy: false,
[info] >        destroyed: false,
[info] >        defaultEncoding: 'utf8',
[info] >        awaitDrain: 0,
[info] >        readingMore: false,
[info] >        decoder: null,
[info] >        encoding: null
[info] >      },
[info] >      readable: true,
[info] >      _events: [Object: null prototype] {
[info] >        end: [Array],
[info] >        timeout: [Function: socketOnTimeout],
[info] >        data: [Function: bound socketOnData],
[info] >        error: [Function: socketOnError],
[info] >        close: [Array],
[info] >        drain: [Function: bound socketOnDrain],
[info] >        resume: [Function: onSocketResume],
[info] >        pause: [Function: onSocketPause]
[info] >      },
[info] >      _eventsCount: 8,
[info] >      _maxListeners: undefined,
[info] >      _writableState: WritableState {
[info] >        objectMode: false,
[info] >        highWaterMark: 16384,
[info] >        finalCalled: false,
[info] >        needDrain: false,
[info] >        ending: false,
[info] >        ended: false,
[info] >        finished: false,
[info] >        destroyed: false,
[info] >        decodeStrings: false,
[info] >        defaultEncoding: 'utf8',
[info] >        length: 0,
[info] >        writing: false,
[info] >        corked: 0,
[info] >        sync: true,
[info] >        bufferProcessing: false,
[info] >        onwrite: [Function: bound onwrite],
[info] >        writecb: null,
[info] >        writelen: 0,
[info] >        bufferedRequest: null,
[info] >        lastBufferedRequest: null,
[info] >        pendingcb: 0,
[info] >        prefinished: false,
[info] >        errorEmitted: false,
[info] >        emitClose: false,
[info] >        autoDestroy: false,
[info] >        bufferedRequestCount: 0,
[info] >        corkedRequestsFree: [Object]
[info] >      },
[info] >      writable: true,
[info] >      allowHalfOpen: true,
[info] >      _sockname: null,
[info] >      _pendingData: null,
[info] >      _pendingEncoding: '',
[info] >      server: Server {
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 3,
[info] >        _maxListeners: undefined,
[info] >        _connections: 1,
[info] >        _handle: [Pipe],
[info] >        _usingWorkers: false,
[info] >        _workers: [],
[info] >        _unref: false,
[info] >        allowHalfOpen: true,
[info] >        pauseOnConnect: false,
[info] >        httpAllowHalfOpen: false,
[info] >        timeout: 120000,
[info] >        keepAliveTimeout: 5000,
[info] >        maxHeadersCount: null,
[info] >        headersTimeout: 40000,
[info] >        _pipeName: '/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48661.sock',
[info] >        _connectionKey: '-1:/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48661.sock:-1',
[info] >        [Symbol(IncomingMessage)]: [Function: IncomingMessage],
[debug] [2020-02-19T03:43:39.391Z] [runtime-status] [48661] Ephemeral server survived.
[info] >        [Symbol(ServerResponse)]: [Function: ServerResponse],
[info] >        [Symbol(asyncId)]: 22
[info] >      },
[info] >      _server: Server {
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 3,
[info] >        _maxListeners: undefined,
[info] >        _connections: 1,
[info] >        _handle: [Pipe],
[info] >        _usingWorkers: false,
[info] >        _workers: [],
[info] >        _unref: false,
[info] >        allowHalfOpen: true,
[info] >        pauseOnConnect: false,
[info] >        httpAllowHalfOpen: false,
[info] >        timeout: 120000,
[info] >        keepAliveTimeout: 5000,
[info] >        maxHeadersCount: null,
[info] >        headersTimeout: 40000,
[info] >        _pipeName: '/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48661.sock',
[info] >        _connectionKey: '-1:/var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48661.sock:-1',
[info] >        [Symbol(IncomingMessage)]: [Function: IncomingMessage],
[info] >        [Symbol(ServerResponse)]: [Function: ServerResponse],
[info] >        [Symbol(asyncId)]: 22
[info] >      },
[info] >      timeout: 120000,
[info] >      parser: HTTPParser {
[info] >        '0': [Function: parserOnHeaders],
[info] >        '1': [Function: parserOnHeadersComplete],
[info] >        '2': [Function: parserOnBody],
[info] >        '3': [Function: parserOnMessageComplete],
[info] >        '4': [Function: bound onParserExecute],
[info] >        _headers: [],
[info] >        _url: '',
[info] >        socket: [Circular],
[info] >        incoming: [Circular],
[info] >        outgoing: null,
[info] >        maxHeaderPairs: 2000,
[info] >        _consumed: true,
[info] >        onIncoming: [Function: bound parserOnIncoming],
[info] >        parsingHeadersStart: 1582083819313
[info] >      },
[info] >      on: [Function: socketListenerWrap],
[info] >      addListener: [Function: socketListenerWrap],
[info] >      prependListener: [Function: socketListenerWrap],
[info] >      _paused: false,
[info] >      _httpMessage: ServerResponse {
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 1,
[info] >        _maxListeners: undefined,
[info] >        outputData: [],
[info] >        outputSize: 0,
[info] >        writable: true,
[info] >        _last: false,
[info] >        chunkedEncoding: false,
[info] >        shouldKeepAlive: true,
[info] >        useChunkedEncodingByDefault: true,
[info] >        sendDate: true,
[info] >        _removedConnection: false,
[info] >        _removedContLen: false,
[info] >        _removedTE: false,
[info] >        _contentLength: null,
[info] >        _hasBody: true,
[info] >        _trailer: '',
[info] >        finished: false,
[info] >        _headerSent: false,
[info] >        socket: [Circular],
[info] >        connection: [Circular],
[info] >        _header: null,
[info] >        _onPendingData: [Function: bound updateOutgoingData],
[info] >        _sent100: false,
[info] >        _expect_continue: false,
[info] >        req: [Circular],
[info] >        locals: [Object: null prototype] {},
[info] >        [Symbol(kNeedDrain)]: false,
[info] >        [Symbol(isCorked)]: false,
[info] >        [Symbol(kOutHeaders)]: [Object: null prototype]
[info] >      },
[info] >      [Symbol(asyncId)]: 25,
[info] >      [Symbol(kHandle)]: Pipe {
[info] >        reading: true,
[info] >        _consumed: true,
[info] >        [Symbol(owner)]: [Circular]
[info] >      },
[info] >      [Symbol(lastWriteQueueSize)]: 0,
[info] >      [Symbol(timeout)]: Timeout {
[info] >        _idleTimeout: 120000,
[info] >        _idlePrev: [TimersList],
[info] >        _idleNext: [TimersList],
[info] >        _idleStart: 1006,
[info] >        _onTimeout: [Function: bound ],
[info] >        _timerArgs: undefined,
[info] >        _repeat: null,
[info] >        _destroyed: false,
[info] >        [Symbol(refed)]: false,
[info] >        [Symbol(asyncId)]: 26,
[info] >        [Symbol(triggerId)]: 25
[info] >      },
[info] >      [Symbol(kBuffer)]: null,
[info] >      [Symbol(kBufferCb)]: null,
[info] >      [Symbol(kBufferGen)]: null,
[info] >      [Symbol(kBytesRead)]: 0,
[info] >      [Symbol(kBytesWritten)]: 0
[info] >    },
[info] >    _consuming: false,
[info] >    _dumped: false,
[info] >    next: [Function: next],
[info] >    baseUrl: '/splitsbyspotify/us-central1/api',
[info] >    originalUrl: '/splitsbyspotify/us-central1/api/spotifyLogin',
[info] >    _parsedUrl: Url {
[info] >      protocol: null,
[info] >      slashes: null,
[info] >      auth: null,
[info] >      host: null,
[info] >      port: null,
[info] >      hostname: null,
[info] >      hash: null,
[info] >      search: null,
[info] >      query: null,
[info] >      pathname: '/spotifyLogin',
[info] >      path: '/spotifyLogin',
[info] >      href: '/spotifyLogin',
[info] >      _raw: '/spotifyLogin'
[info] >    },
[info] >    params: {},
[info] >    query: {},
[info] >    res: ServerResponse {
[info] >      _events: [Object: null prototype] { finish: [Array] },
[info] >      _eventsCount: 1,
[info] >      _maxListeners: undefined,
[info] >      outputData: [],
[info] >      outputSize: 0,
[info] >      writable: true,
[info] >      _last: false,
[info] >      chunkedEncoding: false,
[info] >      shouldKeepAlive: true,
[info] >      useChunkedEncodingByDefault: true,
[info] >      sendDate: true,
[info] >      _removedConnection: false,
[info] >      _removedContLen: false,
[info] >      _removedTE: false,
[info] >      _contentLength: null,
[info] >      _hasBody: true,
[info] >      _trailer: '',
[info] >      finished: false,
[info] >      _headerSent: false,
[info] >      socket: Socket {
[info] >        connecting: false,
[info] >        _hadError: false,
[info] >        _parent: null,
[info] >        _host: null,
[info] >        _readableState: [ReadableState],
[info] >        readable: true,
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 8,
[info] >        _maxListeners: undefined,
[info] >        _writableState: [WritableState],
[info] >        writable: true,
[info] >        allowHalfOpen: true,
[info] >        _sockname: null,
[info] >        _pendingData: null,
[info] >        _pendingEncoding: '',
[info] >        server: [Server],
[info] >        _server: [Server],
[info] >        timeout: 120000,
[info] >        parser: [HTTPParser],
[info] >        on: [Function: socketListenerWrap],
[info] >        addListener: [Function: socketListenerWrap],
[info] >        prependListener: [Function: socketListenerWrap],
[info] >        _paused: false,
[info] >        _httpMessage: [Circular],
[info] >        [Symbol(asyncId)]: 25,
[info] >        [Symbol(kHandle)]: [Pipe],
[info] >        [Symbol(lastWriteQueueSize)]: 0,
[info] >        [Symbol(timeout)]: Timeout {
[info] >          _idleTimeout: 120000,
[info] >          _idlePrev: [TimersList],
[info] >          _idleNext: [TimersList],
[info] >          _idleStart: 1006,
[info] >          _onTimeout: [Function: bound ],
[info] >          _timerArgs: undefined,
[info] >          _repeat: null,
[info] >          _destroyed: false,
[info] >          [Symbol(refed)]: false,
[info] >          [Symbol(asyncId)]: 26,
[info] >          [Symbol(triggerId)]: 25
[info] >        },
[info] >        [Symbol(kBuffer)]: null,
[info] >        [Symbol(kBufferCb)]: null,
[info] >        [Symbol(kBufferGen)]: null,
[info] >        [Symbol(kBytesRead)]: 0,
[info] >        [Symbol(kBytesWritten)]: 0
[info] >      },
[info] >      connection: Socket {
[info] >        connecting: false,
[info] >        _hadError: false,
[info] >        _parent: null,
[info] >        _host: null,
[info] >        _readableState: [ReadableState],
[info] >        readable: true,
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 8,
[info] >        _maxListeners: undefined,
[info] >        _writableState: [WritableState],
[info] >        writable: true,
[info] >        allowHalfOpen: true,
[info] >        _sockname: null,
[info] >        _pendingData: null,
[info] >        _pendingEncoding: '',
[info] >        server: [Server],
[info] >        _server: [Server],
[info] >        timeout: 120000,
[info] >        parser: [HTTPParser],
[info] >        on: [Function: socketListenerWrap],
[info] >        addListener: [Function: socketListenerWrap],
[info] >        prependListener: [Function: socketListenerWrap],
[info] >        _paused: false,
[info] >        _httpMessage: [Circular],
[info] >        [Symbol(asyncId)]: 25,
[info] >        [Symbol(kHandle)]: [Pipe],
[info] >        [Symbol(lastWriteQueueSize)]: 0,
[info] >        [Symbol(timeout)]: Timeout {
[info] >          _idleTimeout: 120000,
[info] >          _idlePrev: [TimersList],
[info] >          _idleNext: [TimersList],
[info] >          _idleStart: 1006,
[info] >          _onTimeout: [Function: bound ],
[info] >          _timerArgs: undefined,
[info] >          _repeat: null,
[info] >          _destroyed: false,
[info] >          [Symbol(refed)]: false,
[info] >          [Symbol(asyncId)]: 26,
[info] >          [Symbol(triggerId)]: 25
[info] >        },
[info] >        [Symbol(kBuffer)]: null,
[info] >        [Symbol(kBufferCb)]: null,
[info] >        [Symbol(kBufferGen)]: null,
[info] >        [Symbol(kBytesRead)]: 0,
[info] >        [Symbol(kBytesWritten)]: 0
[info] >      },
[info] >      _header: null,
[info] >      _onPendingData: [Function: bound updateOutgoingData],
[info] >      _sent100: false,
[info] >      _expect_continue: false,
[info] >      req: [Circular],
[info] >      locals: [Object: null prototype] {},
[info] >      [Symbol(kNeedDrain)]: false,
[info] >      [Symbol(isCorked)]: false,
[info] >      [Symbol(kOutHeaders)]: [Object: null prototype] { 'x-powered-by': [Array] }
[info] >    },
[info] >    body: <Buffer >,
[info] >    _body: true,
[info] >    length: undefined,
[info] >    rawBody: <Buffer >,
[info] >    route: Route {
[info] >      path: '/spotifyLogin',
[info] >      stack: [ [Layer] ],
[info] >      methods: { post: true }
[info] >    }
[info] >  }
[info] i  functions: Finished "api" in ~1s
[debug] [2020-02-19T03:43:40.298Z] [worker-api-78ee137c-738c-4fa0-aa63-3f2cf53f2ef1]: IDLE
[debug] [2020-02-19T03:43:40.298Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-02-19T03:45:56.384Z] File /Users/chrisaronchick/GitHub/splitsbyspotify/functions/handlers/spotify.js changed, reloading triggers
[debug] [2020-02-19T03:45:57.389Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-02-19T03:45:57.389Z] [worker-~diagnostic~-5ac5c123-b667-4b7a-9d73-de56d39c6952]: FINISHING
[debug] [2020-02-19T03:45:57.389Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-02-19T03:45:57.389Z] [worker-api-78ee137c-738c-4fa0-aa63-3f2cf53f2ef1]: FINISHING
[debug] [2020-02-19T03:45:57.400Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-02-19T03:45:57.400Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-02-19T03:45:57.400Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-02-19T03:45:57.400Z] [worker-~diagnostic~-1b6fd79c-8d2f-460f-8893-921978ed3cf8]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48779.sock
[debug] [2020-02-19T03:45:57.400Z] [worker-~diagnostic~-1b6fd79c-8d2f-460f-8893-921978ed3cf8]: BUSY
[debug] [2020-02-19T03:45:57.401Z] [worker-~diagnostic~-5ac5c123-b667-4b7a-9d73-de56d39c6952]: exited
[debug] [2020-02-19T03:45:57.401Z] [worker-~diagnostic~-5ac5c123-b667-4b7a-9d73-de56d39c6952]: FINISHED
[debug] [2020-02-19T03:45:57.401Z] [worker-api-78ee137c-738c-4fa0-aa63-3f2cf53f2ef1]: exited
[debug] [2020-02-19T03:45:57.401Z] [worker-api-78ee137c-738c-4fa0-aa63-3f2cf53f2ef1]: FINISHED
[debug] [2020-02-19T03:45:57.802Z] [runtime-status] [48779] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T03:45:57.804Z] [runtime-status] [48779] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T03:45:57.806Z] [runtime-status] [48779] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T03:45:57.807Z] [runtime-status] [48779] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T03:45:57.808Z] [runtime-status] [48779] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T03:45:58.782Z] [worker-~diagnostic~-1b6fd79c-8d2f-460f-8893-921978ed3cf8]: IDLE
[debug] [2020-02-19T03:46:09.624Z] File /Users/chrisaronchick/GitHub/splitsbyspotify/functions/index.js changed, reloading triggers
[debug] [2020-02-19T03:46:10.625Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-02-19T03:46:10.625Z] [worker-~diagnostic~-1b6fd79c-8d2f-460f-8893-921978ed3cf8]: FINISHING
[debug] [2020-02-19T03:46:10.625Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-02-19T03:46:10.625Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-02-19T03:46:10.632Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-02-19T03:46:10.632Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-02-19T03:46:10.632Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-02-19T03:46:10.632Z] [worker-~diagnostic~-68e9ea49-3e71-4669-940a-ef2b4c4c49c0]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48794.sock
[debug] [2020-02-19T03:46:10.632Z] [worker-~diagnostic~-68e9ea49-3e71-4669-940a-ef2b4c4c49c0]: BUSY
[debug] [2020-02-19T03:46:10.634Z] [worker-~diagnostic~-1b6fd79c-8d2f-460f-8893-921978ed3cf8]: exited
[debug] [2020-02-19T03:46:10.634Z] [worker-~diagnostic~-1b6fd79c-8d2f-460f-8893-921978ed3cf8]: FINISHED
[debug] [2020-02-19T03:46:10.919Z] [runtime-status] [48794] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T03:46:10.922Z] [runtime-status] [48794] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T03:46:10.924Z] [runtime-status] [48794] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T03:46:10.930Z] [runtime-status] [48794] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T03:46:10.941Z] [runtime-status] [48794] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T03:46:11.655Z] [worker-~diagnostic~-68e9ea49-3e71-4669-940a-ef2b4c4c49c0]: IDLE
[debug] [2020-02-19T03:46:29.562Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-02-19T03:46:29.562Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-02-19T03:46:29.562Z] Accepted request POST /splitsbyspotify/us-central1/api/spotifyLogin --> api
[debug] [2020-02-19T03:46:29.562Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-02-19T03:46:29.569Z] [worker-pool] addWorker(api)
[debug] [2020-02-19T03:46:29.569Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-02-19T03:46:29.569Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-02-19T03:46:29.569Z] [worker-api-01c56100-07d5-4954-ac99-5d9add5ee876]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48810.sock
[debug] [2020-02-19T03:46:29.569Z] [worker-api-01c56100-07d5-4954-ac99-5d9add5ee876]: BUSY
[debug] [2020-02-19T03:46:30.087Z] [runtime-status] [48810] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T03:46:30.090Z] [runtime-status] [48810] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T03:46:30.093Z] [runtime-status] [48810] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T03:46:30.095Z] [runtime-status] [48810] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T03:46:30.096Z] [runtime-status] [48810] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T03:46:31.785Z] [runtime-status] [48810] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-02-19T03:46:31.786Z] [runtime-status] [48810] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-02-19T03:46:31.786Z] [runtime-status] [48810] Running api in mode HTTPS
[debug] [2020-02-19T03:46:31.798Z] [runtime-status] [48810] Attempting to listen to socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48810.sock
[debug] [2020-02-19T03:46:31.802Z] [functions] Runtime ready! Sending request!
[debug] [2020-02-19T03:46:31.811Z] [runtime-status] [48810] Ephemeral server handling POST request
[info] >  authOptions.headers {
[info] >    Authorization: 'Basic NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=',
[info] >    'Content-Type': 'application/x-www-form-urlencoded'
[info] >  } authOptions.url:  https://accounts.spotify.com/api/token
[debug] [2020-02-19T03:46:31.846Z] [runtime-status] [48810] Ephemeral server survived.
[info] >  getSpotifyTokenError HTTPError: Bad Request
[info] >      at fn (/Users/chrisaronchick/GitHub/splitsbyspotify/node_modules/ky/umd.js:279:12)
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {
[info] >    name: 'HTTPError',
[info] >    response: Body {
[info] >      url: 'https://accounts.spotify.com/api/token',
[info] >      status: 400,
[info] >      statusText: 'Bad Request',
[info] >      headers: Headers { _headers: [Object] },
[info] >      ok: false,
[info] >      body: Gunzip {
[info] >        _writeState: [Uint32Array],
[info] >        _readableState: [ReadableState],
[info] >        readable: true,
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 6,
[info] >        _maxListeners: undefined,
[info] >        _writableState: [WritableState],
[info] >        writable: true,
[info] >        allowHalfOpen: true,
[info] >        _transformState: [Object],
[info] >        _hadError: false,
[info] >        bytesWritten: 0,
[info] >        _handle: [Zlib],
[info] >        _outBuffer: <Buffer 00 00 00 00 00 00 00 00 8b 02 09 04 01 00 00 00 00 46 0b 04 01 00 00 00 c1 00 00 00 00 00 00 00 03 15 bf ef fe 7f 00 00 80 bb 08 04 01 00 00 00 d0 cd ... 16334 more bytes>,
[info] >        _outOffset: 0,
[info] >        _chunkSize: 16384,
[info] >        _defaultFlushFlag: 0,
[info] >        _finishFlushFlag: 4,
[info] >        _defaultFullFlushFlag: 3,
[info] >        _info: undefined,
[info] >        _level: -1,
[info] >        _strategy: 0
[info] >      },
[info] >      bodyUsed: false,
[info] >      size: 0,
[info] >      timeout: 10000,
[info] >      _raw: [],
[info] >      _abort: false
[info] >    }
[info] >  }
[info] i  functions: Finished "api" in ~1s
[debug] [2020-02-19T03:46:32.081Z] [worker-api-01c56100-07d5-4954-ac99-5d9add5ee876]: IDLE
[debug] [2020-02-19T03:46:32.081Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-02-19T03:47:06.783Z] File /Users/chrisaronchick/GitHub/splitsbyspotify/functions/handlers/spotify.js changed, reloading triggers
[debug] [2020-02-19T03:47:07.787Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-02-19T03:47:07.787Z] [worker-~diagnostic~-68e9ea49-3e71-4669-940a-ef2b4c4c49c0]: FINISHING
[debug] [2020-02-19T03:47:07.787Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-02-19T03:47:07.787Z] [worker-api-01c56100-07d5-4954-ac99-5d9add5ee876]: FINISHING
[debug] [2020-02-19T03:47:07.801Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-02-19T03:47:07.801Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-02-19T03:47:07.801Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-02-19T03:47:07.801Z] [worker-~diagnostic~-a3746048-10c4-4a2b-86f9-7957ec9bd6cd]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48828.sock
[debug] [2020-02-19T03:47:07.802Z] [worker-~diagnostic~-a3746048-10c4-4a2b-86f9-7957ec9bd6cd]: BUSY
[debug] [2020-02-19T03:47:07.803Z] [worker-~diagnostic~-68e9ea49-3e71-4669-940a-ef2b4c4c49c0]: exited
[debug] [2020-02-19T03:47:07.803Z] [worker-~diagnostic~-68e9ea49-3e71-4669-940a-ef2b4c4c49c0]: FINISHED
[debug] [2020-02-19T03:47:07.804Z] [worker-api-01c56100-07d5-4954-ac99-5d9add5ee876]: exited
[debug] [2020-02-19T03:47:07.804Z] [worker-api-01c56100-07d5-4954-ac99-5d9add5ee876]: FINISHED
[debug] [2020-02-19T03:47:08.201Z] [runtime-status] [48828] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T03:47:08.203Z] [runtime-status] [48828] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T03:47:08.205Z] [runtime-status] [48828] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T03:47:08.206Z] [runtime-status] [48828] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T03:47:08.207Z] [runtime-status] [48828] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T03:47:08.766Z] [worker-~diagnostic~-a3746048-10c4-4a2b-86f9-7957ec9bd6cd]: IDLE
[debug] [2020-02-19T03:47:17.101Z] File /Users/chrisaronchick/GitHub/splitsbyspotify/functions/handlers/spotify.js changed, reloading triggers
[debug] [2020-02-19T03:47:18.104Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-02-19T03:47:18.105Z] [worker-~diagnostic~-a3746048-10c4-4a2b-86f9-7957ec9bd6cd]: FINISHING
[debug] [2020-02-19T03:47:18.105Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-02-19T03:47:18.105Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-02-19T03:47:18.110Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-02-19T03:47:18.110Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-02-19T03:47:18.110Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-02-19T03:47:18.110Z] [worker-~diagnostic~-763b8a59-9d1c-4e3b-a302-1fa964106d62]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48839.sock
[debug] [2020-02-19T03:47:18.110Z] [worker-~diagnostic~-763b8a59-9d1c-4e3b-a302-1fa964106d62]: BUSY
[debug] [2020-02-19T03:47:18.114Z] [worker-~diagnostic~-a3746048-10c4-4a2b-86f9-7957ec9bd6cd]: exited
[debug] [2020-02-19T03:47:18.115Z] [worker-~diagnostic~-a3746048-10c4-4a2b-86f9-7957ec9bd6cd]: FINISHED
[debug] [2020-02-19T03:47:18.375Z] [runtime-status] [48839] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T03:47:18.376Z] [runtime-status] [48839] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T03:47:18.378Z] [runtime-status] [48839] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T03:47:18.379Z] [runtime-status] [48839] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T03:47:18.380Z] [runtime-status] [48839] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T03:47:18.843Z] [worker-~diagnostic~-763b8a59-9d1c-4e3b-a302-1fa964106d62]: IDLE
[debug] [2020-02-19T03:47:21.321Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-02-19T03:47:21.321Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-02-19T03:47:21.321Z] Accepted request POST /splitsbyspotify/us-central1/api/spotifyLogin --> api
[debug] [2020-02-19T03:47:21.321Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-02-19T03:47:21.328Z] [worker-pool] addWorker(api)
[debug] [2020-02-19T03:47:21.328Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-02-19T03:47:21.329Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-02-19T03:47:21.329Z] [worker-api-f963583b-2f2a-47ad-9247-1f1fc2079072]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48841.sock
[debug] [2020-02-19T03:47:21.329Z] [worker-api-f963583b-2f2a-47ad-9247-1f1fc2079072]: BUSY
[debug] [2020-02-19T03:47:21.679Z] [runtime-status] [48841] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T03:47:21.681Z] [runtime-status] [48841] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T03:47:21.683Z] [runtime-status] [48841] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T03:47:21.684Z] [runtime-status] [48841] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T03:47:21.685Z] [runtime-status] [48841] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T03:47:22.383Z] [runtime-status] [48841] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-02-19T03:47:22.383Z] [runtime-status] [48841] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-02-19T03:47:22.383Z] [runtime-status] [48841] Running api in mode HTTPS
[debug] [2020-02-19T03:47:22.394Z] [runtime-status] [48841] Attempting to listen to socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48841.sock
[debug] [2020-02-19T03:47:22.399Z] [functions] Runtime ready! Sending request!
[debug] [2020-02-19T03:47:22.410Z] [runtime-status] [48841] Ephemeral server handling POST request
[info] >  authOptions.headers {
[info] >    Authorization: 'Basic NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=',
[info] >    'Content-Type': 'application/x-www-form-urlencoded'
[info] >  } authOptions.url:  https://accounts.spotify.com/api/token
[debug] [2020-02-19T03:47:22.417Z] [runtime-status] [48841] Ephemeral server survived.
[info] >  getSpotifyTokenError HTTPError: Bad Request
[info] >      at fn (/Users/chrisaronchick/GitHub/splitsbyspotify/node_modules/ky/umd.js:279:12)
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {
[info] >    name: 'HTTPError',
[info] >    response: Body {
[info] >      url: 'https://accounts.spotify.com/api/token',
[info] >      status: 400,
[info] >      statusText: 'Bad Request',
[info] >      headers: Headers { _headers: [Object] },
[info] >      ok: false,
[info] >      body: Gunzip {
[info] >        _writeState: [Uint32Array],
[info] >        _readableState: [ReadableState],
[info] >        readable: true,
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 6,
[info] >        _maxListeners: undefined,
[info] >        _writableState: [WritableState],
[info] >        writable: true,
[info] >        allowHalfOpen: true,
[info] >        _transformState: [Object],
[info] >        _hadError: false,
[info] >        bytesWritten: 0,
[info] >        _handle: [Zlib],
[info] >        _outBuffer: <Buffer 00 00 00 00 00 00 00 00 8b 9e 12 05 01 00 00 00 00 32 08 05 01 00 00 00 91 7f 80 04 01 00 00 00 d8 bd 12 05 01 00 00 00 10 00 00 00 00 00 00 00 3a d1 ... 16334 more bytes>,
[info] >        _outOffset: 0,
[info] >        _chunkSize: 16384,
[info] >        _defaultFlushFlag: 0,
[info] >        _finishFlushFlag: 4,
[info] >        _defaultFullFlushFlag: 3,
[info] >        _info: undefined,
[info] >        _level: -1,
[info] >        _strategy: 0
[info] >      },
[info] >      bodyUsed: false,
[info] >      size: 0,
[info] >      timeout: 10000,
[info] >      _raw: [],
[info] >      _abort: false
[info] >    }
[info] >  }
[info] i  functions: Finished "api" in ~1s
[debug] [2020-02-19T03:47:22.732Z] [worker-api-f963583b-2f2a-47ad-9247-1f1fc2079072]: IDLE
[debug] [2020-02-19T03:47:22.732Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-02-19T03:47:35.786Z] File /Users/chrisaronchick/GitHub/splitsbyspotify/functions/handlers/spotify.js changed, reloading triggers
[debug] [2020-02-19T03:47:36.788Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-02-19T03:47:36.788Z] [worker-~diagnostic~-763b8a59-9d1c-4e3b-a302-1fa964106d62]: FINISHING
[debug] [2020-02-19T03:47:36.788Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-02-19T03:47:36.788Z] [worker-api-f963583b-2f2a-47ad-9247-1f1fc2079072]: FINISHING
[debug] [2020-02-19T03:47:36.798Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-02-19T03:47:36.798Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-02-19T03:47:36.798Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-02-19T03:47:36.798Z] [worker-~diagnostic~-3f1130a2-b0ab-43a9-ae6f-1a9ef90a8304]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48900.sock
[debug] [2020-02-19T03:47:36.798Z] [worker-~diagnostic~-3f1130a2-b0ab-43a9-ae6f-1a9ef90a8304]: BUSY
[debug] [2020-02-19T03:47:36.801Z] [worker-~diagnostic~-763b8a59-9d1c-4e3b-a302-1fa964106d62]: exited
[debug] [2020-02-19T03:47:36.801Z] [worker-~diagnostic~-763b8a59-9d1c-4e3b-a302-1fa964106d62]: FINISHED
[debug] [2020-02-19T03:47:36.802Z] [worker-api-f963583b-2f2a-47ad-9247-1f1fc2079072]: exited
[debug] [2020-02-19T03:47:36.802Z] [worker-api-f963583b-2f2a-47ad-9247-1f1fc2079072]: FINISHED
[debug] [2020-02-19T03:47:37.204Z] [runtime-status] [48900] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T03:47:37.206Z] [runtime-status] [48900] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T03:47:37.208Z] [runtime-status] [48900] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T03:47:37.209Z] [runtime-status] [48900] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T03:47:37.210Z] [runtime-status] [48900] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T03:47:38.212Z] [worker-~diagnostic~-3f1130a2-b0ab-43a9-ae6f-1a9ef90a8304]: IDLE
[debug] [2020-02-19T03:47:45.411Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-02-19T03:47:45.411Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-02-19T03:47:45.411Z] Accepted request POST /splitsbyspotify/us-central1/api/spotifyLogin --> api
[debug] [2020-02-19T03:47:45.411Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-02-19T03:47:45.411Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-02-19T03:47:45.416Z] [worker-pool] addWorker(api)
[debug] [2020-02-19T03:47:45.416Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-02-19T03:47:45.416Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-02-19T03:47:45.416Z] [worker-api-3b098693-c626-48f2-86ae-511d9a5cdc0a]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48916.sock
[debug] [2020-02-19T03:47:45.416Z] [worker-api-3b098693-c626-48f2-86ae-511d9a5cdc0a]: BUSY
[debug] [2020-02-19T03:47:45.704Z] [runtime-status] [48916] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T03:47:45.705Z] [runtime-status] [48916] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T03:47:45.707Z] [runtime-status] [48916] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T03:47:45.708Z] [runtime-status] [48916] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T03:47:45.709Z] [runtime-status] [48916] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T03:47:46.199Z] [runtime-status] [48916] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-02-19T03:47:46.201Z] [runtime-status] [48916] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-02-19T03:47:46.201Z] [runtime-status] [48916] Running api in mode HTTPS
[debug] [2020-02-19T03:47:46.208Z] [runtime-status] [48916] Attempting to listen to socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48916.sock
[debug] [2020-02-19T03:47:46.211Z] [functions] Runtime ready! Sending request!
[debug] [2020-02-19T03:47:46.221Z] [runtime-status] [48916] Ephemeral server handling POST request
[info] >  authOptions.headers {
[info] >    Authorization: 'Basic NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=',
[info] >    'Content-Type': 'application/x-www-form-urlencoded'
[info] >  } authOptions.url:  https://accounts.spotify.com/api/token
[debug] [2020-02-19T03:47:46.225Z] [runtime-status] [48916] Ephemeral server survived.
[info] >  getSpotifyTokenError HTTPError: Bad Request
[info] >      at fn (/Users/chrisaronchick/GitHub/splitsbyspotify/node_modules/ky/umd.js:279:12)
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {
[info] >    name: 'HTTPError',
[info] >    response: Body {
[info] >      url: 'https://accounts.spotify.com/api/token',
[info] >      status: 400,
[info] >      statusText: 'Bad Request',
[info] >      headers: Headers { _headers: [Object] },
[info] >      ok: false,
[info] >      body: Gunzip {
[info] >        _writeState: [Uint32Array],
[info] >        _readableState: [ReadableState],
[info] >        readable: true,
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 6,
[info] >        _maxListeners: undefined,
[info] >        _writableState: [WritableState],
[info] >        writable: true,
[info] >        allowHalfOpen: true,
[info] >        _transformState: [Object],
[info] >        _hadError: false,
[info] >        bytesWritten: 0,
[info] >        _handle: [Zlib],
[info] >        _outBuffer: <Buffer 00 00 00 00 00 00 00 00 8b 00 00 00 00 00 00 00 00 38 01 03 01 00 00 00 96 e0 4d 2f 83 f7 8a 77 73 a8 64 28 e2 34 03 a1 b2 88 73 c7 e7 9d 68 2e 70 00 ... 16334 more bytes>,
[info] >        _outOffset: 0,
[info] >        _chunkSize: 16384,
[info] >        _defaultFlushFlag: 0,
[info] >        _finishFlushFlag: 4,
[info] >        _defaultFullFlushFlag: 3,
[info] >        _info: undefined,
[info] >        _level: -1,
[info] >        _strategy: 0
[info] >      },
[info] >      bodyUsed: false,
[info] >      size: 0,
[info] >      timeout: 10000,
[info] >      _raw: [],
[info] >      _abort: false
[info] >    }
[info] >  }
[info] i  functions: Finished "api" in ~1s
[debug] [2020-02-19T03:47:46.630Z] [worker-api-3b098693-c626-48f2-86ae-511d9a5cdc0a]: IDLE
[debug] [2020-02-19T03:47:46.630Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-02-19T03:48:13.379Z] File /Users/chrisaronchick/GitHub/splitsbyspotify/functions/handlers/spotify.js changed, reloading triggers
[debug] [2020-02-19T03:48:14.380Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-02-19T03:48:14.380Z] [worker-~diagnostic~-3f1130a2-b0ab-43a9-ae6f-1a9ef90a8304]: FINISHING
[debug] [2020-02-19T03:48:14.380Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-02-19T03:48:14.380Z] [worker-api-3b098693-c626-48f2-86ae-511d9a5cdc0a]: FINISHING
[debug] [2020-02-19T03:48:14.393Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-02-19T03:48:14.394Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-02-19T03:48:14.394Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-02-19T03:48:14.394Z] [worker-~diagnostic~-6936cc60-c316-4430-a127-4e57337531a5]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_48946.sock
[debug] [2020-02-19T03:48:14.394Z] [worker-~diagnostic~-6936cc60-c316-4430-a127-4e57337531a5]: BUSY
[debug] [2020-02-19T03:48:14.395Z] [worker-~diagnostic~-3f1130a2-b0ab-43a9-ae6f-1a9ef90a8304]: exited
[debug] [2020-02-19T03:48:14.395Z] [worker-~diagnostic~-3f1130a2-b0ab-43a9-ae6f-1a9ef90a8304]: FINISHED
[debug] [2020-02-19T03:48:14.396Z] [worker-api-3b098693-c626-48f2-86ae-511d9a5cdc0a]: exited
[debug] [2020-02-19T03:48:14.396Z] [worker-api-3b098693-c626-48f2-86ae-511d9a5cdc0a]: FINISHED
[debug] [2020-02-19T03:48:14.783Z] [runtime-status] [48946] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T03:48:14.786Z] [runtime-status] [48946] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T03:48:14.789Z] [runtime-status] [48946] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T03:48:14.790Z] [runtime-status] [48946] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T03:48:14.791Z] [runtime-status] [48946] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T03:48:15.467Z] [worker-~diagnostic~-6936cc60-c316-4430-a127-4e57337531a5]: IDLE
[debug] [2020-02-19T04:02:45.250Z] File /Users/chrisaronchick/GitHub/splitsbyspotify/functions/handlers/spotify.js changed, reloading triggers
[debug] [2020-02-19T04:02:46.253Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-02-19T04:02:46.253Z] [worker-~diagnostic~-6936cc60-c316-4430-a127-4e57337531a5]: FINISHING
[debug] [2020-02-19T04:02:46.254Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-02-19T04:02:46.254Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-02-19T04:02:46.259Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-02-19T04:02:46.259Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-02-19T04:02:46.259Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-02-19T04:02:46.259Z] [worker-~diagnostic~-5da998da-a211-40b9-93e0-baf51be48484]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_49488.sock
[debug] [2020-02-19T04:02:46.259Z] [worker-~diagnostic~-5da998da-a211-40b9-93e0-baf51be48484]: BUSY
[debug] [2020-02-19T04:02:46.264Z] [worker-~diagnostic~-6936cc60-c316-4430-a127-4e57337531a5]: exited
[debug] [2020-02-19T04:02:46.264Z] [worker-~diagnostic~-6936cc60-c316-4430-a127-4e57337531a5]: FINISHED
[debug] [2020-02-19T04:02:46.704Z] [runtime-status] [49488] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T04:02:46.705Z] [runtime-status] [49488] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T04:02:46.708Z] [runtime-status] [49488] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T04:02:46.709Z] [runtime-status] [49488] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T04:02:46.710Z] [runtime-status] [49488] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T04:02:47.525Z] [worker-~diagnostic~-5da998da-a211-40b9-93e0-baf51be48484]: IDLE
[debug] [2020-02-19T04:03:04.077Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-02-19T04:03:04.077Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-02-19T04:03:04.077Z] Accepted request POST /splitsbyspotify/us-central1/api/spotifyLogin --> api
[debug] [2020-02-19T04:03:04.078Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-02-19T04:03:04.084Z] [worker-pool] addWorker(api)
[debug] [2020-02-19T04:03:04.084Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-02-19T04:03:04.084Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-02-19T04:03:04.084Z] [worker-api-fedff868-7954-4744-b662-a0680c03ba2a]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_49501.sock
[debug] [2020-02-19T04:03:04.084Z] [worker-api-fedff868-7954-4744-b662-a0680c03ba2a]: BUSY
[debug] [2020-02-19T04:03:04.413Z] [runtime-status] [49501] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T04:03:04.416Z] [runtime-status] [49501] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T04:03:04.417Z] [runtime-status] [49501] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T04:03:04.418Z] [runtime-status] [49501] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T04:03:04.419Z] [runtime-status] [49501] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T04:03:04.935Z] [runtime-status] [49501] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-02-19T04:03:04.935Z] [runtime-status] [49501] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-02-19T04:03:04.935Z] [runtime-status] [49501] Running api in mode HTTPS
[debug] [2020-02-19T04:03:04.945Z] [runtime-status] [49501] Attempting to listen to socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_49501.sock
[debug] [2020-02-19T04:03:04.948Z] [functions] Runtime ready! Sending request!
[debug] [2020-02-19T04:03:04.960Z] [runtime-status] [49501] Ephemeral server handling POST request
[info] >  authOptions.headers {
[info] >    Authorization: 'Basic NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=',
[info] >    'Content-Type': 'application/x-www-form-urlencoded'
[info] >  } authOptions.url:  https://accounts.spotify.com/api/token
[debug] [2020-02-19T04:03:04.965Z] [runtime-status] [49501] Ephemeral server survived.
[info] >  getSpotifyTokenError HTTPError: Bad Request
[info] >      at fn (/Users/chrisaronchick/GitHub/splitsbyspotify/node_modules/ky/umd.js:279:12)
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {
[info] >    name: 'HTTPError',
[info] >    response: Body {
[info] >      url: 'https://accounts.spotify.com/api/token',
[info] >      status: 400,
[info] >      statusText: 'Bad Request',
[info] >      headers: Headers { _headers: [Object] },
[info] >      ok: false,
[info] >      body: Gunzip {
[info] >        _writeState: [Uint32Array],
[info] >        _readableState: [ReadableState],
[info] >        readable: true,
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 6,
[info] >        _maxListeners: undefined,
[info] >        _writableState: [WritableState],
[info] >        writable: true,
[info] >        allowHalfOpen: true,
[info] >        _transformState: [Object],
[info] >        _hadError: false,
[info] >        bytesWritten: 0,
[info] >        _handle: [Zlib],
[info] >        _outBuffer: <Buffer 00 00 00 00 00 00 00 00 8b 5c 8a 03 01 00 00 00 c2 fd ff 03 01 00 00 00 9f 7b 8a 03 01 00 00 00 70 7b 8a 03 01 00 00 00 80 7b 8a 03 01 00 00 00 98 7b ... 16334 more bytes>,
[info] >        _outOffset: 0,
[info] >        _chunkSize: 16384,
[info] >        _defaultFlushFlag: 0,
[info] >        _finishFlushFlag: 4,
[info] >        _defaultFullFlushFlag: 3,
[info] >        _info: undefined,
[info] >        _level: -1,
[info] >        _strategy: 0
[info] >      },
[info] >      bodyUsed: false,
[info] >      size: 0,
[info] >      timeout: 10000,
[info] >      _raw: [],
[info] >      _abort: false
[info] >    }
[info] >  }
[info] i  functions: Finished "api" in ~1s
[debug] [2020-02-19T04:03:06.040Z] [worker-api-fedff868-7954-4744-b662-a0680c03ba2a]: IDLE
[debug] [2020-02-19T04:03:06.040Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-02-19T04:03:59.119Z] File /Users/chrisaronchick/GitHub/splitsbyspotify/functions/handlers/spotify.js changed, reloading triggers
[debug] [2020-02-19T04:04:00.120Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-02-19T04:04:00.120Z] [worker-~diagnostic~-5da998da-a211-40b9-93e0-baf51be48484]: FINISHING
[debug] [2020-02-19T04:04:00.120Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-02-19T04:04:00.120Z] [worker-api-fedff868-7954-4744-b662-a0680c03ba2a]: FINISHING
[debug] [2020-02-19T04:04:00.129Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-02-19T04:04:00.129Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-02-19T04:04:00.129Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-02-19T04:04:00.129Z] [worker-~diagnostic~-df7d2224-af5f-4f4f-a71d-afe2bec9b966]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_49513.sock
[debug] [2020-02-19T04:04:00.129Z] [worker-~diagnostic~-df7d2224-af5f-4f4f-a71d-afe2bec9b966]: BUSY
[debug] [2020-02-19T04:04:00.131Z] [worker-~diagnostic~-5da998da-a211-40b9-93e0-baf51be48484]: exited
[debug] [2020-02-19T04:04:00.131Z] [worker-~diagnostic~-5da998da-a211-40b9-93e0-baf51be48484]: FINISHED
[debug] [2020-02-19T04:04:00.131Z] [worker-api-fedff868-7954-4744-b662-a0680c03ba2a]: exited
[debug] [2020-02-19T04:04:00.131Z] [worker-api-fedff868-7954-4744-b662-a0680c03ba2a]: FINISHED
[debug] [2020-02-19T04:04:00.440Z] [runtime-status] [49513] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T04:04:00.441Z] [runtime-status] [49513] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T04:04:00.443Z] [runtime-status] [49513] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T04:04:00.444Z] [runtime-status] [49513] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T04:04:00.445Z] [runtime-status] [49513] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T04:04:01.020Z] [worker-~diagnostic~-df7d2224-af5f-4f4f-a71d-afe2bec9b966]: IDLE
[debug] [2020-02-19T04:04:08.042Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-02-19T04:04:08.043Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-02-19T04:04:08.043Z] Accepted request POST /splitsbyspotify/us-central1/api/spotifyLogin --> api
[debug] [2020-02-19T04:04:08.043Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-02-19T04:04:08.043Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-02-19T04:04:08.048Z] [worker-pool] addWorker(api)
[debug] [2020-02-19T04:04:08.048Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-02-19T04:04:08.048Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-02-19T04:04:08.052Z] [worker-api-ff25cc83-7aa6-434f-a2b5-e8e68cb3b527]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_49515.sock
[debug] [2020-02-19T04:04:08.052Z] [worker-api-ff25cc83-7aa6-434f-a2b5-e8e68cb3b527]: BUSY
[debug] [2020-02-19T04:04:08.318Z] [runtime-status] [49515] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T04:04:08.320Z] [runtime-status] [49515] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T04:04:08.322Z] [runtime-status] [49515] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T04:04:08.323Z] [runtime-status] [49515] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T04:04:08.324Z] [runtime-status] [49515] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T04:04:08.938Z] [runtime-status] [49515] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-02-19T04:04:08.939Z] [runtime-status] [49515] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-02-19T04:04:08.939Z] [runtime-status] [49515] Running api in mode HTTPS
[debug] [2020-02-19T04:04:08.958Z] [runtime-status] [49515] Attempting to listen to socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_49515.sock
[debug] [2020-02-19T04:04:08.961Z] [functions] Runtime ready! Sending request!
[debug] [2020-02-19T04:04:08.975Z] [runtime-status] [49515] Ephemeral server handling POST request
[info] >  authOptions.headers {
[info] >    Authorization: 'Basic NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=',
[info] >    'Content-Type': 'application/x-www-form-urlencoded'
[info] >  } authOptions.url:  https://accounts.spotify.com/api/token
[debug] [2020-02-19T04:04:08.982Z] [runtime-status] [49515] Ephemeral server survived.
[info] >  getSpotifyTokenError HTTPError: Bad Request
[info] >      at fn (/Users/chrisaronchick/GitHub/splitsbyspotify/node_modules/ky/umd.js:279:12)
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {
[info] >    name: 'HTTPError',
[info] >    response: Body {
[info] >      url: 'https://accounts.spotify.com/api/token',
[info] >      status: 400,
[info] >      statusText: 'Bad Request',
[info] >      headers: Headers { _headers: [Object] },
[info] >      ok: false,
[info] >      body: Gunzip {
[info] >        _writeState: [Uint32Array],
[info] >        _readableState: [ReadableState],
[info] >        readable: true,
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 6,
[info] >        _maxListeners: undefined,
[info] >        _writableState: [WritableState],
[info] >        writable: true,
[info] >        allowHalfOpen: true,
[info] >        _transformState: [Object],
[info] >        _hadError: false,
[info] >        bytesWritten: 0,
[info] >        _handle: [Zlib],
[info] >        _outBuffer: <Buffer 00 00 00 00 00 00 00 00 8b 0e 92 03 01 00 00 00 00 f6 8d 03 01 00 00 00 d8 2d 92 03 01 00 00 00 70 2d 92 03 01 00 00 00 80 2d 92 03 01 00 00 00 98 2d ... 16334 more bytes>,
[info] >        _outOffset: 0,
[info] >        _chunkSize: 16384,
[info] >        _defaultFlushFlag: 0,
[info] >        _finishFlushFlag: 4,
[info] >        _defaultFullFlushFlag: 3,
[info] >        _info: undefined,
[info] >        _level: -1,
[info] >        _strategy: 0
[info] >      },
[info] >      bodyUsed: false,
[info] >      size: 0,
[info] >      timeout: 10000,
[info] >      _raw: [],
[info] >      _abort: false
[info] >    }
[info] >  }
[info] i  functions: Finished "api" in ~1s
[debug] [2020-02-19T04:04:09.227Z] [worker-api-ff25cc83-7aa6-434f-a2b5-e8e68cb3b527]: IDLE
[debug] [2020-02-19T04:04:09.228Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-02-19T04:05:39.545Z] File /Users/chrisaronchick/GitHub/splitsbyspotify/functions/handlers/spotify.js changed, reloading triggers
[debug] [2020-02-19T04:05:40.549Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-02-19T04:05:40.549Z] [worker-~diagnostic~-df7d2224-af5f-4f4f-a71d-afe2bec9b966]: FINISHING
[debug] [2020-02-19T04:05:40.550Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-02-19T04:05:40.550Z] [worker-api-ff25cc83-7aa6-434f-a2b5-e8e68cb3b527]: FINISHING
[debug] [2020-02-19T04:05:40.560Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-02-19T04:05:40.560Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-02-19T04:05:40.560Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-02-19T04:05:40.560Z] [worker-~diagnostic~-92623f5d-4b9b-4cc7-ae9f-29fff5795bac]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_49617.sock
[debug] [2020-02-19T04:05:40.561Z] [worker-~diagnostic~-92623f5d-4b9b-4cc7-ae9f-29fff5795bac]: BUSY
[debug] [2020-02-19T04:05:40.562Z] [worker-~diagnostic~-df7d2224-af5f-4f4f-a71d-afe2bec9b966]: exited
[debug] [2020-02-19T04:05:40.562Z] [worker-~diagnostic~-df7d2224-af5f-4f4f-a71d-afe2bec9b966]: FINISHED
[debug] [2020-02-19T04:05:40.562Z] [worker-api-ff25cc83-7aa6-434f-a2b5-e8e68cb3b527]: exited
[debug] [2020-02-19T04:05:40.562Z] [worker-api-ff25cc83-7aa6-434f-a2b5-e8e68cb3b527]: FINISHED
[debug] [2020-02-19T04:05:40.837Z] [runtime-status] [49617] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T04:05:40.839Z] [runtime-status] [49617] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T04:05:40.841Z] [runtime-status] [49617] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T04:05:40.842Z] [runtime-status] [49617] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T04:05:40.843Z] [runtime-status] [49617] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T04:05:41.376Z] [worker-~diagnostic~-92623f5d-4b9b-4cc7-ae9f-29fff5795bac]: IDLE
[debug] [2020-02-19T04:06:14.494Z] File /Users/chrisaronchick/GitHub/splitsbyspotify/functions/handlers/spotify.js changed, reloading triggers
[debug] [2020-02-19T04:06:15.495Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-02-19T04:06:15.495Z] [worker-~diagnostic~-92623f5d-4b9b-4cc7-ae9f-29fff5795bac]: FINISHING
[debug] [2020-02-19T04:06:15.495Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-02-19T04:06:15.495Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-02-19T04:06:15.500Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-02-19T04:06:15.500Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-02-19T04:06:15.500Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-02-19T04:06:15.500Z] [worker-~diagnostic~-c9f4ed7b-4d04-455a-95ea-cb18144ae7b6]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_49656.sock
[debug] [2020-02-19T04:06:15.501Z] [worker-~diagnostic~-c9f4ed7b-4d04-455a-95ea-cb18144ae7b6]: BUSY
[debug] [2020-02-19T04:06:15.502Z] [worker-~diagnostic~-92623f5d-4b9b-4cc7-ae9f-29fff5795bac]: exited
[debug] [2020-02-19T04:06:15.503Z] [worker-~diagnostic~-92623f5d-4b9b-4cc7-ae9f-29fff5795bac]: FINISHED
[debug] [2020-02-19T04:06:15.760Z] [runtime-status] [49656] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T04:06:15.762Z] [runtime-status] [49656] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T04:06:15.764Z] [runtime-status] [49656] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T04:06:15.764Z] [runtime-status] [49656] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T04:06:15.765Z] [runtime-status] [49656] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T04:06:16.262Z] [worker-~diagnostic~-c9f4ed7b-4d04-455a-95ea-cb18144ae7b6]: IDLE
[debug] [2020-02-19T04:06:19.985Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-02-19T04:06:19.985Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-02-19T04:06:19.985Z] Accepted request POST /splitsbyspotify/us-central1/api/spotifyLogin --> api
[debug] [2020-02-19T04:06:19.985Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-02-19T04:06:19.993Z] [worker-pool] addWorker(api)
[debug] [2020-02-19T04:06:19.993Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-02-19T04:06:19.993Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-02-19T04:06:19.994Z] [worker-api-84ff3a89-2499-4c32-8f9d-4b0b9dace0fc]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_49659.sock
[debug] [2020-02-19T04:06:19.994Z] [worker-api-84ff3a89-2499-4c32-8f9d-4b0b9dace0fc]: BUSY
[debug] [2020-02-19T04:06:20.398Z] [runtime-status] [49659] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T04:06:20.401Z] [runtime-status] [49659] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T04:06:20.404Z] [runtime-status] [49659] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T04:06:20.405Z] [runtime-status] [49659] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T04:06:20.407Z] [runtime-status] [49659] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T04:06:21.314Z] [runtime-status] [49659] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-02-19T04:06:21.315Z] [runtime-status] [49659] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-02-19T04:06:21.315Z] [runtime-status] [49659] Running api in mode HTTPS
[debug] [2020-02-19T04:06:21.325Z] [runtime-status] [49659] Attempting to listen to socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_49659.sock
[debug] [2020-02-19T04:06:21.329Z] [functions] Runtime ready! Sending request!
[debug] [2020-02-19T04:06:21.344Z] [runtime-status] [49659] Ephemeral server handling POST request
[info] >  authOptions.url:  https://accounts.spotify.com/api/token authOptions.headers {
[info] >    Authorization: 'Basic NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=',
[info] >    'Content-Type': 'application/x-www-form-urlencoded'
[info] >  } authOptions.url:  https://accounts.spotify.com/api/token
[debug] [2020-02-19T04:06:21.352Z] [runtime-status] [49659] Ephemeral server survived.
[info] >  getSpotifyTokenError HTTPError: Bad Request
[info] >      at fn (/Users/chrisaronchick/GitHub/splitsbyspotify/node_modules/ky/umd.js:279:12)
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {
[info] >    name: 'HTTPError',
[info] >    response: Body {
[info] >      url: 'https://accounts.spotify.com/api/token',
[info] >      status: 400,
[info] >      statusText: 'Bad Request',
[info] >      headers: Headers { _headers: [Object] },
[info] >      ok: false,
[info] >      body: Gunzip {
[info] >        _writeState: [Uint32Array],
[info] >        _readableState: [ReadableState],
[info] >        readable: true,
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 6,
[info] >        _maxListeners: undefined,
[info] >        _writableState: [WritableState],
[info] >        writable: true,
[info] >        allowHalfOpen: true,
[info] >        _transformState: [Object],
[info] >        _hadError: false,
[info] >        bytesWritten: 0,
[info] >        _handle: [Zlib],
[info] >        _outBuffer: <Buffer 00 00 00 00 00 00 00 00 8b e8 89 05 01 00 00 00 00 8a 80 05 01 00 00 00 81 00 00 00 00 00 00 00 03 15 bf ef fe 7f 00 00 80 eb 89 05 01 00 00 00 68 ea ... 16334 more bytes>,
[info] >        _outOffset: 0,
[info] >        _chunkSize: 16384,
[info] >        _defaultFlushFlag: 0,
[info] >        _finishFlushFlag: 4,
[info] >        _defaultFullFlushFlag: 3,
[info] >        _info: undefined,
[info] >        _level: -1,
[info] >        _strategy: 0
[info] >      },
[info] >      bodyUsed: false,
[info] >      size: 0,
[info] >      timeout: 10000,
[info] >      _raw: [],
[info] >      _abort: false
[info] >    }
[info] >  }
[info] i  functions: Finished "api" in ~1s
[debug] [2020-02-19T04:06:21.838Z] [worker-api-84ff3a89-2499-4c32-8f9d-4b0b9dace0fc]: IDLE
[debug] [2020-02-19T04:06:21.838Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-02-19T04:07:36.629Z] File /Users/chrisaronchick/GitHub/splitsbyspotify/functions/handlers/spotify.js changed, reloading triggers
[debug] [2020-02-19T04:07:37.631Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-02-19T04:07:37.631Z] [worker-~diagnostic~-c9f4ed7b-4d04-455a-95ea-cb18144ae7b6]: FINISHING
[debug] [2020-02-19T04:07:37.634Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-02-19T04:07:37.634Z] [worker-api-84ff3a89-2499-4c32-8f9d-4b0b9dace0fc]: FINISHING
[debug] [2020-02-19T04:07:37.641Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-02-19T04:07:37.642Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-02-19T04:07:37.642Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-02-19T04:07:37.642Z] [worker-~diagnostic~-ed40d293-5710-4e5d-8696-71d9322e4f44]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_49682.sock
[debug] [2020-02-19T04:07:37.642Z] [worker-~diagnostic~-ed40d293-5710-4e5d-8696-71d9322e4f44]: BUSY
[debug] [2020-02-19T04:07:37.643Z] [worker-~diagnostic~-c9f4ed7b-4d04-455a-95ea-cb18144ae7b6]: exited
[debug] [2020-02-19T04:07:37.643Z] [worker-~diagnostic~-c9f4ed7b-4d04-455a-95ea-cb18144ae7b6]: FINISHED
[debug] [2020-02-19T04:07:37.643Z] [worker-api-84ff3a89-2499-4c32-8f9d-4b0b9dace0fc]: exited
[debug] [2020-02-19T04:07:37.643Z] [worker-api-84ff3a89-2499-4c32-8f9d-4b0b9dace0fc]: FINISHED
[debug] [2020-02-19T04:07:37.946Z] [runtime-status] [49682] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T04:07:37.948Z] [runtime-status] [49682] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T04:07:37.950Z] [runtime-status] [49682] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T04:07:37.951Z] [runtime-status] [49682] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T04:07:37.952Z] [runtime-status] [49682] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T04:07:38.557Z] [worker-~diagnostic~-ed40d293-5710-4e5d-8696-71d9322e4f44]: IDLE
[debug] [2020-02-19T04:07:39.754Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-02-19T04:07:39.754Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-02-19T04:07:39.754Z] Accepted request POST /splitsbyspotify/us-central1/api/spotifyLogin --> api
[debug] [2020-02-19T04:07:39.754Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-02-19T04:07:39.754Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-02-19T04:07:39.761Z] [worker-pool] addWorker(api)
[debug] [2020-02-19T04:07:39.761Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-02-19T04:07:39.761Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-02-19T04:07:39.761Z] [worker-api-d4abf341-373e-4cc3-a8b4-715b556ac44c]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_49684.sock
[debug] [2020-02-19T04:07:39.761Z] [worker-api-d4abf341-373e-4cc3-a8b4-715b556ac44c]: BUSY
[debug] [2020-02-19T04:07:40.100Z] [runtime-status] [49684] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T04:07:40.102Z] [runtime-status] [49684] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T04:07:40.105Z] [runtime-status] [49684] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T04:07:40.106Z] [runtime-status] [49684] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T04:07:40.107Z] [runtime-status] [49684] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T04:07:40.715Z] [runtime-status] [49684] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-02-19T04:07:40.716Z] [runtime-status] [49684] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-02-19T04:07:40.716Z] [runtime-status] [49684] Running api in mode HTTPS
[debug] [2020-02-19T04:07:40.722Z] [runtime-status] [49684] Attempting to listen to socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_49684.sock
[debug] [2020-02-19T04:07:40.726Z] [functions] Runtime ready! Sending request!
[debug] [2020-02-19T04:07:40.735Z] [runtime-status] [49684] Ephemeral server handling POST request
[info] >  authOptions.url:  https://accounts.spotify.com/api/token authOptions.headers {
[info] >    Authorization: 'Basic NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=',
[info] >    'Content-Type': 'application/x-www-form-urlencoded'
[info] >  } authOptions.url:  https://accounts.spotify.com/api/token
[debug] [2020-02-19T04:07:40.741Z] [runtime-status] [49684] Ephemeral server survived.
[info] >  getSpotifyTokenError HTTPError: Bad Request
[info] >      at fn (/Users/chrisaronchick/GitHub/splitsbyspotify/node_modules/ky/umd.js:279:12)
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {
[info] >    name: 'HTTPError',
[info] >    response: Body {
[info] >      url: 'https://accounts.spotify.com/api/token',
[info] >      status: 400,
[info] >      statusText: 'Bad Request',
[info] >      headers: Headers { _headers: [Object] },
[info] >      ok: false,
[info] >      body: Gunzip {
[info] >        _writeState: [Uint32Array],
[info] >        _readableState: [ReadableState],
[info] >        readable: true,
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 6,
[info] >        _maxListeners: undefined,
[info] >        _writableState: [WritableState],
[info] >        writable: true,
[info] >        allowHalfOpen: true,
[info] >        _transformState: [Object],
[info] >        _hadError: false,
[info] >        bytesWritten: 0,
[info] >        _handle: [Zlib],
[info] >        _outBuffer: <Buffer 00 00 00 00 00 00 00 00 8b b6 94 03 01 00 00 00 00 f6 8e 03 01 00 00 00 d9 00 00 00 00 00 00 00 03 15 bf ef fe 7f 00 00 80 b9 94 03 01 00 00 00 50 3e ... 16334 more bytes>,
[info] >        _outOffset: 0,
[info] >        _chunkSize: 16384,
[info] >        _defaultFlushFlag: 0,
[info] >        _finishFlushFlag: 4,
[info] >        _defaultFullFlushFlag: 3,
[info] >        _info: undefined,
[info] >        _level: -1,
[info] >        _strategy: 0
[info] >      },
[info] >      bodyUsed: false,
[info] >      size: 0,
[info] >      timeout: 10000,
[info] >      _raw: [],
[info] >      _abort: false
[info] >    }
[info] >  }
[info] i  functions: Finished "api" in ~1s
[debug] [2020-02-19T04:07:41.098Z] [worker-api-d4abf341-373e-4cc3-a8b4-715b556ac44c]: IDLE
[debug] [2020-02-19T04:07:41.098Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-02-19T04:07:52.079Z] File /Users/chrisaronchick/GitHub/splitsbyspotify/functions/handlers/spotify.js changed, reloading triggers
[debug] [2020-02-19T04:07:53.083Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-02-19T04:07:53.083Z] [worker-~diagnostic~-ed40d293-5710-4e5d-8696-71d9322e4f44]: FINISHING
[debug] [2020-02-19T04:07:53.084Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-02-19T04:07:53.084Z] [worker-api-d4abf341-373e-4cc3-a8b4-715b556ac44c]: FINISHING
[debug] [2020-02-19T04:07:53.095Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-02-19T04:07:53.095Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-02-19T04:07:53.095Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-02-19T04:07:53.095Z] [worker-~diagnostic~-6a3e7fd6-d9ac-477e-a868-604d32f6c7ae]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_49696.sock
[debug] [2020-02-19T04:07:53.095Z] [worker-~diagnostic~-6a3e7fd6-d9ac-477e-a868-604d32f6c7ae]: BUSY
[debug] [2020-02-19T04:07:53.097Z] [worker-~diagnostic~-ed40d293-5710-4e5d-8696-71d9322e4f44]: exited
[debug] [2020-02-19T04:07:53.097Z] [worker-~diagnostic~-ed40d293-5710-4e5d-8696-71d9322e4f44]: FINISHED
[debug] [2020-02-19T04:07:53.097Z] [worker-api-d4abf341-373e-4cc3-a8b4-715b556ac44c]: exited
[debug] [2020-02-19T04:07:53.097Z] [worker-api-d4abf341-373e-4cc3-a8b4-715b556ac44c]: FINISHED
[debug] [2020-02-19T04:07:53.509Z] [runtime-status] [49696] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T04:07:53.510Z] [runtime-status] [49696] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T04:07:53.513Z] [runtime-status] [49696] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T04:07:53.514Z] [runtime-status] [49696] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T04:07:53.515Z] [runtime-status] [49696] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T04:07:54.221Z] [worker-~diagnostic~-6a3e7fd6-d9ac-477e-a868-604d32f6c7ae]: IDLE
[debug] [2020-02-19T04:13:00.388Z] File /Users/chrisaronchick/GitHub/splitsbyspotify/functions/handlers/spotify.js changed, reloading triggers
[debug] [2020-02-19T04:13:01.388Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-02-19T04:13:01.388Z] [worker-~diagnostic~-6a3e7fd6-d9ac-477e-a868-604d32f6c7ae]: FINISHING
[debug] [2020-02-19T04:13:01.388Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-02-19T04:13:01.388Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-02-19T04:13:01.393Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-02-19T04:13:01.393Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-02-19T04:13:01.393Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-02-19T04:13:01.393Z] [worker-~diagnostic~-078fe9c5-9e8c-4810-8e71-bf0789188fa1]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_49927.sock
[debug] [2020-02-19T04:13:01.393Z] [worker-~diagnostic~-078fe9c5-9e8c-4810-8e71-bf0789188fa1]: BUSY
[debug] [2020-02-19T04:13:01.397Z] [worker-~diagnostic~-6a3e7fd6-d9ac-477e-a868-604d32f6c7ae]: exited
[debug] [2020-02-19T04:13:01.397Z] [worker-~diagnostic~-6a3e7fd6-d9ac-477e-a868-604d32f6c7ae]: FINISHED
[debug] [2020-02-19T04:13:01.775Z] [runtime-status] [49927] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T04:13:01.777Z] [runtime-status] [49927] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T04:13:01.779Z] [runtime-status] [49927] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T04:13:01.780Z] [runtime-status] [49927] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T04:13:01.781Z] [runtime-status] [49927] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T04:13:02.493Z] [worker-~diagnostic~-078fe9c5-9e8c-4810-8e71-bf0789188fa1]: IDLE
[debug] [2020-02-19T04:13:09.457Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-02-19T04:13:09.457Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-02-19T04:13:09.457Z] Accepted request POST /splitsbyspotify/us-central1/api/spotifyLogin --> api
[debug] [2020-02-19T04:13:09.457Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-02-19T04:13:09.467Z] [worker-pool] addWorker(api)
[debug] [2020-02-19T04:13:09.467Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-02-19T04:13:09.467Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-02-19T04:13:09.467Z] [worker-api-058fc5da-d5c6-4b8c-80e3-4fa1349fb73c]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_49937.sock
[debug] [2020-02-19T04:13:09.467Z] [worker-api-058fc5da-d5c6-4b8c-80e3-4fa1349fb73c]: BUSY
[debug] [2020-02-19T04:13:09.866Z] [runtime-status] [49937] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T04:13:09.868Z] [runtime-status] [49937] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T04:13:09.871Z] [runtime-status] [49937] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T04:13:09.872Z] [runtime-status] [49937] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T04:13:09.874Z] [runtime-status] [49937] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T04:13:10.737Z] [runtime-status] [49937] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-02-19T04:13:10.738Z] [runtime-status] [49937] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-02-19T04:13:10.738Z] [runtime-status] [49937] Running api in mode HTTPS
[debug] [2020-02-19T04:13:10.751Z] [runtime-status] [49937] Attempting to listen to socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_49937.sock
[debug] [2020-02-19T04:13:10.757Z] [functions] Runtime ready! Sending request!
[debug] [2020-02-19T04:13:10.772Z] [runtime-status] [49937] Ephemeral server handling POST request
[info] >  authOptions.url:  https://accounts.spotify.com/api/token authOptions.headers {
[info] >    Authorization: 'Basic NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc='
[info] >  } authOptions.url:  https://accounts.spotify.com/api/token
[debug] [2020-02-19T04:13:10.778Z] [runtime-status] [49937] Ephemeral server survived.
[info] >  getSpotifyTokenError HTTPError: Bad Request
[info] >      at fn (/Users/chrisaronchick/GitHub/splitsbyspotify/node_modules/ky/umd.js:279:12)
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {
[info] >    name: 'HTTPError',
[info] >    response: Body {
[info] >      url: 'https://accounts.spotify.com/api/token',
[info] >      status: 400,
[info] >      statusText: 'Bad Request',
[info] >      headers: Headers { _headers: [Object] },
[info] >      ok: false,
[info] >      body: Gunzip {
[info] >        _writeState: [Uint32Array],
[info] >        _readableState: [ReadableState],
[info] >        readable: true,
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 6,
[info] >        _maxListeners: undefined,
[info] >        _writableState: [WritableState],
[info] >        writable: true,
[info] >        allowHalfOpen: true,
[info] >        _transformState: [Object],
[info] >        _hadError: false,
[info] >        bytesWritten: 0,
[info] >        _handle: [Zlib],
[info] >        _outBuffer: <Buffer 00 00 00 00 00 00 00 00 8b 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 8b 00 05 00 05 00 04 00 10 10 04 00 05 00 04 00 f0 17 0e 04 01 00 00 00 08 00 ... 16334 more bytes>,
[info] >        _outOffset: 0,
[info] >        _chunkSize: 16384,
[info] >        _defaultFlushFlag: 0,
[info] >        _finishFlushFlag: 4,
[info] >        _defaultFullFlushFlag: 3,
[info] >        _info: undefined,
[info] >        _level: -1,
[info] >        _strategy: 0
[info] >      },
[info] >      bodyUsed: false,
[info] >      size: 0,
[info] >      timeout: 10000,
[info] >      _raw: [],
[info] >      _abort: false
[info] >    }
[info] >  }
[info] i  functions: Finished "api" in ~1s
[debug] [2020-02-19T04:13:11.554Z] [worker-api-058fc5da-d5c6-4b8c-80e3-4fa1349fb73c]: IDLE
[debug] [2020-02-19T04:13:11.554Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-02-19T04:15:27.806Z] File /Users/chrisaronchick/GitHub/splitsbyspotify/functions/handlers/spotify.js changed, reloading triggers
[debug] [2020-02-19T04:15:28.809Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-02-19T04:15:28.809Z] [worker-~diagnostic~-078fe9c5-9e8c-4810-8e71-bf0789188fa1]: FINISHING
[debug] [2020-02-19T04:15:28.809Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-02-19T04:15:28.810Z] [worker-api-058fc5da-d5c6-4b8c-80e3-4fa1349fb73c]: FINISHING
[debug] [2020-02-19T04:15:28.822Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-02-19T04:15:28.822Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-02-19T04:15:28.822Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-02-19T04:15:28.823Z] [worker-~diagnostic~-7115fd13-99b2-4ee6-b08c-4a29ab704acc]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_50061.sock
[debug] [2020-02-19T04:15:28.823Z] [worker-~diagnostic~-7115fd13-99b2-4ee6-b08c-4a29ab704acc]: BUSY
[debug] [2020-02-19T04:15:28.824Z] [worker-~diagnostic~-078fe9c5-9e8c-4810-8e71-bf0789188fa1]: exited
[debug] [2020-02-19T04:15:28.824Z] [worker-~diagnostic~-078fe9c5-9e8c-4810-8e71-bf0789188fa1]: FINISHED
[debug] [2020-02-19T04:15:28.824Z] [worker-api-058fc5da-d5c6-4b8c-80e3-4fa1349fb73c]: exited
[debug] [2020-02-19T04:15:28.824Z] [worker-api-058fc5da-d5c6-4b8c-80e3-4fa1349fb73c]: FINISHED
[debug] [2020-02-19T04:15:29.300Z] [runtime-status] [50061] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T04:15:29.302Z] [runtime-status] [50061] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T04:15:29.305Z] [runtime-status] [50061] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T04:15:29.306Z] [runtime-status] [50061] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T04:15:29.307Z] [runtime-status] [50061] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T04:15:30.219Z] [worker-~diagnostic~-7115fd13-99b2-4ee6-b08c-4a29ab704acc]: IDLE
[debug] [2020-02-19T04:15:35.052Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-02-19T04:15:35.052Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-02-19T04:15:35.052Z] Accepted request POST /splitsbyspotify/us-central1/api/spotifyLogin --> api
[debug] [2020-02-19T04:15:35.052Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-02-19T04:15:35.052Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-02-19T04:15:35.057Z] [worker-pool] addWorker(api)
[debug] [2020-02-19T04:15:35.057Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-02-19T04:15:35.057Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-02-19T04:15:35.057Z] [worker-api-67dc7424-034e-43c2-a096-db240f2acb19]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_50072.sock
[debug] [2020-02-19T04:15:35.057Z] [worker-api-67dc7424-034e-43c2-a096-db240f2acb19]: BUSY
[debug] [2020-02-19T04:15:35.351Z] [runtime-status] [50072] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T04:15:35.352Z] [runtime-status] [50072] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T04:15:35.354Z] [runtime-status] [50072] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T04:15:35.355Z] [runtime-status] [50072] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T04:15:35.356Z] [runtime-status] [50072] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T04:15:36.149Z] [runtime-status] [50072] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-02-19T04:15:36.151Z] [runtime-status] [50072] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-02-19T04:15:36.151Z] [runtime-status] [50072] Running api in mode HTTPS
[debug] [2020-02-19T04:15:36.166Z] [runtime-status] [50072] Attempting to listen to socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_50072.sock
[debug] [2020-02-19T04:15:36.171Z] [functions] Runtime ready! Sending request!
[debug] [2020-02-19T04:15:36.186Z] [runtime-status] [50072] Ephemeral server handling POST request
[info] >  authOptions.url:  https://accounts.spotify.com/api/token authOptions.headers {
[info] >    Authorization: 'Basic NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=',
[info] >    'Content-Type': 'application/x-www-form-urlencoded'
[info] >  } authOptions.url:  https://accounts.spotify.com/api/token
[debug] [2020-02-19T04:15:36.192Z] [runtime-status] [50072] Ephemeral server survived.
[info] >  getSpotifyTokenError HTTPError: Bad Request
[info] >      at fn (/Users/chrisaronchick/GitHub/splitsbyspotify/node_modules/ky/umd.js:279:12)
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {
[info] >    name: 'HTTPError',
[info] >    response: Body {
[info] >      url: 'https://accounts.spotify.com/api/token',
[info] >      status: 400,
[info] >      statusText: 'Bad Request',
[info] >      headers: Headers { _headers: [Object] },
[info] >      ok: false,
[info] >      body: Gunzip {
[info] >        _writeState: [Uint32Array],
[info] >        _readableState: [ReadableState],
[info] >        readable: true,
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 6,
[info] >        _maxListeners: undefined,
[info] >        _writableState: [WritableState],
[info] >        writable: true,
[info] >        allowHalfOpen: true,
[info] >        _transformState: [Object],
[info] >        _hadError: false,
[info] >        bytesWritten: 0,
[info] >        _handle: [Zlib],
[info] >        _outBuffer: <Buffer 00 00 00 00 00 00 00 00 8b 20 00 00 a9 01 00 00 00 94 85 04 01 00 00 00 79 20 00 00 2b 00 00 00 38 e0 8c 04 01 00 00 00 08 1c 8d 04 01 00 00 00 f9 1f ... 16334 more bytes>,
[info] >        _outOffset: 0,
[info] >        _chunkSize: 16384,
[info] >        _defaultFlushFlag: 0,
[info] >        _finishFlushFlag: 4,
[info] >        _defaultFullFlushFlag: 3,
[info] >        _info: undefined,
[info] >        _level: -1,
[info] >        _strategy: 0
[info] >      },
[info] >      bodyUsed: false,
[info] >      size: 0,
[info] >      timeout: 10000,
[info] >      _raw: [],
[info] >      _abort: false
[info] >    }
[info] >  }
[info] i  functions: Finished "api" in ~1s
[debug] [2020-02-19T04:15:36.435Z] [worker-api-67dc7424-034e-43c2-a096-db240f2acb19]: IDLE
[debug] [2020-02-19T04:15:36.435Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-02-19T04:57:08.935Z] File /Users/chrisaronchick/GitHub/splitsbyspotify/functions/handlers/spotify.js changed, reloading triggers
[debug] [2020-02-19T04:57:09.942Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-02-19T04:57:09.942Z] [worker-~diagnostic~-7115fd13-99b2-4ee6-b08c-4a29ab704acc]: FINISHING
[debug] [2020-02-19T04:57:09.942Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-02-19T04:57:09.942Z] [worker-api-67dc7424-034e-43c2-a096-db240f2acb19]: FINISHING
[debug] [2020-02-19T04:57:09.962Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-02-19T04:57:09.963Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-02-19T04:57:09.963Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-02-19T04:57:09.964Z] [worker-~diagnostic~-8fe44d38-296d-4eef-85e3-b866122044b8]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_50838.sock
[debug] [2020-02-19T04:57:09.964Z] [worker-~diagnostic~-8fe44d38-296d-4eef-85e3-b866122044b8]: BUSY
[debug] [2020-02-19T04:57:09.966Z] [worker-~diagnostic~-7115fd13-99b2-4ee6-b08c-4a29ab704acc]: exited
[debug] [2020-02-19T04:57:09.966Z] [worker-~diagnostic~-7115fd13-99b2-4ee6-b08c-4a29ab704acc]: FINISHED
[debug] [2020-02-19T04:57:09.966Z] [worker-api-67dc7424-034e-43c2-a096-db240f2acb19]: exited
[debug] [2020-02-19T04:57:09.966Z] [worker-api-67dc7424-034e-43c2-a096-db240f2acb19]: FINISHED
[debug] [2020-02-19T04:57:10.462Z] [runtime-status] [50838] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T04:57:10.464Z] [runtime-status] [50838] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T04:57:10.467Z] [runtime-status] [50838] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T04:57:10.468Z] [runtime-status] [50838] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T04:57:10.469Z] [runtime-status] [50838] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T04:57:11.904Z] [worker-~diagnostic~-8fe44d38-296d-4eef-85e3-b866122044b8]: IDLE
[debug] [2020-02-19T04:57:22.292Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-02-19T04:57:22.292Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-02-19T04:57:22.292Z] Accepted request POST /splitsbyspotify/us-central1/api/spotifyLogin --> api
[debug] [2020-02-19T04:57:22.293Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-02-19T04:57:22.293Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-02-19T04:57:22.300Z] [worker-pool] addWorker(api)
[debug] [2020-02-19T04:57:22.300Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-02-19T04:57:22.300Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-02-19T04:57:22.300Z] [worker-api-05cfef97-3b33-430f-b32c-559508273a93]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_50849.sock
[debug] [2020-02-19T04:57:22.300Z] [worker-api-05cfef97-3b33-430f-b32c-559508273a93]: BUSY
[debug] [2020-02-19T04:57:22.831Z] [runtime-status] [50849] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T04:57:22.833Z] [runtime-status] [50849] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T04:57:22.837Z] [runtime-status] [50849] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T04:57:22.839Z] [runtime-status] [50849] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T04:57:22.840Z] [runtime-status] [50849] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T04:57:23.919Z] [runtime-status] [50849] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-02-19T04:57:23.919Z] [runtime-status] [50849] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-02-19T04:57:23.920Z] [runtime-status] [50849] Running api in mode HTTPS
[debug] [2020-02-19T04:57:23.930Z] [runtime-status] [50849] Attempting to listen to socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_50849.sock
[debug] [2020-02-19T04:57:23.933Z] [functions] Runtime ready! Sending request!
[debug] [2020-02-19T04:57:23.945Z] [runtime-status] [50849] Ephemeral server handling POST request
[info] >  authOptions.url:  https://accounts.spotify.com/api/token authOptions.headers {
[info] >    Authorization: 'Basic NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=',
[info] >    'Content-Type': 'application/x-www-form-urlencoded'
[info] >  } authOptions.url:  https://accounts.spotify.com/api/token
[debug] [2020-02-19T04:57:23.952Z] [runtime-status] [50849] Ephemeral server survived.
[info] >  getSpotifyTokenError HTTPError: Bad Request
[info] >      at fn (/Users/chrisaronchick/GitHub/splitsbyspotify/node_modules/ky/umd.js:279:12)
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {
[info] >    name: 'HTTPError',
[info] >    response: Body {
[info] >      url: 'https://accounts.spotify.com/api/token',
[info] >      status: 400,
[info] >      statusText: 'Bad Request',
[info] >      headers: Headers { _headers: [Object] },
[info] >      ok: false,
[info] >      body: Gunzip {
[info] >        _writeState: [Uint32Array],
[info] >        _readableState: [ReadableState],
[info] >        readable: true,
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 6,
[info] >        _maxListeners: undefined,
[info] >        _writableState: [WritableState],
[info] >        writable: true,
[info] >        allowHalfOpen: true,
[info] >        _transformState: [Object],
[info] >        _hadError: false,
[info] >        bytesWritten: 0,
[info] >        _handle: [Zlib],
[info] >        _outBuffer: <Buffer 00 00 00 00 00 00 00 00 8b 00 00 00 00 00 00 00 00 62 8a 03 01 00 00 00 69 14 90 03 01 00 00 00 38 e8 8f 03 01 00 00 00 00 00 00 00 00 00 00 00 00 00 ... 16334 more bytes>,
[info] >        _outOffset: 0,
[info] >        _chunkSize: 16384,
[info] >        _defaultFlushFlag: 0,
[info] >        _finishFlushFlag: 4,
[info] >        _defaultFullFlushFlag: 3,
[info] >        _info: undefined,
[info] >        _level: -1,
[info] >        _strategy: 0
[info] >      },
[info] >      bodyUsed: false,
[info] >      size: 0,
[info] >      timeout: 10000,
[info] >      _raw: [],
[info] >      _abort: false
[info] >    }
[info] >  }
[info] i  functions: Finished "api" in ~1s
[debug] [2020-02-19T04:57:24.625Z] [worker-api-05cfef97-3b33-430f-b32c-559508273a93]: IDLE
[debug] [2020-02-19T04:57:24.626Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-02-19T04:58:12.099Z] File /Users/chrisaronchick/GitHub/splitsbyspotify/functions/handlers/spotify.js changed, reloading triggers
[debug] [2020-02-19T04:58:13.101Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-02-19T04:58:13.102Z] [worker-~diagnostic~-8fe44d38-296d-4eef-85e3-b866122044b8]: FINISHING
[debug] [2020-02-19T04:58:13.102Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-02-19T04:58:13.102Z] [worker-api-05cfef97-3b33-430f-b32c-559508273a93]: FINISHING
[debug] [2020-02-19T04:58:13.110Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-02-19T04:58:13.110Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-02-19T04:58:13.111Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-02-19T04:58:13.112Z] [worker-~diagnostic~-04da9542-d1da-4ab0-954c-c3e133e803f0]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_50867.sock
[debug] [2020-02-19T04:58:13.112Z] [worker-~diagnostic~-04da9542-d1da-4ab0-954c-c3e133e803f0]: BUSY
[debug] [2020-02-19T04:58:13.113Z] [worker-api-05cfef97-3b33-430f-b32c-559508273a93]: exited
[debug] [2020-02-19T04:58:13.113Z] [worker-api-05cfef97-3b33-430f-b32c-559508273a93]: FINISHED
[debug] [2020-02-19T04:58:13.114Z] [worker-~diagnostic~-8fe44d38-296d-4eef-85e3-b866122044b8]: exited
[debug] [2020-02-19T04:58:13.114Z] [worker-~diagnostic~-8fe44d38-296d-4eef-85e3-b866122044b8]: FINISHED
[debug] [2020-02-19T04:58:13.536Z] [runtime-status] [50867] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T04:58:13.538Z] [runtime-status] [50867] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T04:58:13.541Z] [runtime-status] [50867] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T04:58:13.543Z] [runtime-status] [50867] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T04:58:13.544Z] [runtime-status] [50867] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T04:58:14.513Z] [worker-~diagnostic~-04da9542-d1da-4ab0-954c-c3e133e803f0]: IDLE
[debug] [2020-02-19T04:58:15.264Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-02-19T04:58:15.264Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-02-19T04:58:15.264Z] Accepted request POST /splitsbyspotify/us-central1/api/spotifyLogin --> api
[debug] [2020-02-19T04:58:15.265Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-02-19T04:58:15.265Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-02-19T04:58:15.274Z] [worker-pool] addWorker(api)
[debug] [2020-02-19T04:58:15.274Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-02-19T04:58:15.274Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-02-19T04:58:15.274Z] [worker-api-344163f4-cda4-49bb-993a-7c9188423680]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_50869.sock
[debug] [2020-02-19T04:58:15.274Z] [worker-api-344163f4-cda4-49bb-993a-7c9188423680]: BUSY
[debug] [2020-02-19T04:58:15.723Z] [runtime-status] [50869] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T04:58:15.726Z] [runtime-status] [50869] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T04:58:15.734Z] [runtime-status] [50869] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T04:58:15.735Z] [runtime-status] [50869] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T04:58:15.737Z] [runtime-status] [50869] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T04:58:16.364Z] [runtime-status] [50869] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-02-19T04:58:16.364Z] [runtime-status] [50869] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-02-19T04:58:16.364Z] [runtime-status] [50869] Running api in mode HTTPS
[debug] [2020-02-19T04:58:16.371Z] [runtime-status] [50869] Attempting to listen to socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_50869.sock
[debug] [2020-02-19T04:58:16.375Z] [functions] Runtime ready! Sending request!
[debug] [2020-02-19T04:58:16.388Z] [runtime-status] [50869] Ephemeral server handling POST request
[info] >  authOptions.url:  https://accounts.spotify.com/api/token authOptions.headers {
[info] >    Authorization: 'Basic NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=',
[info] >    'Content-Type': 'application/x-www-form-urlencoded'
[info] >  } authOptions.url:  https://accounts.spotify.com/api/token
[debug] [2020-02-19T04:58:16.394Z] [runtime-status] [50869] Ephemeral server survived.
[info] >  getSpotifyTokenError HTTPError: Unsupported Media Type
[info] >      at fn (/Users/chrisaronchick/GitHub/splitsbyspotify/node_modules/ky/umd.js:279:12)
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {
[info] >    name: 'HTTPError',
[info] >    response: Body {
[info] >      url: 'https://accounts.spotify.com/api/token',
[info] >      status: 415,
[info] >      statusText: 'Unsupported Media Type',
[info] >      headers: Headers { _headers: [Object] },
[info] >      ok: false,
[info] >      body: Gunzip {
[info] >        _writeState: [Uint32Array],
[info] >        _readableState: [ReadableState],
[info] >        readable: true,
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 6,
[info] >        _maxListeners: undefined,
[info] >        _writableState: [WritableState],
[info] >        writable: true,
[info] >        allowHalfOpen: true,
[info] >        _transformState: [Object],
[info] >        _hadError: false,
[info] >        bytesWritten: 0,
[info] >        _handle: [Zlib],
[info] >        _outBuffer: <Buffer 00 00 00 00 00 00 00 00 8b 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 8b 00 05 00 05 00 04 00 10 10 04 00 05 00 04 00 20 d0 06 05 01 00 00 00 00 00 ... 16334 more bytes>,
[info] >        _outOffset: 0,
[info] >        _chunkSize: 16384,
[info] >        _defaultFlushFlag: 0,
[info] >        _finishFlushFlag: 4,
[info] >        _defaultFullFlushFlag: 3,
[info] >        _info: undefined,
[info] >        _level: -1,
[info] >        _strategy: 0
[info] >      },
[info] >      bodyUsed: false,
[info] >      size: 0,
[info] >      timeout: 10000,
[info] >      _raw: [],
[info] >      _abort: false
[info] >    }
[info] >  }
[info] i  functions: Finished "api" in ~1s
[debug] [2020-02-19T04:58:16.588Z] [worker-api-344163f4-cda4-49bb-993a-7c9188423680]: IDLE
[debug] [2020-02-19T04:58:16.588Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-02-19T04:58:27.515Z] File /Users/chrisaronchick/GitHub/splitsbyspotify/functions/handlers/spotify.js changed, reloading triggers
[debug] [2020-02-19T04:58:28.518Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-02-19T04:58:28.518Z] [worker-~diagnostic~-04da9542-d1da-4ab0-954c-c3e133e803f0]: FINISHING
[debug] [2020-02-19T04:58:28.518Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-02-19T04:58:28.518Z] [worker-api-344163f4-cda4-49bb-993a-7c9188423680]: FINISHING
[debug] [2020-02-19T04:58:28.526Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-02-19T04:58:28.526Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-02-19T04:58:28.526Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-02-19T04:58:28.526Z] [worker-~diagnostic~-f144eeb4-3de3-4879-8d10-4e878c696f8a]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_50895.sock
[debug] [2020-02-19T04:58:28.526Z] [worker-~diagnostic~-f144eeb4-3de3-4879-8d10-4e878c696f8a]: BUSY
[debug] [2020-02-19T04:58:28.535Z] [worker-~diagnostic~-04da9542-d1da-4ab0-954c-c3e133e803f0]: exited
[debug] [2020-02-19T04:58:28.535Z] [worker-~diagnostic~-04da9542-d1da-4ab0-954c-c3e133e803f0]: FINISHED
[debug] [2020-02-19T04:58:28.535Z] [worker-api-344163f4-cda4-49bb-993a-7c9188423680]: exited
[debug] [2020-02-19T04:58:28.535Z] [worker-api-344163f4-cda4-49bb-993a-7c9188423680]: FINISHED
[debug] [2020-02-19T04:58:28.813Z] [runtime-status] [50895] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T04:58:28.815Z] [runtime-status] [50895] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T04:58:28.817Z] [runtime-status] [50895] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T04:58:28.818Z] [runtime-status] [50895] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T04:58:28.819Z] [runtime-status] [50895] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T04:58:29.394Z] [worker-~diagnostic~-f144eeb4-3de3-4879-8d10-4e878c696f8a]: IDLE
[debug] [2020-02-19T04:58:32.779Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-02-19T04:58:32.779Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-02-19T04:58:32.779Z] Accepted request POST /splitsbyspotify/us-central1/api/spotifyLogin --> api
[debug] [2020-02-19T04:58:32.779Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-02-19T04:58:32.779Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-02-19T04:58:32.785Z] [worker-pool] addWorker(api)
[debug] [2020-02-19T04:58:32.785Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-02-19T04:58:32.785Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-02-19T04:58:32.785Z] [worker-api-48f65d2d-3c1c-4915-90d4-6d10cbc9a171]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_50911.sock
[debug] [2020-02-19T04:58:32.785Z] [worker-api-48f65d2d-3c1c-4915-90d4-6d10cbc9a171]: BUSY
[debug] [2020-02-19T04:58:33.141Z] [runtime-status] [50911] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T04:58:33.147Z] [runtime-status] [50911] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T04:58:33.149Z] [runtime-status] [50911] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T04:58:33.150Z] [runtime-status] [50911] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T04:58:33.152Z] [runtime-status] [50911] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T04:58:33.914Z] [runtime-status] [50911] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-02-19T04:58:33.915Z] [runtime-status] [50911] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-02-19T04:58:33.915Z] [runtime-status] [50911] Running api in mode HTTPS
[debug] [2020-02-19T04:58:33.927Z] [runtime-status] [50911] Attempting to listen to socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_50911.sock
[debug] [2020-02-19T04:58:33.931Z] [functions] Runtime ready! Sending request!
[debug] [2020-02-19T04:58:33.945Z] [runtime-status] [50911] Ephemeral server handling POST request
[info] >  authOptions.url:  https://accounts.spotify.com/api/token authOptions.headers {
[info] >    Authorization: 'Basic NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=',
[info] >    'Content-Type': 'application/x-www-form-urlencoded'
[info] >  } authOptions.url:  https://accounts.spotify.com/api/token
[debug] [2020-02-19T04:58:33.953Z] [runtime-status] [50911] Ephemeral server survived.
[info] >  getSpotifyTokenError HTTPError: Unsupported Media Type
[info] >      at fn (/Users/chrisaronchick/GitHub/splitsbyspotify/node_modules/ky/umd.js:279:12)
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {
[info] >    name: 'HTTPError',
[info] >    response: Body {
[info] >      url: 'https://accounts.spotify.com/api/token',
[info] >      status: 415,
[info] >      statusText: 'Unsupported Media Type',
[info] >      headers: Headers { _headers: [Object] },
[info] >      ok: false,
[info] >      body: Gunzip {
[info] >        _writeState: [Uint32Array],
[info] >        _readableState: [ReadableState],
[info] >        readable: true,
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 6,
[info] >        _maxListeners: undefined,
[info] >        _writableState: [WritableState],
[info] >        writable: true,
[info] >        allowHalfOpen: true,
[info] >        _transformState: [Object],
[info] >        _hadError: false,
[info] >        bytesWritten: 0,
[info] >        _handle: [Zlib],
[info] >        _outBuffer: <Buffer 90 22 bf ef fe 7f 00 00 90 22 bf ef fe 7f 00 00 01 00 00 00 00 00 00 00 50 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 78 31 ... 16334 more bytes>,
[info] >        _outOffset: 0,
[info] >        _chunkSize: 16384,
[info] >        _defaultFlushFlag: 0,
[info] >        _finishFlushFlag: 4,
[info] >        _defaultFullFlushFlag: 3,
[info] >        _info: undefined,
[info] >        _level: -1,
[info] >        _strategy: 0
[info] >      },
[info] >      bodyUsed: false,
[info] >      size: 0,
[info] >      timeout: 10000,
[info] >      _raw: [],
[info] >      _abort: false
[info] >    }
[info] >  }
[info] i  functions: Finished "api" in ~1s
[debug] [2020-02-19T04:58:34.192Z] [worker-api-48f65d2d-3c1c-4915-90d4-6d10cbc9a171]: IDLE
[debug] [2020-02-19T04:58:34.192Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-02-19T04:58:39.140Z] File /Users/chrisaronchick/GitHub/splitsbyspotify/functions/handlers/spotify.js changed, reloading triggers
[debug] [2020-02-19T04:58:40.142Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-02-19T04:58:40.142Z] [worker-~diagnostic~-f144eeb4-3de3-4879-8d10-4e878c696f8a]: FINISHING
[debug] [2020-02-19T04:58:40.142Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-02-19T04:58:40.142Z] [worker-api-48f65d2d-3c1c-4915-90d4-6d10cbc9a171]: FINISHING
[debug] [2020-02-19T04:58:40.154Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-02-19T04:58:40.154Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-02-19T04:58:40.154Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-02-19T04:58:40.155Z] [worker-~diagnostic~-ad431d69-0106-4f69-b215-4bf189cc26b3]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_50914.sock
[debug] [2020-02-19T04:58:40.156Z] [worker-~diagnostic~-ad431d69-0106-4f69-b215-4bf189cc26b3]: BUSY
[debug] [2020-02-19T04:58:40.157Z] [worker-~diagnostic~-f144eeb4-3de3-4879-8d10-4e878c696f8a]: exited
[debug] [2020-02-19T04:58:40.158Z] [worker-~diagnostic~-f144eeb4-3de3-4879-8d10-4e878c696f8a]: FINISHED
[debug] [2020-02-19T04:58:40.158Z] [worker-api-48f65d2d-3c1c-4915-90d4-6d10cbc9a171]: exited
[debug] [2020-02-19T04:58:40.158Z] [worker-api-48f65d2d-3c1c-4915-90d4-6d10cbc9a171]: FINISHED
[debug] [2020-02-19T04:58:40.564Z] [runtime-status] [50914] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T04:58:40.566Z] [runtime-status] [50914] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T04:58:40.569Z] [runtime-status] [50914] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T04:58:40.570Z] [runtime-status] [50914] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T04:58:40.571Z] [runtime-status] [50914] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T04:58:41.237Z] [worker-~diagnostic~-ad431d69-0106-4f69-b215-4bf189cc26b3]: IDLE
[debug] [2020-02-19T04:58:45.698Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-02-19T04:58:45.698Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-02-19T04:58:45.698Z] Accepted request POST /splitsbyspotify/us-central1/api/spotifyLogin --> api
[debug] [2020-02-19T04:58:45.698Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-02-19T04:58:45.698Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-02-19T04:58:45.703Z] [worker-pool] addWorker(api)
[debug] [2020-02-19T04:58:45.703Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-02-19T04:58:45.703Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-02-19T04:58:45.703Z] [worker-api-0f0f4fe2-06d9-412e-b55a-da05eef78842]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_50924.sock
[debug] [2020-02-19T04:58:45.704Z] [worker-api-0f0f4fe2-06d9-412e-b55a-da05eef78842]: BUSY
[debug] [2020-02-19T04:58:46.089Z] [runtime-status] [50924] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T04:58:46.091Z] [runtime-status] [50924] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T04:58:46.094Z] [runtime-status] [50924] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T04:58:46.096Z] [runtime-status] [50924] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T04:58:46.097Z] [runtime-status] [50924] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T04:58:46.783Z] [runtime-status] [50924] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-02-19T04:58:46.784Z] [runtime-status] [50924] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-02-19T04:58:46.784Z] [runtime-status] [50924] Running api in mode HTTPS
[debug] [2020-02-19T04:58:46.794Z] [runtime-status] [50924] Attempting to listen to socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_50924.sock
[debug] [2020-02-19T04:58:46.797Z] [functions] Runtime ready! Sending request!
[debug] [2020-02-19T04:58:46.812Z] [runtime-status] [50924] Ephemeral server handling POST request
[info] >  authOptions.url:  https://accounts.spotify.com/api/token authOptions.headers {
[info] >    Authorization: 'Basic NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=',
[info] >    'Content-Type': 'application/x-www-form-urlencoded'
[info] >  } authOptions.url:  https://accounts.spotify.com/api/token
[debug] [2020-02-19T04:58:46.822Z] [runtime-status] [50924] Ephemeral server survived.
[info] >  getSpotifyTokenError HTTPError: Bad Request
[info] >      at fn (/Users/chrisaronchick/GitHub/splitsbyspotify/node_modules/ky/umd.js:279:12)
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {
[info] >    name: 'HTTPError',
[info] >    response: Body {
[info] >      url: 'https://accounts.spotify.com/api/token',
[info] >      status: 400,
[info] >      statusText: 'Bad Request',
[info] >      headers: Headers { _headers: [Object] },
[info] >      ok: false,
[info] >      body: Gunzip {
[info] >        _writeState: [Uint32Array],
[info] >        _readableState: [ReadableState],
[info] >        readable: true,
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 6,
[info] >        _maxListeners: undefined,
[info] >        _writableState: [WritableState],
[info] >        writable: true,
[info] >        allowHalfOpen: true,
[info] >        _transformState: [Object],
[info] >        _hadError: false,
[info] >        bytesWritten: 0,
[info] >        _handle: [Zlib],
[info] >        _outBuffer: <Buffer 00 00 00 00 00 00 00 00 8b 04 86 04 01 00 00 00 00 dc 86 04 01 00 00 00 b2 23 86 04 01 00 00 00 70 23 86 04 01 00 00 00 80 23 86 04 01 00 00 00 98 23 ... 16334 more bytes>,
[info] >        _outOffset: 0,
[info] >        _chunkSize: 16384,
[info] >        _defaultFlushFlag: 0,
[info] >        _finishFlushFlag: 4,
[info] >        _defaultFullFlushFlag: 3,
[info] >        _info: undefined,
[info] >        _level: -1,
[info] >        _strategy: 0
[info] >      },
[info] >      bodyUsed: false,
[info] >      size: 0,
[info] >      timeout: 10000,
[info] >      _raw: [],
[info] >      _abort: false
[info] >    }
[info] >  }
[info] i  functions: Finished "api" in ~1s
[debug] [2020-02-19T04:58:48.138Z] [worker-api-0f0f4fe2-06d9-412e-b55a-da05eef78842]: IDLE
[debug] [2020-02-19T04:58:48.138Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-02-19T04:58:56.195Z] File /Users/chrisaronchick/GitHub/splitsbyspotify/functions/handlers/spotify.js changed, reloading triggers
[debug] [2020-02-19T04:58:57.200Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-02-19T04:58:57.200Z] [worker-~diagnostic~-ad431d69-0106-4f69-b215-4bf189cc26b3]: FINISHING
[debug] [2020-02-19T04:58:57.201Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-02-19T04:58:57.201Z] [worker-api-0f0f4fe2-06d9-412e-b55a-da05eef78842]: FINISHING
[debug] [2020-02-19T04:58:57.206Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-02-19T04:58:57.206Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-02-19T04:58:57.206Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-02-19T04:58:57.206Z] [worker-~diagnostic~-b743b8d5-ff08-4465-8feb-847e658ceba9]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_50928.sock
[debug] [2020-02-19T04:58:57.206Z] [worker-~diagnostic~-b743b8d5-ff08-4465-8feb-847e658ceba9]: BUSY
[debug] [2020-02-19T04:58:57.212Z] [worker-~diagnostic~-ad431d69-0106-4f69-b215-4bf189cc26b3]: exited
[debug] [2020-02-19T04:58:57.212Z] [worker-~diagnostic~-ad431d69-0106-4f69-b215-4bf189cc26b3]: FINISHED
[debug] [2020-02-19T04:58:57.212Z] [worker-api-0f0f4fe2-06d9-412e-b55a-da05eef78842]: exited
[debug] [2020-02-19T04:58:57.212Z] [worker-api-0f0f4fe2-06d9-412e-b55a-da05eef78842]: FINISHED
[debug] [2020-02-19T04:58:57.484Z] [runtime-status] [50928] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T04:58:57.486Z] [runtime-status] [50928] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T04:58:57.487Z] [runtime-status] [50928] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T04:58:57.488Z] [runtime-status] [50928] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T04:58:57.489Z] [runtime-status] [50928] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T04:58:57.990Z] [worker-~diagnostic~-b743b8d5-ff08-4465-8feb-847e658ceba9]: IDLE
[debug] [2020-02-19T04:59:52.969Z] File /Users/chrisaronchick/GitHub/splitsbyspotify/functions/handlers/spotify.js changed, reloading triggers
[debug] [2020-02-19T04:59:53.973Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-02-19T04:59:53.973Z] [worker-~diagnostic~-b743b8d5-ff08-4465-8feb-847e658ceba9]: FINISHING
[debug] [2020-02-19T04:59:53.973Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-02-19T04:59:53.973Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-02-19T04:59:53.980Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-02-19T04:59:53.980Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-02-19T04:59:53.980Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-02-19T04:59:53.980Z] [worker-~diagnostic~-fedafdec-9639-43fb-9681-c0adb68299f0]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_50960.sock
[debug] [2020-02-19T04:59:53.980Z] [worker-~diagnostic~-fedafdec-9639-43fb-9681-c0adb68299f0]: BUSY
[debug] [2020-02-19T04:59:53.982Z] [worker-~diagnostic~-b743b8d5-ff08-4465-8feb-847e658ceba9]: exited
[debug] [2020-02-19T04:59:53.983Z] [worker-~diagnostic~-b743b8d5-ff08-4465-8feb-847e658ceba9]: FINISHED
[debug] [2020-02-19T04:59:54.406Z] [runtime-status] [50960] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T04:59:54.408Z] [runtime-status] [50960] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T04:59:54.411Z] [runtime-status] [50960] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T04:59:54.412Z] [runtime-status] [50960] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T04:59:54.413Z] [runtime-status] [50960] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T04:59:55.225Z] [worker-~diagnostic~-fedafdec-9639-43fb-9681-c0adb68299f0]: IDLE
[debug] [2020-02-19T05:00:01.935Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-02-19T05:00:01.935Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-02-19T05:00:01.935Z] Accepted request POST /splitsbyspotify/us-central1/api/spotifyLogin --> api
[debug] [2020-02-19T05:00:01.935Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-02-19T05:00:01.939Z] [worker-pool] addWorker(api)
[debug] [2020-02-19T05:00:01.939Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-02-19T05:00:01.939Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-02-19T05:00:01.940Z] [worker-api-50eab3f2-6824-4e44-abaa-fcb485fbe408]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_50962.sock
[debug] [2020-02-19T05:00:01.940Z] [worker-api-50eab3f2-6824-4e44-abaa-fcb485fbe408]: BUSY
[debug] [2020-02-19T05:00:02.223Z] [runtime-status] [50962] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T05:00:02.224Z] [runtime-status] [50962] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T05:00:02.226Z] [runtime-status] [50962] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T05:00:02.227Z] [runtime-status] [50962] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T05:00:02.228Z] [runtime-status] [50962] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T05:00:02.764Z] [runtime-status] [50962] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-02-19T05:00:02.765Z] [runtime-status] [50962] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-02-19T05:00:02.765Z] [runtime-status] [50962] Running api in mode HTTPS
[debug] [2020-02-19T05:00:02.775Z] [runtime-status] [50962] Attempting to listen to socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_50962.sock
[debug] [2020-02-19T05:00:02.778Z] [functions] Runtime ready! Sending request!
[debug] [2020-02-19T05:00:02.792Z] [runtime-status] [50962] Ephemeral server handling POST request
[info] >  authOptions.url:  https://accounts.spotify.com/api/token authOptions.headers {
[info] >    Authorization: 'Basic NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=',
[info] >    'Content-Type': 'application/x-www-form-urlencoded'
[info] >  } authOptions.url:  https://accounts.spotify.com/api/token
[debug] [2020-02-19T05:00:02.798Z] [runtime-status] [50962] Ephemeral server survived.
[info] >  getSpotifyTokenError HTTPError: Unsupported Media Type
[info] >      at fn (/Users/chrisaronchick/GitHub/splitsbyspotify/node_modules/ky/umd.js:279:12)
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {
[info] >    name: 'HTTPError',
[info] >    response: Body {
[info] >      url: 'https://accounts.spotify.com/api/token',
[info] >      status: 415,
[info] >      statusText: 'Unsupported Media Type',
[info] >      headers: Headers { _headers: [Object] },
[info] >      ok: false,
[info] >      body: Gunzip {
[info] >        _writeState: [Uint32Array],
[info] >        _readableState: [ReadableState],
[info] >        readable: true,
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 6,
[info] >        _maxListeners: undefined,
[info] >        _writableState: [WritableState],
[info] >        writable: true,
[info] >        allowHalfOpen: true,
[info] >        _transformState: [Object],
[info] >        _hadError: false,
[info] >        bytesWritten: 0,
[info] >        _handle: [Zlib],
[info] >        _outBuffer: <Buffer 00 00 00 00 00 00 00 00 8b 28 07 03 01 00 00 00 00 26 0f 03 01 00 00 00 aa 47 07 03 01 00 00 00 70 47 07 03 01 00 00 00 80 47 07 03 01 00 00 00 98 47 ... 16334 more bytes>,
[info] >        _outOffset: 0,
[info] >        _chunkSize: 16384,
[info] >        _defaultFlushFlag: 0,
[info] >        _finishFlushFlag: 4,
[info] >        _defaultFullFlushFlag: 3,
[info] >        _info: undefined,
[info] >        _level: -1,
[info] >        _strategy: 0
[info] >      },
[info] >      bodyUsed: false,
[info] >      size: 0,
[info] >      timeout: 10000,
[info] >      _raw: [],
[info] >      _abort: false
[info] >    }
[info] >  }
[info] i  functions: Finished "api" in ~1s
[debug] [2020-02-19T05:00:03.030Z] [worker-api-50eab3f2-6824-4e44-abaa-fcb485fbe408]: IDLE
[debug] [2020-02-19T05:00:03.030Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-02-19T05:00:22.423Z] File /Users/chrisaronchick/GitHub/splitsbyspotify/functions/handlers/spotify.js changed, reloading triggers
[debug] [2020-02-19T05:00:23.428Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-02-19T05:00:23.428Z] [worker-~diagnostic~-fedafdec-9639-43fb-9681-c0adb68299f0]: FINISHING
[debug] [2020-02-19T05:00:23.428Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-02-19T05:00:23.428Z] [worker-api-50eab3f2-6824-4e44-abaa-fcb485fbe408]: FINISHING
[debug] [2020-02-19T05:00:23.437Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-02-19T05:00:23.437Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-02-19T05:00:23.437Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-02-19T05:00:23.438Z] [worker-~diagnostic~-0b41bc4e-1834-4296-9ad7-9d79ed2e8c3c]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_50976.sock
[debug] [2020-02-19T05:00:23.438Z] [worker-~diagnostic~-0b41bc4e-1834-4296-9ad7-9d79ed2e8c3c]: BUSY
[debug] [2020-02-19T05:00:23.438Z] [worker-api-50eab3f2-6824-4e44-abaa-fcb485fbe408]: exited
[debug] [2020-02-19T05:00:23.438Z] [worker-api-50eab3f2-6824-4e44-abaa-fcb485fbe408]: FINISHED
[debug] [2020-02-19T05:00:23.439Z] [worker-~diagnostic~-fedafdec-9639-43fb-9681-c0adb68299f0]: exited
[debug] [2020-02-19T05:00:23.439Z] [worker-~diagnostic~-fedafdec-9639-43fb-9681-c0adb68299f0]: FINISHED
[debug] [2020-02-19T05:00:23.846Z] [runtime-status] [50976] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T05:00:23.847Z] [runtime-status] [50976] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T05:00:23.850Z] [runtime-status] [50976] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T05:00:23.852Z] [runtime-status] [50976] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T05:00:23.852Z] [runtime-status] [50976] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T05:00:24.757Z] [worker-~diagnostic~-0b41bc4e-1834-4296-9ad7-9d79ed2e8c3c]: IDLE
[debug] [2020-02-19T05:00:29.354Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-02-19T05:00:29.354Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-02-19T05:00:29.354Z] Accepted request POST /splitsbyspotify/us-central1/api/spotifyLogin --> api
[debug] [2020-02-19T05:00:29.354Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-02-19T05:00:29.354Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-02-19T05:00:29.362Z] [worker-pool] addWorker(api)
[debug] [2020-02-19T05:00:29.362Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-02-19T05:00:29.362Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-02-19T05:00:29.362Z] [worker-api-8c619f14-1bb9-4c60-824c-6a4044ac7815]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_50977.sock
[debug] [2020-02-19T05:00:29.362Z] [worker-api-8c619f14-1bb9-4c60-824c-6a4044ac7815]: BUSY
[debug] [2020-02-19T05:00:30.066Z] [runtime-status] [50977] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T05:00:30.068Z] [runtime-status] [50977] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T05:00:30.070Z] [runtime-status] [50977] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T05:00:30.071Z] [runtime-status] [50977] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T05:00:30.073Z] [runtime-status] [50977] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T05:00:31.492Z] [runtime-status] [50977] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-02-19T05:00:31.492Z] [runtime-status] [50977] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-02-19T05:00:31.492Z] [runtime-status] [50977] Running api in mode HTTPS
[debug] [2020-02-19T05:00:31.504Z] [runtime-status] [50977] Attempting to listen to socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_50977.sock
[debug] [2020-02-19T05:00:31.508Z] [functions] Runtime ready! Sending request!
[debug] [2020-02-19T05:00:31.520Z] [runtime-status] [50977] Ephemeral server handling POST request
[info] >  authOptions.url:  https://accounts.spotify.com/api/token authOptions.headers {
[info] >    Authorization: 'Basic NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=',
[info] >    'Content-Type': 'application/x-www-form-urlencoded'
[info] >  } authOptions.url:  https://accounts.spotify.com/api/token
[debug] [2020-02-19T05:00:31.526Z] [runtime-status] [50977] Ephemeral server survived.
[info] >  getSpotifyTokenError HTTPError: Unsupported Media Type
[info] >      at fn (/Users/chrisaronchick/GitHub/splitsbyspotify/node_modules/ky/umd.js:279:12)
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {
[info] >    name: 'HTTPError',
[info] >    response: Body {
[info] >      url: 'https://accounts.spotify.com/api/token',
[info] >      status: 415,
[info] >      statusText: 'Unsupported Media Type',
[info] >      headers: Headers { _headers: [Object] },
[info] >      ok: false,
[info] >      body: Gunzip {
[info] >        _writeState: [Uint32Array],
[info] >        _readableState: [ReadableState],
[info] >        readable: true,
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 6,
[info] >        _maxListeners: undefined,
[info] >        _writableState: [WritableState],
[info] >        writable: true,
[info] >        allowHalfOpen: true,
[info] >        _transformState: [Object],
[info] >        _hadError: false,
[info] >        bytesWritten: 0,
[info] >        _handle: [Zlib],
[info] >        _outBuffer: <Buffer 00 00 00 00 00 00 00 00 8b 2e 11 04 01 00 00 00 00 00 00 00 00 00 00 00 8b 3b 11 04 01 00 00 00 c8 cb 11 04 01 00 00 00 14 6c 65 21 01 00 00 00 00 00 ... 16334 more bytes>,
[info] >        _outOffset: 0,
[info] >        _chunkSize: 16384,
[info] >        _defaultFlushFlag: 0,
[info] >        _finishFlushFlag: 4,
[info] >        _defaultFullFlushFlag: 3,
[info] >        _info: undefined,
[info] >        _level: -1,
[info] >        _strategy: 0
[info] >      },
[info] >      bodyUsed: false,
[info] >      size: 0,
[info] >      timeout: 10000,
[info] >      _raw: [],
[info] >      _abort: false
[info] >    }
[info] >  }
[info] i  functions: Finished "api" in ~1s
[debug] [2020-02-19T05:00:31.748Z] [worker-api-8c619f14-1bb9-4c60-824c-6a4044ac7815]: IDLE
[debug] [2020-02-19T05:00:31.749Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-02-19T05:00:57.825Z] File /Users/chrisaronchick/GitHub/splitsbyspotify/functions/handlers/spotify.js changed, reloading triggers
[debug] [2020-02-19T05:00:58.829Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-02-19T05:00:58.829Z] [worker-~diagnostic~-0b41bc4e-1834-4296-9ad7-9d79ed2e8c3c]: FINISHING
[debug] [2020-02-19T05:00:58.829Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-02-19T05:00:58.830Z] [worker-api-8c619f14-1bb9-4c60-824c-6a4044ac7815]: FINISHING
[debug] [2020-02-19T05:00:58.851Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-02-19T05:00:58.852Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-02-19T05:00:58.852Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-02-19T05:00:58.852Z] [worker-~diagnostic~-fb916576-ab1a-4ef2-a96c-508c6a84b8d4]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_50999.sock
[debug] [2020-02-19T05:00:58.852Z] [worker-~diagnostic~-fb916576-ab1a-4ef2-a96c-508c6a84b8d4]: BUSY
[debug] [2020-02-19T05:00:58.853Z] [worker-~diagnostic~-0b41bc4e-1834-4296-9ad7-9d79ed2e8c3c]: exited
[debug] [2020-02-19T05:00:58.854Z] [worker-~diagnostic~-0b41bc4e-1834-4296-9ad7-9d79ed2e8c3c]: FINISHED
[debug] [2020-02-19T05:00:58.854Z] [worker-api-8c619f14-1bb9-4c60-824c-6a4044ac7815]: exited
[debug] [2020-02-19T05:00:58.854Z] [worker-api-8c619f14-1bb9-4c60-824c-6a4044ac7815]: FINISHED
[debug] [2020-02-19T05:00:59.872Z] File /Users/chrisaronchick/GitHub/splitsbyspotify/functions/handlers/spotify.js changed, reloading triggers
[debug] [2020-02-19T05:00:59.972Z] File /Users/chrisaronchick/GitHub/splitsbyspotify/functions/handlers/spotify.js changed, reloading triggers
[debug] [2020-02-19T05:00:59.984Z] [runtime-status] [50999] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T05:00:59.989Z] [runtime-status] [50999] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T05:00:59.992Z] [runtime-status] [50999] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T05:01:00.006Z] [runtime-status] [50999] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T05:01:00.011Z] [runtime-status] [50999] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T05:01:00.973Z] [worker-pool] Marking BUSY worker to finish (~diagnostic~)
[debug] [2020-02-19T05:01:00.973Z] [worker-~diagnostic~-fb916576-ab1a-4ef2-a96c-508c6a84b8d4]: FINISHING
[debug] [2020-02-19T05:01:00.973Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-02-19T05:01:00.973Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-02-19T05:01:00.979Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-02-19T05:01:00.979Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-02-19T05:01:00.979Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-02-19T05:01:00.979Z] [worker-~diagnostic~-837d3949-4c87-4315-a607-bb4244da14f6]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_51009.sock
[debug] [2020-02-19T05:01:00.979Z] [worker-~diagnostic~-837d3949-4c87-4315-a607-bb4244da14f6]: BUSY
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T05:01:01.130Z] [worker-~diagnostic~-fb916576-ab1a-4ef2-a96c-508c6a84b8d4]: IDLE --> FINISHING
[debug] [2020-02-19T05:01:01.139Z] [worker-~diagnostic~-fb916576-ab1a-4ef2-a96c-508c6a84b8d4]: exited
[debug] [2020-02-19T05:01:01.139Z] [worker-~diagnostic~-fb916576-ab1a-4ef2-a96c-508c6a84b8d4]: FINISHED
[debug] [2020-02-19T05:01:01.153Z] File /Users/chrisaronchick/GitHub/splitsbyspotify/functions/handlers/spotify.js changed, reloading triggers
[debug] [2020-02-19T05:01:01.393Z] [runtime-status] [51009] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T05:01:01.394Z] [runtime-status] [51009] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T05:01:01.397Z] [runtime-status] [51009] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T05:01:01.398Z] [runtime-status] [51009] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T05:01:01.399Z] [runtime-status] [51009] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T05:01:02.153Z] [worker-pool] Marking BUSY worker to finish (~diagnostic~)
[debug] [2020-02-19T05:01:02.153Z] [worker-~diagnostic~-837d3949-4c87-4315-a607-bb4244da14f6]: FINISHING
[debug] [2020-02-19T05:01:02.153Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-02-19T05:01:02.159Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-02-19T05:01:02.159Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-02-19T05:01:02.159Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-02-19T05:01:02.159Z] [worker-~diagnostic~-5ab44027-3cba-4a4e-97f4-ee1cd634887f]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_51011.sock
[debug] [2020-02-19T05:01:02.159Z] [worker-~diagnostic~-5ab44027-3cba-4a4e-97f4-ee1cd634887f]: BUSY
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T05:01:02.213Z] [worker-~diagnostic~-837d3949-4c87-4315-a607-bb4244da14f6]: IDLE --> FINISHING
[debug] [2020-02-19T05:01:02.223Z] [worker-~diagnostic~-837d3949-4c87-4315-a607-bb4244da14f6]: exited
[debug] [2020-02-19T05:01:02.223Z] [worker-~diagnostic~-837d3949-4c87-4315-a607-bb4244da14f6]: FINISHED
[debug] [2020-02-19T05:01:02.449Z] [runtime-status] [51011] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T05:01:02.451Z] [runtime-status] [51011] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T05:01:02.453Z] [runtime-status] [51011] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T05:01:02.454Z] [runtime-status] [51011] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T05:01:02.454Z] [runtime-status] [51011] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T05:01:02.928Z] [worker-~diagnostic~-5ab44027-3cba-4a4e-97f4-ee1cd634887f]: IDLE
[debug] [2020-02-19T05:01:05.571Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-02-19T05:01:05.571Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-02-19T05:01:05.571Z] Accepted request POST /splitsbyspotify/us-central1/api/spotifyLogin --> api
[debug] [2020-02-19T05:01:05.571Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-02-19T05:01:05.576Z] [worker-pool] addWorker(api)
[debug] [2020-02-19T05:01:05.576Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-02-19T05:01:05.576Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-02-19T05:01:05.577Z] [worker-api-c79b4821-0cd6-423f-b90f-b497c828227f]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_51014.sock
[debug] [2020-02-19T05:01:05.577Z] [worker-api-c79b4821-0cd6-423f-b90f-b497c828227f]: BUSY
[debug] [2020-02-19T05:01:05.900Z] [runtime-status] [51014] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T05:01:05.902Z] [runtime-status] [51014] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T05:01:05.904Z] [runtime-status] [51014] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T05:01:05.905Z] [runtime-status] [51014] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T05:01:05.907Z] [runtime-status] [51014] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T05:01:06.738Z] [runtime-status] [51014] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-02-19T05:01:06.739Z] [runtime-status] [51014] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-02-19T05:01:06.739Z] [runtime-status] [51014] Running api in mode HTTPS
[debug] [2020-02-19T05:01:06.752Z] [runtime-status] [51014] Attempting to listen to socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_51014.sock
[debug] [2020-02-19T05:01:06.755Z] [functions] Runtime ready! Sending request!
[debug] [2020-02-19T05:01:06.772Z] [runtime-status] [51014] Ephemeral server handling POST request
[info] >  authOptions.url:  https://accounts.spotify.com/api/token authOptions.headers {
[info] >    Authorization: 'Basic NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=',
[info] >    'Content-Type': 'application/x-www-form-urlencoded'
[info] >  } authOptions.url:  https://accounts.spotify.com/api/token
[debug] [2020-02-19T05:01:06.784Z] [runtime-status] [51014] Ephemeral server survived.
[info] >  getSpotifyTokenError HTTPError: Bad Request
[info] >      at fn (/Users/chrisaronchick/GitHub/splitsbyspotify/node_modules/ky/umd.js:279:12)
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {
[info] >    name: 'HTTPError',
[info] >    response: Body {
[info] >      url: 'https://accounts.spotify.com/api/token',
[info] >      status: 400,
[info] >      statusText: 'Bad Request',
[info] >      headers: Headers { _headers: [Object] },
[info] >      ok: false,
[info] >      body: Gunzip {
[info] >        _writeState: [Uint32Array],
[info] >        _readableState: [ReadableState],
[info] >        readable: true,
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 6,
[info] >        _maxListeners: undefined,
[info] >        _writableState: [WritableState],
[info] >        writable: true,
[info] >        allowHalfOpen: true,
[info] >        _transformState: [Object],
[info] >        _hadError: false,
[info] >        bytesWritten: 0,
[info] >        _handle: [Zlib],
[info] >        _outBuffer: <Buffer 00 00 00 00 00 00 00 00 8b 20 00 00 a9 01 00 00 00 00 00 00 00 00 00 00 8b 20 00 00 2b 00 00 00 38 ee 0e 03 01 00 00 00 08 8c 0f 03 01 00 00 00 f9 1f ... 16334 more bytes>,
[info] >        _outOffset: 0,
[info] >        _chunkSize: 16384,
[info] >        _defaultFlushFlag: 0,
[info] >        _finishFlushFlag: 4,
[info] >        _defaultFullFlushFlag: 3,
[info] >        _info: undefined,
[info] >        _level: -1,
[info] >        _strategy: 0
[info] >      },
[info] >      bodyUsed: false,
[info] >      size: 0,
[info] >      timeout: 10000,
[info] >      _raw: [],
[info] >      _abort: false
[info] >    }
[info] >  }
[info] i  functions: Finished "api" in ~1s
[debug] [2020-02-19T05:01:07.028Z] [worker-api-c79b4821-0cd6-423f-b90f-b497c828227f]: IDLE
[debug] [2020-02-19T05:01:07.029Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-02-19T05:03:53.542Z] File /Users/chrisaronchick/GitHub/splitsbyspotify/functions/handlers/spotify.js changed, reloading triggers
[debug] [2020-02-19T05:03:54.547Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-02-19T05:03:54.547Z] [worker-~diagnostic~-5ab44027-3cba-4a4e-97f4-ee1cd634887f]: FINISHING
[debug] [2020-02-19T05:03:54.547Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-02-19T05:03:54.547Z] [worker-api-c79b4821-0cd6-423f-b90f-b497c828227f]: FINISHING
[debug] [2020-02-19T05:03:54.558Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-02-19T05:03:54.558Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-02-19T05:03:54.558Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-02-19T05:03:54.560Z] [worker-~diagnostic~-8c9fdd93-de5a-4845-8184-17fa91c6900b]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_51103.sock
[debug] [2020-02-19T05:03:54.560Z] [worker-~diagnostic~-8c9fdd93-de5a-4845-8184-17fa91c6900b]: BUSY
[debug] [2020-02-19T05:03:54.562Z] [worker-~diagnostic~-5ab44027-3cba-4a4e-97f4-ee1cd634887f]: exited
[debug] [2020-02-19T05:03:54.562Z] [worker-~diagnostic~-5ab44027-3cba-4a4e-97f4-ee1cd634887f]: FINISHED
[debug] [2020-02-19T05:03:54.562Z] [worker-api-c79b4821-0cd6-423f-b90f-b497c828227f]: exited
[debug] [2020-02-19T05:03:54.562Z] [worker-api-c79b4821-0cd6-423f-b90f-b497c828227f]: FINISHED
[debug] [2020-02-19T05:03:54.847Z] [runtime-status] [51103] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T05:03:54.849Z] [runtime-status] [51103] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T05:03:54.851Z] [runtime-status] [51103] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T05:03:54.852Z] [runtime-status] [51103] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T05:03:54.853Z] [runtime-status] [51103] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T05:03:55.473Z] [worker-~diagnostic~-8c9fdd93-de5a-4845-8184-17fa91c6900b]: IDLE
[debug] [2020-02-19T05:04:05.530Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-02-19T05:04:05.530Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-02-19T05:04:05.530Z] Accepted request POST /splitsbyspotify/us-central1/api/spotifyLogin --> api
[debug] [2020-02-19T05:04:05.531Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-02-19T05:04:05.531Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-02-19T05:04:05.536Z] [worker-pool] addWorker(api)
[debug] [2020-02-19T05:04:05.536Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-02-19T05:04:05.536Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-02-19T05:04:05.536Z] [worker-api-c711a756-617a-4183-86b3-77b687fc1ff8]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_51114.sock
[debug] [2020-02-19T05:04:05.537Z] [worker-api-c711a756-617a-4183-86b3-77b687fc1ff8]: BUSY
[debug] [2020-02-19T05:04:05.818Z] [runtime-status] [51114] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T05:04:05.820Z] [runtime-status] [51114] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T05:04:05.822Z] [runtime-status] [51114] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T05:04:05.823Z] [runtime-status] [51114] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T05:04:05.825Z] [runtime-status] [51114] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T05:04:06.310Z] [runtime-status] [51114] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-02-19T05:04:06.310Z] [runtime-status] [51114] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-02-19T05:04:06.310Z] [runtime-status] [51114] Running api in mode HTTPS
[debug] [2020-02-19T05:04:06.316Z] [runtime-status] [51114] Attempting to listen to socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_51114.sock
[debug] [2020-02-19T05:04:06.319Z] [functions] Runtime ready! Sending request!
[debug] [2020-02-19T05:04:06.327Z] [runtime-status] [51114] Ephemeral server handling POST request
[info] >  authOptions.url:  accounts.spotify.com/api/token authOptions.headers {
[info] >    Authorization: 'Basic NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=',
[info] >    'Content-Type': 'application/x-www-form-urlencoded'
[info] >  } authOptions.url:  accounts.spotify.com/api/token
[debug] [2020-02-19T05:04:06.332Z] [runtime-status] [51114] Ephemeral server survived.
[info] >  getSpotifyTokenError Error: only absolute urls are supported
[info] >      at /Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/isomorphic-fetch/node_modules/node-fetch/index.js:54:10
[info] >      at new Promise (<anonymous>)
[info] >      at new Fetch (/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/isomorphic-fetch/node_modules/node-fetch/index.js:49:9)
[info] >      at Fetch (/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/isomorphic-fetch/node_modules/node-fetch/index.js:37:10)
[info] >      at module.exports (/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/isomorphic-fetch/fetch-npm-node.js:8:19)
[info] >      at Ky._fetch (/Users/chrisaronchick/GitHub/splitsbyspotify/node_modules/ky/umd.js:401:27)
[info] >      at fn (/Users/chrisaronchick/GitHub/splitsbyspotify/node_modules/ky/umd.js:263:31)
[info] i  functions: Finished "api" in ~1s
[debug] [2020-02-19T05:04:06.357Z] [worker-api-c711a756-617a-4183-86b3-77b687fc1ff8]: IDLE
[debug] [2020-02-19T05:04:06.357Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-02-19T05:04:40.562Z] File /Users/chrisaronchick/GitHub/splitsbyspotify/functions/handlers/spotify.js changed, reloading triggers
[debug] [2020-02-19T05:04:41.565Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-02-19T05:04:41.565Z] [worker-~diagnostic~-8c9fdd93-de5a-4845-8184-17fa91c6900b]: FINISHING
[debug] [2020-02-19T05:04:41.565Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-02-19T05:04:41.565Z] [worker-api-c711a756-617a-4183-86b3-77b687fc1ff8]: FINISHING
[debug] [2020-02-19T05:04:41.573Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-02-19T05:04:41.573Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-02-19T05:04:41.573Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-02-19T05:04:41.573Z] [worker-~diagnostic~-a1236d7f-9f1a-42b0-aa44-bff65876d556]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_51146.sock
[debug] [2020-02-19T05:04:41.573Z] [worker-~diagnostic~-a1236d7f-9f1a-42b0-aa44-bff65876d556]: BUSY
[debug] [2020-02-19T05:04:41.574Z] [worker-~diagnostic~-8c9fdd93-de5a-4845-8184-17fa91c6900b]: exited
[debug] [2020-02-19T05:04:41.575Z] [worker-~diagnostic~-8c9fdd93-de5a-4845-8184-17fa91c6900b]: FINISHED
[debug] [2020-02-19T05:04:41.575Z] [worker-api-c711a756-617a-4183-86b3-77b687fc1ff8]: exited
[debug] [2020-02-19T05:04:41.575Z] [worker-api-c711a756-617a-4183-86b3-77b687fc1ff8]: FINISHED
[debug] [2020-02-19T05:04:41.859Z] [runtime-status] [51146] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T05:04:41.862Z] [runtime-status] [51146] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T05:04:41.863Z] [runtime-status] [51146] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T05:04:41.864Z] [runtime-status] [51146] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T05:04:41.865Z] [runtime-status] [51146] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T05:04:42.425Z] [worker-~diagnostic~-a1236d7f-9f1a-42b0-aa44-bff65876d556]: IDLE
[debug] [2020-02-19T05:04:42.930Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-02-19T05:04:42.931Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-02-19T05:04:42.931Z] Accepted request POST /splitsbyspotify/us-central1/api/spotifyLogin --> api
[debug] [2020-02-19T05:04:42.931Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-02-19T05:04:42.931Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-02-19T05:04:42.939Z] [worker-pool] addWorker(api)
[debug] [2020-02-19T05:04:42.939Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-02-19T05:04:42.939Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-02-19T05:04:42.939Z] [worker-api-dbc5d876-b355-4b52-9f24-ab38803f8641]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_51147.sock
[debug] [2020-02-19T05:04:42.940Z] [worker-api-dbc5d876-b355-4b52-9f24-ab38803f8641]: BUSY
[debug] [2020-02-19T05:04:43.309Z] [runtime-status] [51147] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T05:04:43.316Z] [runtime-status] [51147] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T05:04:43.319Z] [runtime-status] [51147] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T05:04:43.320Z] [runtime-status] [51147] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T05:04:43.321Z] [runtime-status] [51147] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T05:04:44.172Z] [runtime-status] [51147] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-02-19T05:04:44.173Z] [runtime-status] [51147] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-02-19T05:04:44.173Z] [runtime-status] [51147] Running api in mode HTTPS
[debug] [2020-02-19T05:04:44.185Z] [runtime-status] [51147] Attempting to listen to socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_51147.sock
[debug] [2020-02-19T05:04:44.190Z] [functions] Runtime ready! Sending request!
[debug] [2020-02-19T05:04:44.210Z] [runtime-status] [51147] Ephemeral server handling POST request
[info] >  authOptions.url:  https://accounts.spotify.com/api/token authOptions.headers {
[info] >    Authorization: 'Basic NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=',
[info] >    'Content-Type': 'application/x-www-form-urlencoded'
[info] >  } authOptions.url:  https://accounts.spotify.com/api/token
[debug] [2020-02-19T05:04:44.219Z] [runtime-status] [51147] Ephemeral server survived.
[info] >  getSpotifyTokenError HTTPError: Bad Request
[info] >      at fn (/Users/chrisaronchick/GitHub/splitsbyspotify/node_modules/ky/umd.js:279:12)
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {
[info] >    name: 'HTTPError',
[info] >    response: Body {
[info] >      url: 'https://accounts.spotify.com/api/token',
[info] >      status: 400,
[info] >      statusText: 'Bad Request',
[info] >      headers: Headers { _headers: [Object] },
[info] >      ok: false,
[info] >      body: Gunzip {
[info] >        _writeState: [Uint32Array],
[info] >        _readableState: [ReadableState],
[info] >        readable: true,
[info] >        _events: [Object: null prototype],
[info] >        _eventsCount: 6,
[info] >        _maxListeners: undefined,
[info] >        _writableState: [WritableState],
[info] >        writable: true,
[info] >        allowHalfOpen: true,
[info] >        _transformState: [Object],
[info] >        _hadError: false,
[info] >        bytesWritten: 0,
[info] >        _handle: [Zlib],
[info] >        _outBuffer: <Buffer 00 00 00 00 00 00 00 00 8b a8 09 03 01 00 00 00 00 9a 05 03 01 00 00 00 fc c7 09 03 01 00 00 00 70 c7 09 03 01 00 00 00 80 c7 09 03 01 00 00 00 98 c7 ... 16334 more bytes>,
[info] >        _outOffset: 0,
[info] >        _chunkSize: 16384,
[info] >        _defaultFlushFlag: 0,
[info] >        _finishFlushFlag: 4,
[info] >        _defaultFullFlushFlag: 3,
[info] >        _info: undefined,
[info] >        _level: -1,
[info] >        _strategy: 0
[info] >      },
[info] >      bodyUsed: false,
[info] >      size: 0,
[info] >      timeout: 10000,
[info] >      _raw: [],
[info] >      _abort: false
[info] >    }
[info] >  }
[info] i  functions: Finished "api" in ~1s
[debug] [2020-02-19T05:04:44.527Z] [worker-api-dbc5d876-b355-4b52-9f24-ab38803f8641]: IDLE
[debug] [2020-02-19T05:04:44.527Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-02-19T05:07:34.839Z] File /Users/chrisaronchick/GitHub/splitsbyspotify/functions/handlers/spotify.js changed, reloading triggers
[debug] [2020-02-19T05:07:35.844Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-02-19T05:07:35.844Z] [worker-~diagnostic~-a1236d7f-9f1a-42b0-aa44-bff65876d556]: FINISHING
[debug] [2020-02-19T05:07:35.844Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-02-19T05:07:35.844Z] [worker-api-dbc5d876-b355-4b52-9f24-ab38803f8641]: FINISHING
[debug] [2020-02-19T05:07:35.851Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-02-19T05:07:35.851Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-02-19T05:07:35.852Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-02-19T05:07:35.856Z] [worker-~diagnostic~-06256275-1022-4f33-a0de-3f88cf480153]: Assigning socketPath: /var/folders/dv/c5khshps6xg9hfrcmffd07wm0000gp/T/fire_emu_51225.sock
[debug] [2020-02-19T05:07:35.856Z] [worker-~diagnostic~-06256275-1022-4f33-a0de-3f88cf480153]: BUSY
[debug] [2020-02-19T05:07:35.858Z] [worker-~diagnostic~-a1236d7f-9f1a-42b0-aa44-bff65876d556]: exited
[debug] [2020-02-19T05:07:35.858Z] [worker-~diagnostic~-a1236d7f-9f1a-42b0-aa44-bff65876d556]: FINISHED
[debug] [2020-02-19T05:07:35.858Z] [worker-api-dbc5d876-b355-4b52-9f24-ab38803f8641]: exited
[debug] [2020-02-19T05:07:35.858Z] [worker-api-dbc5d876-b355-4b52-9f24-ab38803f8641]: FINISHED
[debug] [2020-02-19T05:07:36.162Z] [runtime-status] [51225] Functions runtime initialized. {"cwd":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions","node_version":"12.14.0"}
[debug] [2020-02-19T05:07:36.164Z] [runtime-status] [51225] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-02-19T05:07:36.167Z] [runtime-status] [51225] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.9.2","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-02-19T05:07:36.168Z] [runtime-status] [51225] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-02-19T05:07:36.169Z] [runtime-status] [51225] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/chrisaronchick/GitHub/splitsbyspotify/functions/node_modules/firebase-functions/lib/index.js"}
[info] >  new Buffer.from(client_id + ':' + client_secret).toString('base64'): NTM0YTgwNjc5NmVkNDI4OTljZDdhMzc4ZWNlZGY4Zjk6YTNmNDU4YmVkMjBhNGZjNWIzNGUwNjI0M2Q5MjgzYzc=
[debug] [2020-02-19T05:07:36.703Z] [worker-~diagnostic~-06256275-1022-4f33-a0de-3f88cf480153]: IDLE
